(function(e){function t(t){for(var i,r,o=t[0],c=t[1],u=t[2],f=0,d=[];f<o.length;f++)r=o[f],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);l&&l(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(i=!1)}i&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},s={app:0},a=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;a.push([0,"vendor"]),n()})({0:function(e,t,n){n("1fe4"),n("914e"),n("eb21"),e.exports=n("56d7")},"002e":function(e,t,n){"use strict";var i=n("cd87"),s=n.n(i);s.a},"00f8":function(e,t,n){"use strict";n.r(t);var i=n("3ee2"),s=n("f79f");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("5fd8");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},"02fe":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.requestPermission=l,t.show=f,t.listenForNewMessages=p;var a=i(n("e76e")),r=i(n("78b2")),o=i(n("2b0b")),c=i(n("2ef0")),u=!1;function l(e){if("Notification"in window)return"granted"===Notification.permission?(e.$emit("notification.enabled"),void(u=!0)):void("denied"!==Notification.permission&&Notification.requestPermission((function(t){"granted"===t?(e.$emit("notification.enabled"),u=!0):u=!1})));u=!1}function f(e,t,n){if(!u)return!1;var i,s=new Notification(e,{body:t,icon:n.icon});n.ttl&&(0,o.default)((0,r.default)(i=s.close).call(i,s),n.ttl);return s}var d=c.default.throttle(f,2e3);function p(e){e.$on("notification.show",(function(e,t){if(u){var n=(0,a.default)({title:"Kiwi IRC",message:e,icon:"",onclick:null,ttl:1e4},t);if(n.message){var i=d(n.title,n.message,{ttl:n.ttl});i&&"function"===typeof n.onclick&&(i.onclick=n.onclick)}}}))}window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["Notifications"],window._kiwi_exports.libs.Notifications=t.default?t.default:t},"0339":function(e,t,n){},"036e":function(e,t,n){"use strict";n.r(t);var i=n("bd1b"),s=n("96a1");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("dcac");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!0,null,"44d09d1c",null);t["default"]=o.exports},"040f":function(e,t){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})},"0470":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("a3e3")),r=c(),o=r;function c(e,t){function n(){n.info.apply(n,arguments)}function i(e){var i=t||n;return i.level>=e}return n.LEVEL_DEBUG=2,n.LEVEL_INFO=1,n.LEVEL_ERROR=0,n.level=n.LEVEL_ERROR,n.debug=function(){if(i(n.LEVEL_DEBUG)){for(var t,s,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];if(e)o[0]=(0,a.default)(s="[".concat(e,"] DEBUG ")).call(s,o[0]);(t=window.console).log.apply(t,o)}},n.info=function(){if(i(n.LEVEL_INFO)){for(var t,s,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];if(e)o[0]=(0,a.default)(s="[".concat(e,"] INFO ")).call(s,o[0]);(t=window.console).log.apply(t,o)}},n.error=function(){if(i(n.LEVEL_ERROR)){for(var t,s,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];if(e)o[0]=(0,a.default)(s="[".concat(e,"] ERROR ")).call(s,o[0]);(t=window.console).error.apply(t,o)}},n.assert=function(e){var t;if(!e){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];this.error.apply(this,(0,a.default)(t=["Assertion failed."]).call(t,i))}},n.setLevel=function(e){n.level=e},n.namespace=function(t){var i,s=t;e&&(s=(0,a.default)(i="[".concat(e,"][")).call(i,s,"]"));return c(s,n)},n}t.default=o,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["Logger"],window._kiwi_exports.libs.Logger=t.default?t.default:t},"059c":function(e,t,n){"use strict";n.r(t);var i=n("8be5"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"05d6":function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("280c")),o=s(n("65b8")),c=s(n("acf5")),u=s(n("9f12")),l=s(n("53fe")),f=s(n("5ee5")),d=n("bb3c"),p=i(n("5c34")),h=function(){function e(t,n,i,s){var a=this;(0,u.default)(this,e),this.id=t,this.name="",this.editable_name=!1,this.state="disconnected",this.state_error="",this.last_error="",this.auto_commands="",this.is_znc=!1,this.is_bnc=!1,this.hidden=!1,this.channel_list=[],this.channel_list_state="",this.ircd="",this.connection={server:"",port:6667,tls:!1,path:"",password:"",direct:!1,encoding:"utf8",bncnetid:"",nick:""},this.settings={show_raw_caps:!1},this.nick="",this.username="",this.gecos="",this.password="",this.away="",f.default.observable(this),(0,d.def)(this,"appState",n,!1),(0,d.def)(this,"userDict",i,!1),(0,d.def)(this,"bufferDict",s,!1),(0,d.def)(this,"frameworkClient",null,!0),(0,d.def)(this,"users",(0,c.default)(null),(function(e){n.$set(i.networks,a.id,e)})),(0,d.def)(this,"pendingPms",[],!1),s.$set(s.networks,this.id,[])}return(0,l.default)(e,[{key:"connect",value:function(){var e;(e=this.ircClient).connect.apply(e,arguments)}},{key:"bufferByName",value:function(e){return this.appState.getBufferByName(this.id,e)}},{key:"serverBuffer",value:function(){return this.appState.getBufferByName(this.id,"*")}},{key:"setting",value:function(e,t){return"undefined"!==typeof t?(this.appState.$set(this.settings,e,t),t):this.settings[e]}},{key:"isChannelName",value:function(e){if("string"!==typeof e||!e)return!1;var t=this.ircClient.network.supports("CHANTYPES")||"#&";return(0,o.default)(t).call(t,e[0])>-1}},{key:"showServerBuffer",value:function(e){var t=this;this.appState.$emit("active.component",null),this.appState.setActiveBuffer(this.id,this.serverBuffer().name),(0,r.default)((function(){t.appState.$emit("server.tab.show",e||"settings")}))}},{key:"isNickExemptFromPmBlocks",value:function(e){for(var t=this.appState.getBuffersWithUser(this.id,e),n=0;n<t.length;n++){var i=t[n];if(i.isUserAnOp(e))return!0}var s=this.appState.getUser((0,o.default)(this),e);return s&&s.hasWhois?!!s.operator:null}},{key:"currentUser",value:function(){return this.appState.getUser(this.id,this.nick)}},{key:"userByName",value:function(e){return this.appState.getUser(this.id,e)}},{key:"ircClient",get:function(){return this.frameworkClient||(this.frameworkClient=p.create(this.appState,this)),this.frameworkClient}},{key:"buffers",get:function(){return this.bufferDict.networks[this.id]}}]),e}();t.default=h},"0789":function(e,t,n){"use strict";n.r(t);var i=n("7fb8"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"07a8":function(e,t,n){"use strict";var i=n("2d80");i(t,"__esModule",{value:!0}),t.default=void 0;var s={props:{},avatar:function(e){return e.message&&e.message.avatar||e.user&&e.user.avatar},firstNickLetter:function(e){return(e.message&&e.message.nick||e.user&&e.user.nick||"")[0]},hasAvatar:function(e){return!(!e.user.avatar||!e.user.avatar.small&&!e.user.avatar.large)},avatarStyle:function(e){var t={};if(this.hasAvatar(e)){var n="small"===e.size&&this.avatar(e).small?this.avatar(e).small:this.avatar(e).large;t["background-image"]='url("'.concat(n,'")')}else t["background-color"]="".concat(this.colour(e));return t},colour:function(e){var t=e.message&&e.message.user||e.user;return t.getColour()}},a={props:{message:Object,user:Object,size:String},m:s};t.default=a,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["Avatar"],window._kiwi_exports.components.Avatar=t.default?t.default:t},"07be":function(e,t,n){"use strict";n.r(t);var i=n("78e5"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"0b4a":function(e,t,n){},"0b98":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("startup-layout",{ref:"layout",staticClass:"kiwi-welcome-znc",scopedSlots:e._u([e.network&&"disconnected"!==e.network.state?"connected"!==e.network.state?{key:"connection",fn:function(){return[n("i",{staticClass:"fa fa-spin fa-spinner",staticStyle:{"font-size":"2em","margin-top":"1em"}})]},proxy:!0}:null:{key:"connection",fn:function(){return[n("form",{staticClass:"u-form u-form--big kiwi-welcome-znc-form",on:{submit:function(t){return t.preventDefault(),e.formSubmit(t)}}},[n("h2",{domProps:{innerHTML:e._s(e.greetingText)}}),e.network&&(e.network.last_error||e.network.state_error)?n("div",{staticClass:"kiwi-welcome-znc-error"},[e._v(" We couldn't connect to the server :( "),n("span",[e._v(" "+e._s(e.network.last_error||e.readableStateError(e.network.state_error))+" ")])]):e._e(),e.showUser?n("input-text",{staticClass:"kiwi-welcome-znc-nick",attrs:{label:e.$t("username")},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}):e._e(),e.showPass?n("input-text",{staticClass:"kiwi-welcome-znc-password",attrs:{label:e.$t("password"),type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}):e._e(),e.showNetwork?n("input-text",{staticClass:"kiwi-welcome-znc-channel",attrs:{label:e.$t("network")},model:{value:e.znc_network,callback:function(t){e.znc_network=t},expression:"znc_network"}}):e._e(),n("button",{staticClass:"u-button u-button-primary u-submit kiwi-welcome-znc-start",attrs:{disabled:!e.readyToStart,type:"submit"},domProps:{innerHTML:e._s(e.buttonText)}})],1)]},proxy:!0}],null,!0)})},s=[]},"0c2e":function(e,t,n){"use strict";var i=n("45ab"),s=n.n(i);s.a},"0eca":function(e,t,n){},1:function(e,t){},1001:function(e,t,n){},1078:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{key:"messagelist-"+e.buffer.name,staticClass:"kiwi-messagelist",class:{"kiwi-messagelist--smoothscroll":e.smooth_scroll},on:{click:function(t){return t.target!==t.currentTarget?null:e.onListClick(t)}}},[n("div",{directives:[{name:"resizeobserver",rawName:"v-resizeobserver",value:e.onListResize,expression:"onListResize"}]},[e.shouldShowChathistoryTools?n("div",{staticClass:"kiwi-messagelist-scrollback"},[e.buffer.flag("is_requesting_chathistory")?n("a",{staticClass:"u-link"},[e._v("...")]):n("a",{staticClass:"u-link",on:{click:function(t){return e.buffer.requestScrollback()}}},[e._v(" "+e._s(e.$t("messages_load"))+" ")])]):e._e(),e._l(e.filteredMessagesGroupedDay,(function(t){return n("div",{key:t.dayNum},[e.filteredMessagesGroupedDay.length>1&&t.messages.length>0?n("div",{key:"msgdatemarker"+t.dayNum,staticClass:"kiwi-messagelist-seperator"},[n("span",[e._v(e._s(new Date(t.messages[0].time).toDateString()))])]):e._e(),e._l(t.messages,(function(t){return[e.shouldShowUnreadMarker(t)?n("div",{key:"msgunreadmarker"+t.id,staticClass:"kiwi-messagelist-seperator"},[n("span",[e._v(e._s(e.$t("unread_messages")))])]):e._e(),n("div",{key:"msg"+t.id,class:["kiwi-messagelist-item",e.selectedMessages[t.id]?"kiwi-messagelist-item--selected":""]},[t.render()&&t.template&&t.template.$el?n("div",{directives:[{name:"rawElement",rawName:"v-rawElement",value:t.template.$el,expression:"message.template.$el"}]}):"modern"===e.listType?n("message-list-message-modern",{attrs:{message:t,idx:e.filteredMessages.indexOf(t),ml:e.thisMl}}):"inline"===e.listType?n("message-list-message-inline",{attrs:{message:t,idx:e.filteredMessages.indexOf(t),ml:e.thisMl}}):"compact"===e.listType?n("message-list-message-compact",{attrs:{message:t,idx:e.filteredMessages.indexOf(t),ml:e.thisMl}}):e._e()],1)]}))],2)})),n("transition",{attrs:{name:"kiwi-messagelist-joinloadertrans"}},[e.shouldShowJoiningLoader?n("div",{staticClass:"kiwi-messagelist-joinloader"},[n("LoadingAnimation")],1):e._e()]),e.shouldRequestChannelKey?n("buffer-key",{attrs:{buffer:e.buffer,network:e.buffer.getNetwork()}}):e._e()],2)])},s=[]},1109:function(e,t,n){"use strict";n.r(t);var i=n("2b9c"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"118f":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=d,t.createNewBlock=p;var a=i(n("e76e")),r=i(n("9474")),o=i(n("fa81")),c=i(n("4573")),u=i(n("65b8")),l=i(n("acf5")),f=(0,l.default)(null);function d(e,t){var n=t||{},i=p(),s=[i],r=(0,l.default)(null),o=0,c=e.length;while(o<c){var u=w();if(!u||!n.extras&&u.extra)i.content+=e[o],i.containsContent=!0,o++;else{var d=null;d=i.containsContent?p():i,(0,a.default)(d.styles,i.styles);var h=u.fn(e,o,d,i,r);-1!==h?(i=d,s[s.length-1]!==d&&s.push(d),"number"===typeof h?o=h:o+=u.token.length):(i.content+=u.token,i.containsContent=!0,o+=u.token.length)}}return s;function w(){var t=f[e.substr(o,2)]||f[e[o]];return t}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s={styles:t,content:e,containsContent:!!e,type:n,meta:i};return s}f["_"]={token:"_",extra:!0,fn:function(e,t,n,i,s){var a;return s[this.token]?(delete n.styles.underline,s[this.token]=null,i.content+=this.token,null):!0===n.styles.underline||t>0&&" "!==e[t-1]||-1===(0,u.default)(a=e.substr(t+1)).call(a,this.token)?-1:(s[this.token]=!0,n.styles.underline=!0,n.content+=this.token,null)}},f["*"]={token:"*",extra:!0,fn:function(e,t,n,i,s){if(s[this.token])return delete n.styles.bold,s[this.token]=null,i.content+=this.token,null;if(!0===n.styles.bold)return-1;if(":"===e[t-1])return-1;if(t>0&&" "!==e[t-1])return-1;var a=e.substr(t+1),r=(0,u.default)(a).call(a,this.token);return-1===r||r<a.length-1&&" "!==a[r+1]?-1:(s[this.token]=!0,n.styles.bold=!0,n.content+=this.token,null)}},f["**"]={token:"**",extra:!0,fn:function(e,t,n,i,s){var a;return s[this.token]?(delete n.styles.italic,s[this.token]=null,i.content+=this.token,null):!0===n.styles.italic||-1===(0,u.default)(a=e.substr(t+1)).call(a,this.token)?-1:(s[this.token]=!0,n.styles.italic=!0,n.content+=this.token,null)}},f["`"]={token:"`",extra:!0,fn:function(e,t,n,i,s){if(s[this.token])return delete n.styles.quote,s[this.token]=null,i.content+=this.token,null;if(t>0&&" "!==e[t-1])return-1;var a=e.substr(t+1),r=(0,u.default)(a).call(a,this.token);return-1===r||a[r+1]&&" "!==a[r+1]?-1:(s[this.token]=!0,n.styles.quote=!0,n.content+=this.token+a.substr(0,r),n.containsContent=!0,t+r+1)}},f[""]={token:"",extra:!1,fn:function(e,t,n,i,s){return s[this.token]?(delete n.styles.bold,s[this.token]=null):(s[this.token]=!0,n.styles.bold=!0),null}},f[""]={token:"",extra:!1,fn:function(e,t,n,i,s){return s[this.token]?(delete n.styles.italic,s[this.token]=null):(s[this.token]=!0,n.styles.italic=!0),null}},f[""]={token:"",extra:!1,fn:function(e,t,n,i,s){return s[this.token]?(delete n.styles.underline,s[this.token]=null):(s[this.token]=!0,n.styles.underline=!0),null}},f[""]={token:"",extra:!1,fn:function(e,t,n,i,s){var a,r;return(0,c.default)(a=(0,o.default)(n.styles)).call(a,(function(e){return delete n.styles[e]})),(0,c.default)(r=(0,o.default)(s)).call(r,(function(e){return delete s[e]})),null}},f[""]={token:"",extra:!1,fn:function(e,t,n,i,s){var a={0:"white",1:"black",2:"blue",3:"green",4:"light-red",5:"brown",6:"purple",7:"orange",8:"yellow",9:"light-green",10:"cyan",11:"light-cyan",12:"light-blue",13:"pink",14:"grey",15:"light-grey"},o=/^\x03(([0-9][0-9]?)(,([0-9][0-9]?))?)/,c=o.exec(e.substr(t,6));if(c){var u=a[(0,r.default)(c[2],10)],l=a[(0,r.default)(c[4],10)];return"undefined"!==typeof u&&(n.styles.color=u),"undefined"!==typeof l&&(n.styles.background=l),t+c[0].length}return delete n.styles.color,delete n.styles.background,null}},f[""]={token:"",extra:!1,fn:function(e,t,n,i,s){return null}},window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["MessageFormatter"],window._kiwi_exports.libs.MessageFormatter=t.default?t.default:t},"11ef":function(e,t,n){},"124c":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"u-input-prompt",style:{display:e.block?"block":"inline-block"}},["pre"===e.state?n("div",{on:{click:e.prompt}},[e._t("default")],2):e._e(),"prompt"===e.state?n("form",{staticClass:"u-form",on:{submit:function(t){return t.preventDefault(),e.complete(t)}}},[n("span",{staticClass:"u-input-prompt-label"},[e._v(e._s(e.label))]),n("div",{staticClass:"u-input-prompt-inputs"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"u-input",domProps:{value:e.value},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancel(t)},input:function(t){t.target.composing||(e.value=t.target.value)}}}),n("a",{staticClass:"u-button u-button-primary",on:{click:e.complete}},[e._v(e._s(e.$t("ok")))]),e.hideCancel?e._e():n("a",{staticClass:"u-button u-button-warning",on:{click:e.cancel}},[e._v(" "+e._s(e.$t("cancel"))+" ")])])]):e._e()])},s=[]},"12fa":function(e,t,n){"use strict";n.r(t);var i=n("07a8"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"132e":function(e,t,n){"use strict";var i=n("224f"),s=n.n(i);s.a},1343:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("385f")),r=i(n("1f5b")),o=i(n("169d")),c=i(n("480a")),u={components:{MessageList:r.default,NetworkSettings:o.default,ChannelList:c.default},props:["network"],data:function(){return{pluginUiElements:a.default.singleton().serverViewPlugins}},computed:{hasMessages:function(){return this.network.serverBuffer().getMessages().length>0},serverBuffer:function(){return this.network.serverBuffer()},restrictedServer:function(){return this.$state.setting("restricted")},networkConnected:function(){return"connected"===this.network.state}},watch:{networkConnected:function(){var e=this;this.$nextTick((function(){e.$refs.tabs.a++}))}},created:function(){var e=this;this.listen(this.$state,"server.tab.show",(function(t){e.showTab(t)}))},methods:{showTab:function(e){this.$refs.tabs.setActiveByName(e)},tabChanged:function(e){this.serverBuffer.show_input="messages"===e}}};t.default=u,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["ServerView"],window._kiwi_exports.components.ServerView=t.default?t.default:t},"134c":function(e,t,n){e.exports=n.p+"static/img/kiwiLoadingLogo.ee10be5a.png"},"13d0":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-messageinfo",on:{click:function(e){e.stopPropagation()}}},[e.message.mentioned_urls.length>0?n("div",{staticClass:"kiwi-messageinfo-urls"},e._l(e.message.mentioned_urls,(function(t){return n("div",{key:t,staticClass:"kiwi-messageinfo-url"},[n("a",{staticClass:"u-button u-button-secondary",on:{click:function(n){return e.urlPreview(t)}}},[e._v("Preview")]),n("a",{staticClass:"u-link",attrs:{href:t,target:"_blank"}},[e._v(" "+e._s(t)+" ")])])})),0):e._e(),n("div",{staticClass:"kiwi-messageinfo-actions",class:{"kiwi-messageinfo-actions--open":e.requestingInput}},[e.requestingInput?e._e():n("a",{staticClass:"u-link kiwi-messageinfo-reply",on:{click:e.openQuery}},[e._v(" Reply in private ")]),e.areWeAnOp()&&!e.isSelf()?n("div",{staticClass:"kiwi-messageinfo-opbuttons"},[n("input-prompt",{attrs:{label:"Kick reason:"},on:{submit:e.onKick,cancel:function(t){e.requestingInput=!1}}},[e.requestingInput?e._e():n("a",{staticClass:"u-link kiwi-messageinfo-kick-user",on:{click:function(t){e.requestingInput=!0}}},[e._v(" Kick "+e._s(e.message.nick)+" ")])]),n("input-prompt",{attrs:{label:"Ban reason:"},on:{submit:e.onBan,cancel:function(t){e.requestingInput=!1}}},[e.requestingInput?e._e():n("a",{staticClass:"u-link kiwi-messageinfo-ban-user",on:{click:function(t){e.requestingInput=!0}}},[e._v(" Ban "+e._s(e.message.nick)+" ")])])],1):e._e()])])},s=[]},"149a":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("65b8")),r=n("5ee5"),o=r.component("input-text",{props:["value","label","type","showPlainText"],data:function(){return{plainTextEnabled:!1,inputIdCache:""}},computed:{inputId:function(){return this.inputIdCache||(this.inputIdCache="inp_"+Math.floor(1e17*Math.random()).toString(36)),this.inputIdCache},currentValue:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{updateValue:function(e){this.$emit("input",e)},isEdgeBrowser:function(){var e;return(0,a.default)(e=navigator.appVersion).call(e,"Edge")>-1}}});t.default=o,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["utils"]||(window._kiwi_exports["components"]["utils"]={}),window._kiwi_exports["components"]["utils"]["InputText"],window._kiwi_exports.components.utils.InputText=t.default?t.default:t},"15d0":function(e,t,n){"use strict";n.r(t);var i=n("8bfd"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},1612:function(e,t,n){"use strict";n.r(t);var i=n("f92e"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},1639:function(e,t,n){},"169d":function(e,t,n){"use strict";n.r(t);var i=n("9a7c"),s=n("89d7");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("d949");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},"16a2":function(e,t,n){},"17cf":function(e,t,n){},"17f1":function(e,t,n){"use strict";var i=n("0339"),s=n.n(i);s.a},"185a":function(e,t,n){"use strict";n.r(t);var i=n("8ac0"),s=n("e93b");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("88b1");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},1871:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"u-input-text"},[e.label?n("label",{attrs:{for:e.inputId}},[e._v(e._s(e.label))]):e._e(),n("div",{staticClass:"u-input-text-inputs",staticStyle:{display:"flex"}},["password"===e.type?["checkbox"===(e.plainTextEnabled&&!e.isEdgeBrowser()?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"u-input",class:{"u-form-input-plaintext":!e.isEdgeBrowser()&&e.showPlainText},attrs:{id:e.inputId,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",type:"checkbox"},domProps:{checked:Array.isArray(e.currentValue)?e._i(e.currentValue,null)>-1:e.currentValue},on:{keypress:function(t){return e.$emit("keypress",t)},change:function(t){var n=e.currentValue,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.currentValue=n.concat([a])):r>-1&&(e.currentValue=n.slice(0,r).concat(n.slice(r+1)))}else e.currentValue=s}}}):"radio"===(e.plainTextEnabled&&!e.isEdgeBrowser()?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"u-input",class:{"u-form-input-plaintext":!e.isEdgeBrowser()&&e.showPlainText},attrs:{id:e.inputId,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",type:"radio"},domProps:{checked:e._q(e.currentValue,null)},on:{keypress:function(t){return e.$emit("keypress",t)},change:function(t){e.currentValue=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"u-input",class:{"u-form-input-plaintext":!e.isEdgeBrowser()&&e.showPlainText},attrs:{id:e.inputId,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",type:e.plainTextEnabled&&!e.isEdgeBrowser()?"text":"password"},domProps:{value:e.currentValue},on:{keypress:function(t){return e.$emit("keypress",t)},input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}),e.showPlainText&&!e.isEdgeBrowser()?n("i",{staticClass:"u-input-text-plaintext fa fa-eye",class:{"u-input-text-plaintext--active":e.plainTextEnabled},attrs:{"aria-hidden":"true"},on:{click:function(t){e.plainTextEnabled=!e.plainTextEnabled}}}):e._e()]:"number"===e.type?n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"u-input",attrs:{id:e.inputId,type:"number"},domProps:{value:e.currentValue},on:{keypress:function(t){return e.$emit("keypress",t)},input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):"textarea"===e.type?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"u-input",attrs:{id:e.inputId},domProps:{value:e.currentValue},on:{keypress:function(t){return e.$emit("keypress",t)},input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"u-input",attrs:{id:e.inputId,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},domProps:{value:e.currentValue},on:{keypress:function(t){return e.$emit("keypress",t)},input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}),e.$slots.default?n("div",{staticClass:"u-input-text-c"},[e._t("default")],2):e._e()],2)])},s=[]},"189e":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("3002")),r=i(n("65b8")),o=i(n("fc56")),c=i(n("44a4")),u=i(n("9f12")),l=i(n("53fe")),f=i(n("2ef0")),d=null,p=function(){function e(t){(0,u.default)(this,e),this.state=t,this.listenForIrcEvents(),this.varsEl=null}return(0,l.default)(e,[{key:"themeVar",value:function(e){var t;this.varsEl||(this.varsEl=document.querySelector(".kiwi-wrap"));var n=window.getComputedStyle(this.varsEl),i=n.getPropertyValue("--kiwi-"+e);return(0,c.default)(t=i||"").call(t)}},{key:"availableThemes",value:function(){return this.state.settings.themes}},{key:"currentTheme",value:function(){var e=this.state,t=e.setting("theme");t=t.toLowerCase();var n=(0,o.default)(f.default).call(f.default,e.settings.themes,(function(e){var n=e.name.toLowerCase()===t;return n}));return n||(n=e.settings.themes[0]),n}},{key:"setTheme",value:function(e){var t=null;if("string"===typeof e){if(t=(0,o.default)(f.default).call(f.default,this.availableThemes(),(function(t){var n=t.name.toLowerCase()===e.toLowerCase();return n})),!t)return}else t=e;this.state.setting("theme",t.name),this.state.$emit("theme.change")}},{key:"reload",value:function(){var e=this.currentTheme();if(e){var t=e.url;(0,r.default)(t).call(t,"cb=")>-1?t=t.replace(/cb=[0-9]+/,(function(){return"cb="+(0,a.default)()})):(0,r.default)(t).call(t,"?")>-1?t+="&cb="+(0,a.default)():t+="?cb="+(0,a.default)(),e.url=t,this.state.$emit("theme.change")}}},{key:"setCustomThemeUrl",value:function(t){var n=(0,o.default)(f.default).call(f.default,e.instance().availableThemes(),{name:"custom"});n&&(n.url=t),"custom"===n.name&&this.state.$emit("theme.change")}},{key:"listenForIrcEvents",value:function(){var e=this;this.state.$on("irc.ctcp request",(function(t,n){var i,s=(t.type||"").toLowerCase();"kiwi"===s&&(0,r.default)(i=t.message).call(i,"theme reload")>-1&&e.reload()}))}}],[{key:"themeUrl",value:function(e){var t=e.url.split("?"),n=t[0],i=t[1]||"";return"/"!==n[n.length-1]&&(n+="/"),n+"theme.css"+(i?"?"+i:"")}}]),e}();t.default=p,p.instance=function(e){return d||(d=new p(e)),d},window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["ThemeManager"],window._kiwi_exports.libs.ThemeManager=t.default?t.default:t},"18fc":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"u-input-confirm kiwi-theme-bg"},["pre"===e.state?n("div",{on:{click:e.prompt}},[e._t("default")],2):e._e(),"prompt"===e.state?[n("span",{staticClass:"u-input-confirm-label"},[e._v(e._s(e.label))]),n("a",{staticClass:"u-button",class:["u-button-"+e.connoteCss.yes],on:{click:function(t){return e.complete(!0)}}},[e._v(" "+e._s(e.$t("yes"))+" ")]),n("a",{staticClass:"u-button",class:["u-button-"+e.connoteCss.no],on:{click:function(t){return e.complete(!1)}}},[e._v(" "+e._s(e.$t("no"))+" ")])]:e._e()],2)},s=[]},"19b1":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.hex2rgb=c,t.rgb2hex=u,t.rgb2hsl=l,t.hsl2rgb=f,t.rgb2rgbString=d;var a=i(n("52da")),r=i(n("14b1")),o=i(n("9474"));function c(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=e.replace(t,(function(e,t,n,i){return t+t+n+n+i+i})),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return i?{r:(0,o.default)(i[1],16),g:(0,o.default)(i[2],16),b:(0,o.default)(i[3],16)}:null}function u(e){var t;return"#"+(0,r.default)(t=["r","g","b"]).call(t,(function(t){var n;return(0,a.default)(n="0"+e[t].toString(16)).call(n,-2)})).join("")}function l(e){var t=e.r,n=e.g,i=e.b;t/=255,n/=255,i/=255;var s=Math.max(t,n,i),a=Math.min(t,n,i),r=0,o=0,c=(s+a)/2;if(s===a)r=o=0;else{var u=s-a;o=c>.5?u/(2-s-a):u/(s+a),s===t?r=(n-i)/u+(n<i?6:0):s===n?r=(i-t)/u+2:s===i&&(r=(t-n)/u+4),r/=6}return{h:r,s:o,l:c}}function f(e){function t(e,t,n){var i=e,s=t,a=n;return a<0&&(a+=1),a>1&&(a-=1),a<1/6?i+6*(s-i)*a:a<.5?s:a<2/3?i+(s-i)*(2/3-a)*6:i}var n=e.h,i=e.s,s=e.l,a=0,r=0,o=0;if(0===i)a=r=o=s;else{var c=s<.5?s*(1+i):s+i-s*i,u=2*s-c;a=t(u,c,n+1/3),r=t(u,c,n),o=t(u,c,n-1/3)}return{r:Math.round(255*a),g:Math.round(255*r),b:Math.round(255*o)}}function d(e){return"rgb("+[e.r,e.g,e.b].join(",")+")"}window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["helpers"]||(window._kiwi_exports["helpers"]={}),window._kiwi_exports["helpers"]["Colours"],window._kiwi_exports.helpers.Colours=t.default?t.default:t},"1a24":function(e,t,n){},"1bb3":function(e,t,n){"use strict";n.r(t);var i=n("9f2a"),s=n("db24");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("bd77");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},"1cae":function(e,t,n){"use strict";n.r(t);var i=n("3ce8"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"1d88":function(e,t,n){"use strict";n.r(t);var i=n("ccc0"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"1dc6":function(e,t,n){"use strict";n.r(t);var i=n("5a07"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"1f5b":function(e,t,n){"use strict";n.r(t);var i=n("1078"),s=n("1cae");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("7348");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},"1fe6":function(e,t,n){"use strict";n.r(t);var i=n("d3e9"),s=n("2443");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("b4e6");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},2:function(e,t){},"20fd":function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("a3e3")),o=s(n("4573")),c=s(n("fa81")),u=s(n("3002")),l=s(n("2b0b")),f=s(n("c52e")),d=s(n("e76e")),p=s(n("298b")),h=s(n("b6ce")),w=s(n("65b8")),m=s(n("e4f0")),v=s(n("3393")),_=s(n("fc56")),g=s(n("78b2")),k=s(n("acf5")),b=s(n("9f12")),y=s(n("53fe")),C=s(n("5ee5")),x=s(n("2ef0")),$=n("bb3c"),S=s(n("4cdc")),N=i(n("8f39")),A=0,M=function(){function e(t,n,i,s){(0,b.default)(this,e),this.id=A++,this.networkid=n,this.name=t,this.topics=[],this.key="",this.joined=!1,this.enabled=!0,this.created_at=null,this.users=(0,k.default)(null),this.modes=(0,k.default)(null),this.flags={unread:0,has_opened:!1,channel_badkey:!1,chathistory_available:!0,requested_modes:!1,requested_banlist:!1,is_requesting_chathistory:!1},this.settings={},this.last_read=0,this.active_timeout=null,this.message_count=0,this.current_input="",this.input_history=[],this.input_history_pos=0,this.show_input=!0,this.chathistory_request_count=0,C.default.observable(this),(0,$.def)(this,"state",i,!1),(0,$.def)(this,"messageDict",s,!1);var a={networkid:this.networkid,buffer:this.name,messages:[],messageIds:(0,k.default)(null)};function r(e){e.network===this.getNetwork()&&(this.chathistory_request_count=0)}function o(e,t){t===this.getNetwork()&&this.isQuery()&&this.requestLatestScrollback()}function c(e){e.buffer===this&&(this.state.$off("network.connecting",u),this.state.$off("buffer.close",l),this.state.$off("irc.motd",f))}this.messageDict.push(a),(0,$.def)(this,"messagesObj",a,!1),(0,$.def)(this,"isMessageTrimming",!0,!0),(0,$.def)(this,"addMessageBatch",B(this),!1),(0,$.def)(this,"addUserBatch",T(this),!1),this.isChannel()&&P(this);var u=(0,g.default)(r).call(r,this),l=(0,g.default)(c).call(c,this),f=(0,g.default)(o).call(o,this);i.$on("network.connecting",u),i.$on("buffer.close",l),i.$on("irc.motd",f),this.isQuery()&&this.getNetwork().ircClient.chathistory.isSupported()&&this.requestLatestScrollback()}return(0,y.default)(e,[{key:"getNetwork",value:function(){return this.state.getNetwork(this.networkid)}},{key:"getMessages",value:function(){var e=(0,_.default)(x.default).call(x.default,this.messageDict,{networkid:this.networkid,buffer:this.name});return e?e.messages:[]}},{key:"clearMessages",value:function(){var e;(0,v.default)(e=this.messagesObj.messages).call(e,0,this.messagesObj.messages.length),this.messagesObj.messageIds=(0,k.default)(null)}},{key:"clearMessageRange",value:function(e,t){var n,i=this;this.messagesObj.messages=(0,m.default)(n=this.messagesObj.messages).call(n,(function(n){return n.server_time<e||n.server_time>t||(delete i.messagesObj.messageIds[n.id],!1)})),this.message_count++}},{key:"isServer",value:function(){return"*"===this.name}},{key:"isChannel",value:function(){var e=["#","&"],t=this.getNetwork().ircClient.network;return t&&t.options.CHANTYPES&&(e=t.options.CHANTYPES),(0,w.default)(e).call(e,this.name[0])>-1}},{key:"isQuery",value:function(){var e=["#","&"],t=this.getNetwork().ircClient.network;return t&&t.options.CHANTYPES&&(e=t.options.CHANTYPES),-1===(0,w.default)(e).call(e,this.name[0])&&!this.isSpecial()&&!this.isServer()}},{key:"isSpecial",value:function(){var e=this.name;return"*"===e[0]&&e.length>1}},{key:"isUserAnOp",value:function(e){var t=this.state.getUser(this.networkid,e);if(!t)return!1;var n=t.buffers[this.id];if(!n)return!1;var i=n.modes,s=["Y","y","q","a","o","h"],a=(0,_.default)(x.default).call(x.default,i,(function(e){return(0,w.default)(s).call(s,e.toLowerCase())>-1}));return!!a}},{key:"userModePrefix",value:function(e){if(!e.buffers[this.id])return"";var t=e.buffers[this.id].modes;if(0===t.length)return"";var n=this.getNetwork(),i=n.ircClient.network.options.PREFIX,s=(0,_.default)(x.default).call(x.default,i,(function(e){return(0,w.default)(t).call(t,e.mode)>-1}));return s?s.symbol:""}},{key:"userMode",value:function(e){if(!e.buffers[this.id])return"";var t=e.buffers[this.id].modes;if(0===t.length)return"";if(1===t.length)return t[0];var n=this.getNetwork(),i=n.ircClient.network.options.PREFIX,s=(0,_.default)(x.default).call(x.default,i,(function(e){return(0,w.default)(t).call(t,e.mode)>-1}));return s?s.mode:""}},{key:"setting",value:function(e,t){if("undefined"!==typeof t)return this.state.$set(this.settings,e,t),t;var n="undefined"!==typeof this.settings[e]?this.settings[e]:this.state.setting("buffers."+e);return n}},{key:"rename",value:function(e){var t=this.getNetwork(),n=this.name,i=this.state.getActiveBuffer()===this;this.name=e,i&&this.state.setActiveBuffer(t.id,e);var s=(0,_.default)(x.default).call(x.default,this.messageDict,{networkid:t.id,buffer:n});s.buffer=e}},{key:"flag",value:function(e,t){return"undefined"!==typeof t?(this.state.$set((0,h.default)(this),e,t),t):(0,h.default)(this)[e]}},{key:"requestScrollback",value:function(e){var t=this,n=e||"backward",i="",s="before";if("backward"===n){var a,r=(0,p.default)(a=this.getMessages()).call(a,(function(e,t){var n=["traffic","topic","connection","presence"],i=-1===(0,w.default)(n).call(n,e.type);return i&&e.time&&e.time<t.time?e:t}),this.getMessages()[0]);s="before",i=r?new Date(r.server_time):new Date}else{if("forward"!==n)throw new Error("Invalid direction for requestScrollback(): "+e);var o,c=(0,p.default)(o=this.getMessages()).call(o,(function(e,t){var n=["traffic","topic","connection","presence"],i=-1===(0,w.default)(n).call(n,e.type);return i&&e.time&&e.time>t.time?e:t}),this.getMessages()[0]);s="after",i=c?new Date(c.server_time):new Date}var u=this.getNetwork().ircClient;this.flag("is_requesting_chathistory",!0),this.chathistory_request_count+=1;var l=(0,d.default)({},this.messagesObj.messageIds);u.chathistory[s](this.name,i).then((function(e){var n;if(e){var i=(0,f.default)(n=e.commands).call(n,(function(e){return e.tags.msgid&&!l[e.tags.msgid]}));t.flag("chathistory_available",i)}else t.flag("chathistory_available",!1)})).finally((function(){t.flag("is_requesting_chathistory",!1)}))}},{key:"requestLatestScrollback",value:function(){var e=this,t=this.getNetwork().ircClient;this.flag("is_requesting_chathistory",!0),this.chathistory_request_count+=1,t.chathistory.before(this.name,"*").finally((function(){e.flag("is_requesting_chathistory",!1)}))}},{key:"markAsRead",value:function(e){if(this.active_timeout&&(clearTimeout(this.active_timeout),this.active_timeout=null),e){var t;this.active_timeout=(0,l.default)((0,g.default)(t=this.markAsRead).call(t,this),1e4,!1)}else{this.last_read=(0,u.default)(),this.flag("highlight",!1);var n=this.getNetwork(),i=!!n&&(this.isChannel()||this.isQuery());i&&n.connection.bncnetid&&n.ircClient.bnc.bufferSeen(n.connection.bncnetid,this.name)}}},{key:"incrementFlag",value:function(e){(0,h.default)(this)[e]=((0,h.default)(this)[e]||0)+1}},{key:"addUser",value:function(e){this.addUserBatch(e)}},{key:"hasNick",value:function(e){var t=e.toLowerCase();return t in this.users||this.isQuery()&&this.name.toLowerCase()===t}},{key:"hasMode",value:function(e){var t;return(0,w.default)(t=(0,c.default)(this.modes)).call(t,e)>-1}},{key:"shouldShareTyping",value:function(){var e=this.getNetwork();return!!this.setting("share_typing")&&(!(!this.isChannel()&&!this.isQuery())&&(!(this.isChannel()&&!this.joined)&&!(this.hasMode("m")&&!this.userMode(e.currentUser()))))}},{key:"removeUser",value:function(e){var t=this.state.getUser(this.networkid,e);x.default.pull(this.addUserBatch.queue(),t),this.state.$delete(this.users,e.toLowerCase()),t&&delete t.buffers[this.id]}},{key:"clearUsers",value:function(){var e,t=this;this.addUserBatch&&(0,v.default)(e=this.addUserBatch.queue()).call(e,0),x.default.each(this.users,(function(e,n){delete e.buffers[t.id]})),this.state.$set(this,"users",{})}},{key:"addMessage",value:function(e){this.addMessageBatch(e)}},{key:"say",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getNetwork(),i={time:(0,u.default)(),nick:n.nick,message:e,type:t.type||"privmsg"};this.state.addMessage(this,i);var s={privmsg:"say",action:"action",notice:"notice"},a=s[t.type]||"say";n.ircClient[a](this.name,e)}},{key:"join",value:function(){if(this.isChannel()){var e=this.getNetwork();e.ircClient.join(this.name,this.key||"")}}},{key:"part",value:function(e){if(this.isChannel()){var t=this.getNetwork();t.ircClient.part(this.name,e||"")}}},{key:"scrollToMessage",value:function(e){this.state.$emit("messagelist.scrollto",{id:e})}},{key:"getLoadingState",value:function(){var e=this.getNetwork().state,t=!!this.getNetwork().ircClient.chathistory.isSupported(),n=this.addMessageBatch.queue().length;this.message_count;return"disconnected"===e?"disconnected":"connecting"===e?"connecting":"connected"===e&&this.enabled&&t&&((0,h.default)(this).is_requesting_chathistory||0===this.chathistory_request_count||n>0)?"loading":"done"}},{key:"isReady",value:function(){return"done"===this.getLoadingState()}},{key:"topic",get:function(){return 0===this.topics.length?"":this.topics[this.topics.length-1]},set:function(e){this.topics.push(e)}}]),e}();function T(e){var t=function(t){e.state.$set(e.users,t.nick.toLowerCase(),t)},n=function(t){var n=x.default.clone(e.users);(0,o.default)(t).call(t,(function(e){n[e.nick.toLowerCase()]=e})),e.users=n};return(0,S.default)(t,n,2)}function B(e){var t=function(t){e.messagesObj.messageIds[t.id]||(e.messagesObj.messages.push(t),e.messagesObj.messageIds[t.id]=t,e.isMessageTrimming&&i(),N.orderedMessages(e,{inPlace:!0,noFilter:!0}),e.message_count++)},n=function(t){var n,s=(0,m.default)(t).call(t,(function(t){return!e.messagesObj.messageIds[t.id]}));s.length>0&&(e.messagesObj.messages=(0,r.default)(n=e.messagesObj.messages).call(n,s),(0,o.default)(s).call(s,(function(t){e.messagesObj.messageIds[t.id]=t})),e.isMessageTrimming&&i(),N.orderedMessages(e,{inPlace:!0,noFilter:!0}));e.message_count++},i=function(){var t=e.setting("scrollback_size"),n=e.messagesObj.messages.length;if(e.messagesObj.messages.length>t){var i,s=(0,v.default)(i=e.messagesObj.messages).call(i,0,n-t);(0,o.default)(s).call(s,(function(t){return delete e.messagesObj.messageIds[t.id]}))}};return(0,S.default)(t,n,4)}function P(e){var t=e.state.getNetwork(e.networkid);if("connected"===t.state)i();else{var n=function n(s,a,r){r===t&&(e.state.$off("irc.raw.001",n),i())};e.state.$on("irc.raw.001",n)}function i(){(0,l.default)(s,3e4)}function s(){if(t=e.state.getNetwork(e.networkid),t&&t.bufferByName(e.name)){var n=e.setting("who_loop"),s=e.joined,a=t.ircClient.network.cap.isEnabled("away-notify"),r="connected"===t.state;n&&r&&s&&!a?t.ircClient.who(e.name,(function(){i()})):i()}}}t.default=M},"210c":function(e,t,n){"use strict";var i=n("363e"),s=n.n(i);s.a},2246:function(e,t,n){"use strict";var i=n("11ef"),s=n.n(i);s.a},"224f":function(e,t,n){},2283:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("f72e")),r={props:{},toggleSelfAway:function(e){if(e.isUserSelf){var t=e.user.isAway();e.network.ircClient.raw("AWAY",t?"":"Currently away")}},isUserSelf:function(e){if(!1===e.toggle)return!1;var t=(0,a.default)().getUser(e.network.id,e.network.nick);return e.user===t},shouldShowStatus:function(e){if(!(0,a.default)().setting("showAwayStatusIndicators"))return!1;if("connected"!==e.network.state)return!1;var t=e.network.ircClient.network.cap.isEnabled("away-notify");return(0,a.default)().setting("buffers.who_loop")||t}},o={props:{network:Object,user:Object,toggle:Boolean},m:r};t.default=o,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["AwayStatusIndicator"],window._kiwi_exports.components.AwayStatusIndicator=t.default?t.default:t},"23ce":function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=h;var r=s(n("fa81")),o=s(n("4573")),c=s(n("a3e3")),u=s(n("3818")),l=s(n("9474")),f=s(n("65b8")),d=n("f43a"),p=i(n("862b"));function h(){var e=[],t={};return function(e,t,i){e.requestCap("bouncer"),w(e),t.use(n)};function n(n,i,s,a,r){var o,c,u;if("BOUNCER"===n){var p=i.params;if("listnetworks"===p[0]&&(0,f.default)(o=["end","RPL_OK"]).call(o,p[1])>-1)a.command_handler.emit("bouncer networks",e),e=[];else if("listnetworks"===p[0]){var h=d.MessageTags.decode(p[2]);e.push({networkId:p[1],name:h.network,host:h.host,port:(0,l.default)(h.port,10),tls:"1"===h.tls,connected:"connected"===h.state,nick:h.nick,currentNick:h.currentNick,password:h.password||"",account:h.account||"",account_password:h.account_password||""})}else if("listbuffers"===p[0]&&(0,f.default)(c=["end","RPL_OK"]).call(c,p[2])>-1){var w=p[1]||"",m=t[w]||[];delete t[w],a.command_handler.emit("bouncer buffers",m),a.command_handler.emit("bouncer buffers "+w,m)}else if("listbuffers"===p[0]){var v=p[1]||"",_=d.MessageTags.decode(p[2]);t[v]=t[v]||[],t[v].push({networkId:v,network:_.network,name:_.buffer,topic:_.topic,joined:"1"===_.joined,seen:_.seen,notify:_.notify||"highlight"})}else"state"===p[0]&&a.command_handler.emit("bouncer state",{networkId:p[1],network:p[2],state:p[3]});if("addnetwork"===p[0]&&"ERR_"===p[3].substr(0,4)){var g=(p[2]||"").toLowerCase(),k={error:p[3],reason:p[4]||""};a.command_handler.emit("bouncer addnetwork error",k),a.command_handler.emit("bouncer addnetwork error "+g,k)}else if("addnetwork"===p[0]&&(0,f.default)(u=["end","RPL_OK"]).call(u,p[3])>-1){var b=p[1]||"",y=(p[2]||"").toLowerCase(),C={networkId:b,network:y};a.command_handler.emit("bouncer addnetwork ok",C),a.command_handler.emit("bouncer addnetwork ok "+y,C)}}else r()}}function w(e){var t=e.bnc={};t.tags=function(){var t=e.network.supports("bouncer");return t&&"string"===typeof t&&d.MessageTags.decode(t)||{}},t.hasNetwork=function(){var t=e.network.supports("bouncer");if(!t||!0===t)return!1;var n=d.MessageTags.decode(t);return n&&!!n.network},t.getNetworks=function(){return new u.default((function(t,n){e.raw("BOUNCER listnetworks"),e.once("bouncer networks",(function(e){t(e)}))}))},t.getBuffers=function(t){return new u.default((function(n,i){e.raw("BOUNCER listbuffers "+t),e.once("bouncer buffers "+t,(function(e){n(e)}))}))},t.closeBuffer=function(t,n){return new u.default((function(i,s){var a;e.raw((0,c.default)(a="BOUNCER delbuffer ".concat(t," ")).call(a,n))}))},t.bufferSeen=function(t,n,i){return new u.default((function(s,a){var r,o,u=i?p.dateIso(i):"1";e.raw((0,c.default)(r=(0,c.default)(o="BOUNCER changebuffer ".concat(t," ")).call(o,n," seen=")).call(r,u))}))},t.addNetwork=function(t,n,i,s,a,r,o){var c={};c.network=t,c.host=n,c.port=i,c.tls=s?1:0,c.nick=a,c.password=o,r&&(c.user=r);var l=m(c);return new u.default((function(n,i){function s(t){e.off("bouncer addnetwork error",a),n(t)}function a(n){e.off("bouncer addnetwork ok "+t.toLowerCase(),s),i({error:n.error,reason:n.reason})}e.raw("BOUNCER addnetwork "+l),e.once("bouncer addnetwork ok "+t.toLowerCase(),s),e.once("bouncer addnetwork error",a)}))},t.removeNetwork=function(t,n){return new u.default((function(n,i){e.raw("BOUNCER delnetwork ".concat(t))}))},t.saveNetwork=function(t,n){var i={};"undefined"!==typeof n.network&&(i.network=n.network),"undefined"!==typeof n.host&&(i.host=n.host),"undefined"!==typeof n.port&&(i.port=n.port),"undefined"!==typeof n.tls&&(i.tls=n.tls?1:0),"undefined"!==typeof n.nick&&(i.nick=n.nick),"undefined"!==typeof n.user&&(i.user=n.user),"undefined"!==typeof n.password&&(i.password=n.password),"undefined"!==typeof n.account_password&&(i.account_password=n.account_password),"undefined"!==typeof n.account&&(i.account=n.account);var s=m(i);return new u.default((function(n,i){var a;0===s.length?n():e.raw((0,c.default)(a="BOUNCER changenetwork ".concat(t," ")).call(a,s))}))}}function m(e){var t,n=[];return(0,o.default)(t=(0,r.default)(e)).call(t,(function(t){var i=e[t];"undefined"!==typeof i?(i=i.toString().replace(" ","\\s").replace(";","\\:"),n.push(t+"="+i)):n.push(t)})),n.join(";")}window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["BouncerMiddleware"],window._kiwi_exports.libs.BouncerMiddleware=t.default?t.default:t},2443:function(e,t,n){"use strict";n.r(t);var i=n("1343"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},2472:function(e,t,n){},2572:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-inputtool-emoji"},[n("div",{staticClass:"kiwi-inputtool-emoji-palette",on:{mousedown:function(e){e.preventDefault()},click:function(e){e.preventDefault()}}},e._l(e.emojis,(function(t,i){return n("div",{key:i,staticClass:"kiwi-inputtool-emoji-emoji",style:{"background-image":"url("+e.location+i+".png)"},attrs:{"data-code":t+" "},on:{click:e.onImgClick}})})),0)])},s=[]},"274d":function(e,t,n){},"27d9":function(e,t,n){},"281c":function(e,t,n){"use strict";var i=n("dbb5"),s=n.n(i);s.a},2865:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(e,t){var n,i=t._c;return t.$options.m.shouldShowStatus(t.props)?i("span",{staticClass:"kiwi-awaystatusindicator",class:(n={"kiwi-awaystatusindicator--away":t.props.user&&t.props.user.isAway(),"kiwi-awaystatusindicator--self":t.$options.m.isUserSelf(t.props)},n[t.data.staticClass]=!0,n),on:{click:function(e){return t.$options.m.toggleSelfAway(t.props)}}}):t._e()},s=[]},"28a9":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-notconnected kiwi-warning-block",class:{connecting:e.shouldShowLoading}},[e.shouldShowLoading?n("div",{staticClass:"kiwi-notconnected-caption"},[e._v(" "+e._s(e.$t("connecting"))+" "),n("i",{staticClass:"fa fa-refresh fa-spin kiwi-notconnected-bigicon",attrs:{"aria-hidden":"true"}})]):[n("div",{staticClass:"kiwi-notconnected-caption"},[n("span",[e._v(e._s(e.$t("not_connected")))]),e.shouldShowLoading?e._e():n("i",{staticClass:"fa fa-frown-o",attrs:{"aria-hidden":"true"}})]),n("div",{staticClass:"kiwi-notconnected-buttons"},[e.isChannel()?[n("span",{staticClass:"kiwi-notconnected-button",attrs:{disabled:!e.readyToStart},on:{click:e.reconnect}},[n("i",{staticClass:"fa fa-arrow-circle-o-right",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("reconnect_channel",{channel:e.buffer.name}))+" ")])]:e.isServer()?[n("span",{staticClass:"kiwi-notconnected-button",attrs:{disabled:!e.readyToStart},on:{click:e.reconnect}},[n("i",{staticClass:"fa fa-arrow-circle-o-right",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("reconnect_network",{network:e.buffer.getNetwork().name}))+" ")])]:e.isQuery()?[n("span",{staticClass:"kiwi-notconnected-button",attrs:{disabled:!e.readyToStart},on:{click:e.reconnect}},[n("i",{staticClass:"fa fa-arrow-circle-o-right",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("reconnect_query",{user:e.buffer.name}))+" ")])]:e._e(),e.restrictedServer?e._e():n("a",{staticClass:"kiwi-notconnected-button kiwi-notconnected-button-settings",on:{click:e.showNetworkSettings}},[n("i",{staticClass:"fa fa-cogs",attrs:{"aria-hidden":"true"}})])],2)],n("captcha",{staticClass:"kiwi-notconnected-captcha",attrs:{network:e.network}})],2)},s=[]},"28c0":function(e,t,n){"use strict";n.r(t);var i=n("b3ac"),s=n("83d5");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("c00a");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!0,null,null,null);t["default"]=o.exports},"28e2":function(e,t,n){"use strict";n.r(t);var i=n("4ff2"),s=n("6d41");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("4503");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},2908:function(e,t,n){"use strict";var i=n("2d80");i(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{closing:!1}},computed:{backgroundStyle:function(){var e={},t=this.$state.settings.startupOptions;return t.infoBackground&&(e["background-image"]="url(".concat(t.infoBackground,")")),e},backgroundImage:function(){return this.$state.settings.startupOptions.infoBackground||""},infoContent:function(){return this.$state.settings.startupOptions.infoContent||""}},methods:{close:function(){var e=this;this.closing=!0;var t=function t(n){e.$el.removeEventListener("transitionend",t),e.$state.persistence.watchStateForChanges(),e.$parent.$emit("start")};this.$el.addEventListener("transitionend",t,!1)}}};t.default=s,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["startups"]||(window._kiwi_exports["components"]["startups"]={}),window._kiwi_exports["components"]["startups"]["CommonLayout"],window._kiwi_exports.components.startups.CommonLayout=t.default?t.default:t},"2b9c":function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("6b47")),o=s(n("89ba")),c=i(n("5a16")),u=s(n("f72e")),l=s(n("d369")),f=!0,d={data:function(){return{about_open:!1}},computed:{networks:function(){return this.$state.networks},aboutContent:function(){return l.default}},methods:{addNetwork:function(){var e="Guest"+Math.floor(100*Math.random()),t=this.$state.addNetwork(c.t("new_network"),e,{});t.showServerBuffer("settings")},toggleStateBrowser:function(){this.$state.$emit("statebrowser.show")},init:function(){var e=this;return(0,o.default)(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$state.persistence.watchStateForChanges(),e.$emit("start",{fallbackComponent:e.constructor});case 2:case"end":return t.stop()}}),t)})))()}},created:function(){var e=(0,o.default)(r.default.mark((function e(){return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:f&&(this.init(),f=!1);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},p=d;t.default=p,(0,u.default)().getStartups().kiwiirccom=d,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["thirdparty"]||(window._kiwi_exports["thirdparty"]={}),window._kiwi_exports["thirdparty"]["kiwiirccom"],window._kiwi_exports.thirdparty.kiwiirccom=t.default?t.default:t},"2cc3":function(e,t,n){"use strict";n.r(t);var i=n("d7d2"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"2d13":function(e,t,n){"use strict";var i=n("5879"),s=n.n(i);s.a},"2e5f":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-channelinfo"},[n("form",{staticClass:"u-form kiwi-channelinfo-basicmodes",on:{submit:function(e){e.preventDefault()}}},[n("label",{staticClass:"kiwi-channelinfo-topic"},[n("span",[e._v(e._s(e.$t("channel_topic")))]),n("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.topic,expression:"topic",modifiers:{lazy:!0}}],attrs:{rows:"2"},domProps:{value:e.topic},on:{change:function(t){e.topic=t.target.value}}})]),e.buffer.topics.length>1?n("div",{staticClass:"kiwi-channelinfo-previoustopics"},[n("a",{staticClass:"u-link",on:{click:function(t){e.showPrevTopics=!e.showPrevTopics}}},[e._v(" Previous topics "),n("i",{class:"fa fa-caret-"+(e.showPrevTopics?"up":"down")})]),e.showPrevTopics?n("ul",e._l(e.prevTopics,(function(t,i){return n("li",{key:i},[n("span",[e._v(e._s(t.trim()))])])})),0):e._e()]):e._e(),n("label",{staticClass:"u-checkbox-wrapper"},[n("span",[e._v(e._s(e.$t("channel_moderated")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.modeM,expression:"modeM"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.modeM)?e._i(e.modeM,null)>-1:e.modeM},on:{change:function(t){var n=e.modeM,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.modeM=n.concat([a])):r>-1&&(e.modeM=n.slice(0,r).concat(n.slice(r+1)))}else e.modeM=s}}})]),n("label",{staticClass:"u-checkbox-wrapper"},[n("span",[e._v(e._s(e.$t("channel_invite")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.modeI,expression:"modeI"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.modeI)?e._i(e.modeI,null)>-1:e.modeI},on:{change:function(t){var n=e.modeI,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.modeI=n.concat([a])):r>-1&&(e.modeI=n.slice(0,r).concat(n.slice(r+1)))}else e.modeI=s}}})]),n("label",{staticClass:"u-checkbox-wrapper"},[n("span",[e._v(e._s(e.$t("channel_moderated_topic")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.modeT,expression:"modeT"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.modeT)?e._i(e.modeT,null)>-1:e.modeT},on:{change:function(t){var n=e.modeT,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.modeT=n.concat([a])):r>-1&&(e.modeT=n.slice(0,r).concat(n.slice(r+1)))}else e.modeT=s}}})]),n("label",{staticClass:"u-checkbox-wrapper"},[n("span",[e._v(e._s(e.$t("channel_external")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.modeN,expression:"modeN"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.modeN)?e._i(e.modeN,null)>-1:e.modeN},on:{change:function(t){var n=e.modeN,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.modeN=n.concat([a])):r>-1&&(e.modeN=n.slice(0,r).concat(n.slice(r+1)))}else e.modeN=s}}})]),n("label",[n("span",[e._v(e._s(e.$t("password")))]),n("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.modeK,expression:"modeK",modifiers:{lazy:!0}}],staticClass:"u-input",attrs:{type:"text"},domProps:{value:e.modeK},on:{change:function(t){e.modeK=t.target.value}}})])])])},s=[]},"2e72":function(e,t,n){},"2e7b":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("21e7")),r=i(n("9f12")),o=i(n("53fe")),c=function(){function e(t){var n=this;(0,r.default)(this,e),this.state=t,this.title=t.settings.windowTitle||"",this.alert=!1,t.settings.windowTitle&&this.updateTitle(),t.$watch("settings.windowTitle",(function(e){n.updateTitle(e)})),t.$watch("ui.app_has_focus",(function(e){e&&n.alertTmr&&n.stopAlert()})),t.$on("notification.title",(function(e){e?n.startAlert():n.stopAlert()}))}return(0,o.default)(e,[{key:"startAlert",value:function(){var e=this;this.alertTmr||(this.alertTmr=(0,a.default)((function(){e.updateTitle()}),1e3))}},{key:"stopAlert",value:function(){this.alertTmr&&(clearInterval(this.alertTmr),this.alertTmr=null),this.updateTitle()}},{key:"updateTitle",value:function(e){"string"===typeof e&&(this.title=e),this.alertTmr&&!this.alert?(window.document.title="* "+this.title,this.alert=!0):(window.document.title=this.title,this.alert=!1)}}]),e}();t.default=c},"2f8b":function(e,t,n){"use strict";var i=n("1bd5"),s=n("568d"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("5a16")),o=i(n("462f")),c={components:{AwayStatusIndicator:o.default},props:["network"],data:function(){return{is_usermenu_open:!1}},computed:{userInitial:function(){var e="U";return this.network&&this.network.nick&&(e=this.network.nick.charAt(0).toUpperCase()),e},networkName:function(){var e=r.t("no_network");return this.network&&(e=this.network.name),e},getUser:function(){return this.network?this.network.currentUser():null},isConnected:function(){return this.network&&"connected"===this.network.state}},methods:{clickForget:function(){var e="This will delete all stored networks and start fresh. Are you sure?",t=confirm(e);t&&(this.$state.persistence.forgetState(),window.location.reload())}}};t.default=c,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["StateBrowserUsermenu"],window._kiwi_exports.components.StateBrowserUsermenu=t.default?t.default:t},3:function(e,t){},"31aa":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("9474")),r=i(n("52da")),o=i(n("a3e3")),c=i(n("44a4")),u=i(n("65b8")),l=i(n("4573")),f=i(n("9f12")),d=i(n("53fe")),p=function(){function e(){(0,f.default)(this,e),this.recursiveDepth=3,this.depth=0,this.aliases={}}return(0,d.default)(e,[{key:"importFromString",value:function(e){var t,n=this;this.aliases={},(0,l.default)(t=e.split("\n")).call(t,(function(e){var t;if("/"===e[0]){var i=(0,u.default)(e).call(e," ");if(-1!==i){var s=e.substring(0,i),a=(0,c.default)(t=e.substring(i+1)).call(t);a&&(n.aliases[s.toLowerCase()]=a)}}}))}},{key:"processInput",value:function(e,t){var n,i=e||[],s=this.aliases[i[0].toLowerCase()],c="",u=0,l=!1,f=[];if(!s)return e;s=s.split(" "),n=s.length;for(var d=0;d<n;d++){if(c=s[d],u=c.length,!l&&"$"===c[0]&&"?"===c[u-1]){var p=c.substr(1,u-2);if(t[p])continue;f=[];break}if(l=!0,"$"===c[0])if((c[1]||"").match(/\d/)){var h=c.match(/\$(\d+)(\+)?(\d+)?/);if(!h||!i[h[1]])continue;"+"===h[2]&&h[3]?f=(0,o.default)(f).call(f,(0,r.default)(i).call(i,(0,a.default)(h[1],10),(0,a.default)(h[1],10)+(0,a.default)(h[3],10))):"+"===h[2]?f=(0,o.default)(f).call(f,(0,r.default)(i).call(i,(0,a.default)(h[1],10))):f.push(i[(0,a.default)(h[1],10)])}else"undefined"===typeof t[c.substr(1)]||f.push(t[c.substr(1)]);else f.push(c)}return f}},{key:"process",value:function(e,t){var n=e||"",i=n.split(" "),s=(i[0]||"").toLowerCase();return this.depth++,this.depth>=this.recursiveDepth?(this.depth--,n):(this.aliases[s]&&(i=this.processInput(i,t),s=(i[0]||"").toLowerCase(),this.aliases[s]&&(i=this.process(i.join(" "),t).split(" "))),this.depth--,i.join(" "))}}]),e}();t.default=p,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["AliasRewriter"],window._kiwi_exports.libs.AliasRewriter=t.default?t.default:t},"32ee":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("3b2f")),r=i(n("9c24")),o={props:{},displayNick:function(){var e=this.props,t=e.message.nick?":":"";return e.message.nick+t},userMode:function(e){var t=this.props;return t.ml.buffer.userMode(e)},userModePrefix:function(e){var t=this.props;return t.ml.buffer.userModePrefix(e)}},c={inject:{components:{default:{MessageInfo:r.default,MediaViewer:a.default}}},props:{ml:Object,message:Object,idx:Number,m:{default:function(){return function(){return o.props=this,o}}}}};t.default=c},"32f6":function(e,t,n){"use strict";n.r(t);var i=n("49a2"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"333e":function(e,t,n){"use strict";n.r(t);var i=n("960a"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"34cd":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("e4f0")),r=i(n("82ec")),o=i(n("385f")),c=i(n("9332")),u=i(n("e54d")),l={props:["network","buffer","sidebarState"],data:function(){return{pluginUiSections:o.default.singleton().aboutBufferPlugins,closedSections:{}}},computed:{b:function(){return this.buffer||{}},formattedTopic:function(){var e=(0,u.default)(this.b.topic||"",{extras:!1}),t=(0,c.default)(e);return t},highlights:function(){var e,t,n,i,s,o;this.buffer.message_count;return(0,r.default)(e=(0,a.default)(t=(0,a.default)(n=(0,a.default)(i=(0,a.default)(s=(0,a.default)(o=this.buffer.getMessages()).call(o,(function(e){return e.isHighlight}))).call(s,(function(e){return"traffic"!==e.type}))).call(i,(function(e){return"topic"!==e.type}))).call(n,(function(e){return"mode"!==e.type}))).call(t,(function(e){return e.html}))).call(e,(function(e,t){return t.time-e.time}))}},methods:{toggleSection:function(e){this.$set(this.closedSections,e,!this.closedSections[e])}}};t.default=l,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["SidebarAboutBuffer"],window._kiwi_exports.components.SidebarAboutBuffer=t.default?t.default:t},"35e1":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-controlinput kiwi-theme-bg",class:{"kiwi-controlinput-selfuser--open":e.selfuser_open,"kiwi-controlinput--focus":e.has_focus}},[n("div",{staticClass:"kiwi-controlinput-selfuser"},[n("transition",{attrs:{name:"kiwi-selfuser-trans"}},["connected"===e.networkState&&!0===e.selfuser_open?n("self-user",{attrs:{network:e.buffer.getNetwork()},on:{close:function(t){e.selfuser_open=!1}}}):e._e()],1)],1),n("div",{staticClass:"kiwi-controlinput-inner"},[e.buffer.getNetwork()&&"connected"===e.buffer.getNetwork().state?n("away-status-indicator",{attrs:{network:e.buffer.getNetwork(),user:e.buffer.getNetwork().currentUser()}}):e._e(),e.currentNick?n("div",{staticClass:"kiwi-controlinput-user",on:{click:e.toggleSelfUser}},[n("span",{staticClass:"kiwi-controlinput-user-nick"},[e._v(e._s(e.currentNick))]),n("i",{staticClass:"fa",class:[e.selfuser_open?"fa-caret-down":"fa-caret-up"],attrs:{"aria-hidden":"true"}})]):e._e(),n("form",{staticClass:"kiwi-controlinput-form",on:{submit:function(t){return t.preventDefault(),e.submitForm(t)},click:e.maybeHidePlugins}},[e.autocomplete_open?n("auto-complete",{ref:"autocomplete",attrs:{items:e.autocomplete_items,filter:e.autocomplete_filter,buffer:e.buffer},on:{temp:e.onAutocompleteTemp,selected:e.onAutocompleteSelected,cancel:e.onAutocompleteCancel}}):e._e(),e.buffer.setting("share_typing")?n("typing-users-list",{attrs:{buffer:e.buffer}}):e._e(),n("div",{staticClass:"kiwi-controlinput-input-wrap"},[n("irc-input",{ref:"input",staticClass:"kiwi-controlinput-input",attrs:{placeholder:e.$t("input_placeholder"),wrap:"off"},on:{input:e.inputUpdate,keydown:function(t){return e.inputKeyDown(t)},keyup:function(t){return e.inputKeyUp(t)},click:e.closeInputTool,focus:function(t){e.has_focus=!0},blur:function(t){e.has_focus=!1}}})],1),e.shouldShowSendButton?n("button",{staticClass:"kiwi-controlinput-send fa fa-paper-plane",attrs:{type:"submit"}}):e._e()],1),e.shouldShowInputButtons?n("div",{ref:"plugins",staticClass:"kiwi-controlinput-tools"},[n("div",{staticClass:"kiwi-controlinput-tools-container-expand",class:{"kiwi-controlinput-tools-container-expand--inverse":!e.showPlugins},on:{click:function(t){e.showPlugins=!e.showPlugins}}},[n("i",{staticClass:"fa fa-bars",attrs:{"aria-hidden":"true"}})]),n("transition",{attrs:{name:"kiwi-plugin-ui-trans"}},[e.showPlugins?n("div",{staticClass:"kiwi-controlinput-tools-container"},[e.shouldShowColorPicker?n("a",{staticClass:"kiwi-controlinput-tool",on:{click:function(t){return t.preventDefault(),e.onToolClickTextStyle(t)}}},[n("i",{staticClass:"fa fa-adjust",attrs:{"aria-hidden":"true"}})]):e._e(),e.shouldShowEmojiPicker?n("a",{staticClass:"kiwi-controlinput-tool",on:{click:function(t){return t.preventDefault(),e.onToolClickEmoji(t)}}},[n("i",{staticClass:"fa fa-smile-o",attrs:{"aria-hidden":"true"}})]):e._e(),e._l(e.pluginUiElements,(function(t){return n("div",{directives:[{name:"rawElement",rawName:"v-rawElement",value:{el:t.el,props:{controlinput:e.self}},expression:"{\n                            el: plugin.el,\n                            props: {\n                                controlinput: self,\n                            }\n                        }"}],key:t.id,staticClass:"kiwi-controlinput-tool"})}))],2):e._e()])],1):e._e()],1),n("div",{staticClass:"kiwi-controlinput-active-tool"},[n(e.active_tool,e._b({tag:"component"},"component",e.active_tool_props,!1))],1)])},s=[]},"363e":function(e,t,n){},"364e":function(e,t,n){"use strict";var i=n("def7"),s=n.n(i);s.a},"36dc":function(e,t,n){"use strict";var i=n("2d80");i(t,"__esModule",{value:!0}),t.default=void 0;var s={props:["error"]};t.default=s,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["StartupError"],window._kiwi_exports.components.StartupError=t.default?t.default:t},3804:function(e,t,n){"use strict";n.r(t);var i=n("89ce"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"385f":function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("c90a")),o=s(n("52da")),c=s(n("a3e3")),u=s(n("284c")),l=s(n("4573")),f=s(n("acf5")),d=s(n("9f12")),p=s(n("53fe")),h=s(n("c03e")),w=s(n("8b83")),m=s(n("c65a")),v=s(n("ba10")),_=s(n("5ee5")),g=s(n("5e48")),k=s(n("2ef0")),b=s(n("b697")),y=i(n("862b")),C=s(n("0470"));function x(e){var t=$();return function(){var n,i=(0,m.default)(e);if(t){var s=(0,m.default)(this).constructor;n=(0,r.default)(i,arguments,s)}else n=i.apply(this,arguments);return(0,w.default)(this,n)}}function $(){if("undefined"===typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var S=null,N=[],A=0,M=function(e){(0,h.default)(n,e);var t=x(n);function n(){var e;return(0,d.default)(this,n),e=t.call(this),e.version="1.5.1",e.Vue=_.default,e.JSON5=g.default,e.state=null,e.themes=null,e.controlInputPlugins=[],e.stateBrowserPlugins=[],e.channelHeaderPlugins=[],e.queryHeaderPlugins=[],e.sideBarPlugins=[],e.appSettingsPlugins=[],e.serverViewPlugins=[],e.aboutBufferPlugins=[],e.tabs=(0,f.default)(null),e.isReady=!1,e.exports=window._kiwi_exports||{},e.on("init",(function(){e.isReady=!0,e.initPlugins()})),e}return(0,p.default)(n,[{key:"versionMatches",value:function(e){return(0,b.default)(this.version,e)>=0}},{key:"plugin",value:function(e,t){var n={name:e,fn:t};this.isReady?this.initPlugin(n):N.push(n)}},{key:"initPlugins",value:function(){var e=this;(0,l.default)(N).call(N,(function(t){return e.initPlugin(t)})),N=[]}},{key:"initPlugin",value:function(e){var t=C.default.namespace("Plugin ".concat(e.name));try{e.fn(this,t),this.state.$emit("plugin.loaded",{name:e.name})}catch(n){t.error(n.stack)}}},{key:"require",value:function(e){var t=e.replace(/\//g,"."),n=k.default.get(this.exports,t);return"undefined"===typeof n&&C.default.error("Module does not exist: "+e),n}},{key:"setState",value:function(e){var t=this;this.state=e;var n=this.state.$emit,i=this.emit;this.state.$emit=function(){for(var e,s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];try{var l,f;i.call.apply(i,(0,c.default)(l=[t,"all",a[0]]).call(l,(0,u.default)((0,o.default)(a).call(a,1)))),i.call.apply(i,(0,c.default)(f=[t]).call(f,a))}catch(d){C.default.error(d.stack)}return n.call.apply(n,(0,c.default)(e=[t.state]).call(e,a))},this.emit=function(){for(var e,s,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];n.call.apply(n,(0,c.default)(e=[t.state]).call(e,r)),i.call.apply(i,(0,c.default)(s=[t]).call(s,r))}}},{key:"setThemeManager",value:function(e){this.themes=e}},{key:"logLevel",value:function(e){C.default.setLevel(e)}},{key:"addUi",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={el:t,id:A++,args:n};switch(e){case"input":this.controlInputPlugins.push(i);break;case"browser":this.stateBrowserPlugins.push(i);break;case"header_channel":this.channelHeaderPlugins.push(i);break;case"header_query":this.queryHeaderPlugins.push(i);break;case"about_buffer":this.aboutBufferPlugins.push(i);break;default:break}}},{key:"addTab",value:function(e,t,n,i){var s={id:A++,title:t,component:n,props:i};switch(e){case"channel":this.sideBarPlugins.push(s);break;case"settings":this.appSettingsPlugins.push(s);break;case"server":this.serverViewPlugins.push(s);break;default:break}}},{key:"addView",value:function(e,t,n){this.tabs[e]={id:A++,component:_.default.extend(t),props:n||{}}}},{key:"showView",value:function(e){var t=this.tabs[e];t?this.state.$emit("active.component",t.component,t.props):this.state.$emit("active.component",null)}},{key:"showInSidebar",value:function(e){this.state.$emit("sidebar.component",e)}},{key:"addStartup",value:function(e,t){var n=this.state.getStartups();n[e]=t}},{key:"replaceModule",value:function(e,t){var n=this.require(e);if(!n)throw new Error("The module ".concat(e," does not exist"));y.replaceObjectProps(n,t)}},{key:"log",get:function(){return C.default}}],[{key:"singleton",value:function(){return S=S||new n,S}}]),n}(v.default);t.default=M,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["GlobalApi"],window._kiwi_exports.libs.GlobalApi=t.default?t.default:t},3901:function(e,t,n){},"395a":function(e,t,n){"use strict";n.r(t);var i=n("9767"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"3a09":function(e,t,n){},"3a28":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("fc56")),r=i(n("acf5")),o=i(n("4573")),c=i(n("6b47")),u=i(n("89ba")),l=i(n("2ef0")),f=i(n("0470")),d=i(n("6307")),p=f.default.namespace("Startup/kiwiBnc"),h={components:{StartupLayout:d.default},data:function(){return{loading:!1,username:"",password:"",statusMessage:""}},computed:{greetingText:function(){var e=this.$state.settings.startupOptions.greetingText;return"string"===typeof e?e:this.$t("start_greeting")},buttonText:function(){if(this.loading)return"";var e=this.$state.settings.startupOptions.buttonText;return"string"===typeof e?e:this.$t("start_button")}},methods:{startUp:function(){var e=(0,u.default)(c.default.mark((function e(){var t,n,i,s,a,r=this;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.statusMessage=this.$t("logging_in"),this.loading=!0,t=this.getBncNetwork(),n=function(){t.ircClient.off("registered",i),t.ircClient.off("irc error",s),t.ircClient.off("close",a)},i=function(){var e=(0,u.default)(c.default.mark((function e(){var i,s,a,o;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n(),e.next=3,t.ircClient.bnc.getNetworks();case 3:i=e.sent,s=0;case 5:if(!(s<i.length)){e.next=22;break}return a=i[s],a.buffers=[],e.prev=8,e.next=11,t.ircClient.bnc.getBuffers(a.name);case 11:o=e.sent,a.buffers=o,e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](8),p.error(e.t0);case 18:r.addNetworkToState(a);case 19:s++,e.next=5;break;case 22:r.monitorNetworkChanges(t,i),r.$refs.layout.close();case 24:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(){return e.apply(this,arguments)}}(),s=function(e){n(),r.statusMessage=r.$t("invalid_login"),r.loading=!1},a=function(e){n(),r.statusMessage=r.$t("invalid_login"),r.loading=!1},t.ircClient.once("registered",i),t.ircClient.once("irc error",s),t.ircClient.once("close",a),t.ircClient.connect();case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getBncNetwork:function(){var e=this.$state.setting("bnc");if(e.network)return e.username=this.username,e.password=this.password,e.network;var t=this.$state.settings.startupOptions;e.active=!0,e.server=t.server||"",e.port=t.port||6667,e.tls=!!t.tls,e.username=this.username,e.password=this.password;var n=this.$state.addNetwork("bnccontrol",this.username,{server:e.server,port:e.port,tls:e.tls});return e.network=n,n},addNetworkToState:function(e){var t,n=this,i=this.$state.addNetwork(e.name,e.nick,{server:e.host,port:e.port,tls:e.tls,password:e.password,bncname:e.name,username:e.user});(0,o.default)(t=e.buffers).call(t,(function(e){var t=n.$state.addBuffer(i.id,e.name);e.joined&&(t.enabled=!0),e.seen&&(t.last_read=new Date(e.seen).getTime())}))},monitorNetworkChanges:function(e,t){var n=this,i=(0,r.default)(null);function s(){var e;(0,o.default)(e=this.$state.networks).call(e,(function(e){e.connection.bncname&&(i[e.connection.bncname]={name:e.connection.bncname,host:e.connection.server,port:e.connection.port,tls:e.connection.tls,password:e.password,nick:e.nick,username:e.username})}))}s();var c=function(t){var a;(0,o.default)(a=n.$state.networks).call(a,(function(t){if("bnccontrol"!==t.name){var n=t.connection.bncname,s=i[n]||{},a={};t.connection.server!==s.host&&(a.host=t.connection.server),t.connection.port!==s.port&&(a.port=t.connection.port),t.connection.tls!==s.tls&&(a.tls=t.connection.tls),t.password!==s.password&&(a.password=t.password),t.nick!==s.nick&&(a.nick=t.nick),t.username!==s.username&&(a.user=t.username),!s.name&&a.host?(t.connection.bncname=t.name,e.ircClient.bnc.addNetwork(t.name,a.host,a.port,a.tls,a.nick,a.user,a.password)):s.name&&e.ircClient.bnc.saveNetwork(n,a)}})),s()},u=l.default.debounce(c,2e3);this.$state.$watch("networks",u,{deep:!0}),this.$state.$on("network.connecting",(function(n){c();var i=n.network.connection.bncname,s=(0,a.default)(l.default).call(l.default,t,{name:i});s&&!s.connected&&e.ircClient.raw("BOUNCER connect "+i)})),this.$state.$on("network.new",(function(e){var t=1,i=!0;while(i)i=(0,a.default)(l.default).call(l.default,n.$state.networks,{name:"Network"+t}),i||(e.network.name="Network"+t),t++})),this.$state.$on("network.removed",(function(t){e.ircClient.bnc.removeNetwork(t.network.connection.bncname)})),this.$state.$on("buffer.close",(function(t){var n=t.buffer,i=t.buffer.getNetwork(),s=i.connection.bncname;s&&e.ircClient.bnc.closeBuffer(s,n.name)}))}}};t.default=h,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["startups"]||(window._kiwi_exports["components"]["startups"]={}),window._kiwi_exports["components"]["startups"]["KiwiBnc"],window._kiwi_exports.components.startups.KiwiBnc=t.default?t.default:t},"3a94":function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("4573")),o=s(n("44a4")),c=s(n("2ef0")),u=i(n("862b")),l=s(n("6307")),f={components:{StartupLayout:l.default},data:function(){return{network:null,network_extras:null,username:"",password:"",znc_network:"",showNetwork:!0,showPass:!0,showUser:!0,show_password_box:!1}},computed:{greetingText:function(){var e=this.$state.settings.startupOptions.greetingText;return"string"===typeof e?e:this.$t("start_greeting")},buttonText:function(){var e=this.$state.settings.startupOptions.buttonText;return"string"===typeof e?e:this.$t("start_button")},readyToStart:function(){return this.username&&(this.password||!1===this.showPass)},infoContent:function(){return this.$state.settings.startupOptions.infoContent||""}},created:function(){var e=this.$state.settings.startupOptions;this.username=e.username||"",this.password=e.password||"",this.znc_network=window.location.hash.substr(1)||e.network||"",this.showNetwork="boolean"!==typeof e.showNetwork||e.showNetwork,this.showUser="boolean"!==typeof e.showUser||e.showUser,this.showPass="boolean"!==typeof e.showPass||e.showPass,e.autoConnect&&this.username&&this.password&&this.startUp()},methods:{readableStateError:function(e){return u.networkErrorMessage(e)},formSubmit:function(){this.readyToStart&&this.startUp()},addNetwork:function(e){var t=this.$state.settings.startupOptions,n=this.username;e&&(n+="/"+e),n+=":"+this.password;var i=this.$state.addNetwork(e,"ZNC",{server:(0,o.default)(c.default).call(c.default,t.server),port:t.port,tls:t.tls,password:n});return i},startUp:function(){var e=this;this.network&&this.$state.removeNetwork(this.network.id);var t=c.default.compact(this.znc_network.split(","));0===t.length&&t.push("");var n=this.network=this.addNetwork(t.shift());this.network_extras=t;var i=function t(){var i;e.$state.setActiveBuffer(n.id,n.serverBuffer().name),n.ircClient.off("registered",t),n.ircClient.off("close",s),(0,r.default)(i=e.network_extras).call(i,(function(t,n){var i=e.addNetwork((0,o.default)(c.default).call(c.default,t));i.ircClient.connect()})),e.$refs.layout.close()},s=function e(){n.ircClient.off("registered",i),n.ircClient.off("close",e)};n.ircClient.once("registered",i),n.ircClient.once("close",s),n.ircClient.connect()}}};t.default=f,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["startups"]||(window._kiwi_exports["components"]["startups"]={}),window._kiwi_exports["components"]["startups"]["ZncLogin"],window._kiwi_exports.components.startups.ZncLogin=t.default?t.default:t},"3b2f":function(e,t,n){"use strict";n.r(t);var i=n("b7cd"),s=n("cd21");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("abdc");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},"3c38":function(e){e.exports=JSON.parse('[["af-za","Afrikaans (Afrikaans)"],["sq-al","Shqip (Albanian)"],["ar-sa"," (Arabic)"],["eu-es","Euskara (Basque)"],["bs-ba","Bosanski (Bosnian)"],["bg-bg"," (Bulgarian)"],["ca-es","Catal (Catalan)"],["zh-cn"," (Chinese Simplified)"],["nl-nl","Nederlands (Dutch)"],["en-us","English (English)"],["fr-fr","Franais (French)"],["gl-es","Galego (Galician)"],["de-de","Deutsch (German)"],["el-gr"," (Greek)"],["he-il"," (Hebrew)"],["id-id","Bahasa Indonesia (Indonesian)"],["it-it","Italiano (Italian)"],["pl-pl","Polski (Polish)"],["pt-pt","Portugus (Portuguese)"],["pt-br","Portugus do Brasil (Portuguese, Brazilian)"],["ru-ru"," (Russian)"],["es-es","Espaol (Spanish)"],["es-ar","Espaol argentino (Spanish, Argentina)"],["es-us","Espaol mexicano (Spanish, Mexican)"],["uk-ua"," (Ukrainian)"]]')},"3c51":function(e,t,n){"use strict";n.r(t);var i=n("a88c"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"3cac":function(e,t,n){"use strict";var i=n("8fff"),s=n.n(i);s.a},"3ce8":function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("44a4")),o=s(n("82ec")),c=s(n("14b1")),u=s(n("a3e3")),l=s(n("e4f0")),f=s(n("284c")),d=s(n("2b0b")),p=s(n("65b8")),h=s(n("78b2")),w=s(n("4573")),m=s(n("b6ce")),v=s(n("acf5")),_=s(n("e9c4")),g=s(n("0470")),k=i(n("8f39")),b=s(n("f07a")),y=s(n("036e")),C=s(n("5d58")),x=s(n("baf0")),$=s(n("6645"));n("040f");var S=g.default.namespace("MessageList.vue"),N=60,A={components:{BufferKey:b.default,MessageListMessageModern:C.default,MessageListMessageCompact:y.default,MessageListMessageInline:x.default,LoadingAnimation:$.default},props:["buffer"],data:function(){return{smooth_scroll:!1,auto_scroll:!0,force_smooth_scroll:null,chathistoryAvailable:!0,hover_nick:"",message_info_open:null,timeToClose:!1,startClosing:!1,selectedMessages:(0,v.default)(null)}},computed:{thisMl:function(){return this},listType:function(){return this.$state.setting("messageLayout")&&S.info("Deprecation Warning: The config option 'messageLayout' has been moved to buffers.messageLayout"),this.buffer.setting("messageLayout")||this.$state.setting("messageLayout")},useExtraFormatting:function(){return this.buffer.setting("extra_formatting")},shouldShowChathistoryTools:function(){if("connected"!==this.buffer.getNetwork().state)return!1;var e=this.buffer.isChannel()||this.buffer.isQuery(),t=!!this.buffer.getNetwork().ircClient.chathistory.isSupported();return e&&t&&(0,m.default)(this.buffer).chathistory_available},shouldRequestChannelKey:function(){return"connected"===this.buffer.getNetwork().state&&this.buffer.isChannel()&&(0,m.default)(this.buffer).channel_badkey},ourNick:function(){return this.buffer?this.buffer.getNetwork().nick:""},filteredMessagesGroupedDay:function(){var e,t=[],n=null;return(0,w.default)(e=this.filteredMessages).call(e,(function(e){var i=Math.floor(e.time/1e3/86400);n&&i===n||(t.push({dayNum:i,messages:[]}),n=i),t[t.length-1].messages.push(e)})),t},filteredMessages:function(){return k.orderedMessages(this.buffer)},shouldShowJoiningLoader:function(){return this.buffer.isChannel()&&this.buffer.enabled&&!this.buffer.joined&&"connected"===this.buffer.getNetwork().state}},watch:{filteredMessages:function(){var e=this;this.checkScrollingState(),this.$nextTick((function(){e.maybeScrollToBottom()}))},buffer:function(e,t){var n=this;t&&(t.isMessageTrimming=!0),e&&(this.message_info_open=null,"connected"===this.buffer.getNetwork().state&&((0,m.default)(e).has_opened=!0),this.auto_scroll=!0,this.force_smooth_scroll=!1,this.$nextTick((function(){n.scrollToBottom()})))}},mounted:function(){var e=this;this.addCopyListeners(),this.$nextTick((function(){e.scrollToBottom()})),this.listen(this.$state,"mediaviewer.opened",(function(){e.$nextTick(e.maybeScrollToBottom.apply(e))})),this.listen(this.$state,"messagelist.scrollto",(function(t){t&&t.id&&e.maybeScrollToId(t.id)}))},methods:{isHoveringOverMessage:function(e){return e.nick&&e.nick.toLowerCase()===this.hover_nick.toLowerCase()},toggleMessageInfo:function(e){if(e){if(this.message_info_open===e);else if(this.canShowInfoForMessage(e)){var t,n=window.getSelection();if(n.rangeCount>0){var i=n.getRangeAt(0);if(i&&!i.collapsed)return}this.message_info_open=e,this.$nextTick((0,h.default)(t=this.maybeScrollToBottom).call(t,this))}}else this.message_info_open=null},shouldShowUnreadMarker:function(e){var t,n=(0,p.default)(t=this.filteredMessages).call(t,e),i=this.filteredMessages[n-1],s=this.filteredMessages[n],a=this.buffer.last_read;return!!a&&(!!s&&!!(i&&i.time<a&&s.time>a))},shouldShowDateChangeMarker:function(e){var t=this.filteredMessages[e-1],n=this.filteredMessages[e];return!t&&new Date(n.time).getDay()!==(new Date).getDay()||!!t&&new Date(t.time).getDay()!==new Date(n.time).getDay()},canShowInfoForMessage:function(e){var t=["privmsg","notice","action"];return(0,p.default)(t).call(t,e.type)>-1},bufferSetting:function(e){return this.buffer.setting(e)},formatTime:function(e){return(0,_.default)(this.buffer.setting("timestamp_format")||"%T",new Date(e))},formatTimeFull:function(e){var t=this.buffer.setting("timestamp_full_format");return t?(0,_.default)(t,new Date(e)):new Date(e).toLocaleString()},formatMessage:function(e){return e.toHtml(this)},isMessageHighlight:function(e){return"traffic"!==e.type&&e.isHighlight},userColour:function(e){return e&&this.bufferSetting("colour_nicknames_in_messages")?e.getColour():""},openUserBox:function(e){var t=this.$state.getUser(this.buffer.networkid,e);t&&this.$state.$emit("userbox.show",t,{buffer:this.buffer})},onListClick:function(e){this.toggleMessageInfo()},onMessageDblClick:function(e,t){clearTimeout(this.messageClickTmr);var n=e.target.getAttribute("data-nick");if(n){var i=this.buffer.getNetwork(),s=i.userByName(n),a=s&&s.nick?s.nick:n;this.$state.$emit("input.insertnick",a)}},onMessageClick:function(e,t,n){if(n&&e.target.getAttribute("data-nick"))return clearTimeout(this.messageClickTmr),void(this.messageClickTmr=(0,d.default)(this.onMessageClick,200,e,t,!1));var i="A"===e.target.tagName,s=e.target.getAttribute("data-channel-name");if(s&&i){var a=this.buffer.getNetwork();return this.$state.addBuffer(this.buffer.networkid,s),a.ircClient.join(s),void this.$state.setActiveBuffer(this.buffer.networkid,s)}var r=e.target.getAttribute("data-nick");if(r&&i)this.openUserBox(r);else{var o=e.target.getAttribute("data-url");if(o&&i&&(this.$state.setting("buffers.inline_link_auto_previews")?(t.embed.type="url",t.embed.payload=o):this.$state.$emit("mediaviewer.show",o)),this.message_info_open&&this.message_info_open!==t)return this.toggleMessageInfo(),void e.preventDefault();this.$state.ui.is_touch&&this.$state.setting("buffers.show_message_info")&&(this.canShowInfoForMessage(t)&&"A"===e.target.nodeName&&e.preventDefault(),this.toggleMessageInfo(t))}},checkScrollingState:function(){var e=this.$el,t=e.scrollHeight-(e.offsetHeight+e.scrollTop);t>N?(this.auto_scroll=!1,this.buffer.isMessageTrimming=!1):(this.auto_scroll=!0,this.buffer.isMessageTrimming=!0),null!==this.force_smooth_scroll?(this.smooth_scroll=this.force_smooth_scroll,this.force_smooth_scroll=null):this.smooth_scroll=!1},onListResize:function(e){this.maybeScrollToBottom()},scrollToBottom:function(){this.$el.scrollTop=this.$el.scrollHeight},maybeScrollToBottom:function(){this.auto_scroll&&this.scrollToBottom()},maybeScrollToId:function(e){var t=this.$el.querySelector('.kiwi-messagelist-message[data-message-id="'+e+'"]');t&&t.offsetTop&&(this.$el.scrollTop=t.offsetTop,this.auto_scroll=!1)},getSelectedMessages:function(){var e=document.getSelection(),t=e.getRangeAt(0),n=(0,f.default)(this.$el.querySelectorAll(".kiwi-messagelist-message")),i=(0,l.default)(n).call(n,(function(e){return t.intersectsNode(e)}));return i},restrictTextSelection:function(){document.querySelector("body").classList.add("kiwi-unselectable"),this.$el.style.userSelect="text"},unrestrictTextSelection:function(){document.querySelector("body").classList.remove("kiwi-unselectable"),this.$el.style.userSelect="auto"},removeSelections:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.selectedMessages=(0,v.default)(null);var t=document.getSelection();e&&t&&t.removeAllRanges()},addCopyListeners:function(){var e=this,t=function(e){var t,n,i="";switch(e.type){case"privmsg":i=(0,u.default)(t="<".concat(e.nick,"> ")).call(t,e.message);break;case"nick":case"mode":case"action":case"traffic":i="".concat(e.message);break;default:i=e.message}return i.length?(0,u.default)(n="[".concat(new Date(e.time).toLocaleTimeString({hour:"2-digit",minute:"2-digit",second:"2-digit"}),"] ")).call(n,i):null},n="",i=!1,s=null;this.listen(document,"selectstart",(function(t){if(!e.$el.contains(t.target))return n="",void e.removeSelections();e.removeSelections(),s=e.listen(document,"selectionchange",a)})),this.listen(document,"mouseup",(function(t){s&&s(),e.unrestrictTextSelection(),i&&t.preventDefault(),i=!1}));var a=function(s){if(!e.$el)return!0;n="";var a=document.getSelection();if(!a||!a.anchorNode||!a.anchorNode.parentNode.closest("."+e.$el.className))return e.unrestrictTextSelection(),e.removeSelections(),!0;if(e.removeSelections(),e.restrictTextSelection(),a.rangeCount>0){var u,f;i=!0;var d=e.getSelectedMessages(),p=[];(0,w.default)(d).call(d,(function(t){var n=e.buffer.messagesObj.messageIds[t.dataset.messageId];n&&p.push(n)})),1===p.length&&(p=[]),e.selectedMessages=(0,v.default)(null),(0,w.default)(p).call(p,(function(t){e.selectedMessages[t.id]=t})),n=(0,c.default)(u=(0,l.default)(f=(0,o.default)(p).call(p,(function(e,t){return e.time>t.time?1:-1}))).call(f,(function(e){var t;return(0,r.default)(t=e.message).call(t).length}))).call(u,t).join("\r\n")}else e.unrestrictTextSelection();return!1};this.listen(document,"copy",(function(e){if(!n||!n.length)return!0;if(navigator.clipboard)navigator.clipboard.writeText(n);else{var t=document.createElement("textarea");document.body.appendChild(t),t.innerHTML=n,t.select(),document.execCommand("copy"),document.body.removeChild(t)}return!0}))},openEmbedInPreview:function(e){var t=e.embed;"url"===t.type?this.$state.$emit("mediaviewer.show",t.payload):"component"===t.type&&this.$state.$emit("mediaviewer.show",{component:t.payload}),t.payload=null}}};t.default=A,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["MessageList"],window._kiwi_exports.components.MessageList=t.default?t.default:t},"3d2a":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("df3a")),r={c:{Avatar:a.default},props:["message","user"]};t.default=r,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["MessageListAvatar"],window._kiwi_exports.components.MessageListAvatar=t.default?t.default:t},"3d4c":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-statebrowser kiwi-theme-bg"},[e.$state.setting("hideSettings")?e._e():n("div",{staticClass:"kiwi-statebrowser-appsettings",attrs:{title:e.$t("kiwi_settings")},on:{click:e.clickAppSettings}},[n("i",{staticClass:"fa fa-cog",attrs:{"aria-hidden":"true"}})]),e.isPersistingState?n("state-browser-usermenu",{attrs:{network:e.getNetwork}}):e._e(),n("div",{staticClass:"kiwi-statebrowser-tools"},e._l(e.pluginUiElements,(function(e){return n("div",{directives:[{name:"rawElement",rawName:"v-rawElement",value:e.el,expression:"plugin.el"}],key:e.id,staticClass:"kiwi-statebrowser-tool"})})),0),Object.keys(e.provided_networks).length>0?n("div",{staticClass:"kiwi-statebrowser-availablenetworks"},[n("div",{staticClass:"kiwi-statebrowser-availablenetworks-toggle",on:{click:function(t){e.show_provided_networks=!e.show_provided_networks}}},[e._v("  "+e._s(e.$t("state_available"))+" ")]),n("div",{staticClass:"kiwi-statebrowser-availablenetworks-networks",class:{"kiwi-statebrowser-availablenetworks-networks--open":e.show_provided_networks}},e._l(e.provided_networks,(function(t,i){return n("div",{key:i,staticClass:"kiwi-statebrowser-availablenetworks-type"},[n("div",{staticClass:"kiwi-statebrowser-availablenetworks-name"},[e._v(e._s(i))]),e._l(t,(function(t){return n("div",{key:t.name,staticClass:"kiwi-statebrowser-availablenetworks-link",class:[t.connected?"kiwi-statebrowser-availablenetworks-link--connected":""]},[n("a",{on:{click:function(n){return e.connectProvidedNetwork(t)}}},[e._v(e._s(t.name))]),n("br")])}))],2)})),0)]):e._e(),n("div",{staticClass:"kiwi-statebrowser-scrollarea"},[n("div",{staticClass:"kiwi-statebrowser-networks"},e._l(e.networksToShow,(function(t){return n("state-browser-network",{key:t.id,attrs:{network:t,"sidebar-state":e.sidebarState}})})),1)]),e.isRestrictedServer?e._e():n("div",{staticClass:"kiwi-statebrowser-newnetwork"},[n("a",{staticClass:"u-button u-button-primary",on:{click:e.clickAddNetwork}},[e._v(" "+e._s(e.$t("add_network"))+" "),n("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}})])])],1)},s=[]},"3ea4":function(e,t,n){},"3ea7":function(e,t,n){},"3ee2":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-wrap kiwi-wrap-error"},[n("h2",[e._v("Kiwi IRC could not start :(")]),n("div",[e._v(e._s(e.error))])])},s=[]},"3f9b":function(e,t,n){"use strict";n.r(t);var i=n("0b98"),s=n("8ffb");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("132e");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},"40cd":function(e,t,n){"use strict";var i=n("4934"),s=n.n(i);s.a},"43bd":function(e,t,n){"use strict";n.r(t);var i=n("2908"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},4503:function(e,t,n){"use strict";var i=n("1001"),s=n.n(i);s.a},"45ab":function(e,t,n){},"45d1":function(e,t,n){"use strict";var i=n("2d80");i(t,"__esModule",{value:!0}),t.default=void 0;var s=n("5ee5"),a=s.component("input-prompt",{props:["label","hideCancel","noprompt","block"],data:function(){return{value:"",state:"pre"}},created:function(){this.noprompt&&this.prompt()},methods:{prompt:function(){var e=this;this.state="prompt",this.$nextTick((function(){e.$el.querySelector("input").focus()}))},complete:function(){this.$emit("submit",this.value),this.state="pre"},cancel:function(){this.$emit("cancel"),this.state="pre"}}});t.default=a,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["utils"]||(window._kiwi_exports["components"]["utils"]={}),window._kiwi_exports["components"]["utils"]["InputPrompt"],window._kiwi_exports.components.utils.InputPrompt=t.default?t.default:t},"462f":function(e,t,n){"use strict";n.r(t);var i=n("2865"),s=n("d831");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("7197");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!0,null,null,null);t["default"]=o.exports},"46d4":function(e,t,n){"use strict";n.r(t);var i=n("ccca"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"474e":function(e,t,n){"use strict";n.r(t);var i=n("4c9f"),s=n("9465");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("002e");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},"480a":function(e,t,n){"use strict";n.r(t);var i=n("691c"),s=n("708b");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("cb48");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},"48aa":function(e,t,n){},4934:function(e,t,n){},"49a2":function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("65b8")),o=s(n("44a4")),c=s(n("a3e3")),u=s(n("4573")),l=i(n("104d")),f=i(n("5a16")),d=i(n("7277")),p=s(n("9332")),h=s(n("e54d")),w=s(n("462f")),m={components:{AwayStatusIndicator:w.default},props:["buffer","network","user"],data:function(){return{whoisRequested:!1,whoisLoading:!1}},computed:{availableChannelModes:function(){var e=[],t=this.network.ircClient.network.options.PREFIX,n={q:"Owner",a:"Admin",o:"Operator",h:"Half-Operator",v:"Voice"};return d.isAChannelModeAdmin(this.network)||delete n.a,d.isQChannelModeOwner(this.network)||delete n.q,d.supportsHalfOp(this.network)||delete n.h,(0,u.default)(t).call(t,(function(t){var i=t.mode;n[i]&&e.push({mode:i,description:n[i]})})),e},areWeAnOp:function(){return!!this.buffer&&this.buffer.isUserAnOp(this.buffer.getNetwork().nick)},formattedRealname:function(){var e=(0,h.default)(this.user.realname||"",{extras:!1}),t=(0,p.default)(e,!1);return t},isUserOnBuffer:function(){return!!this.buffer&&!!this.user.buffers[this.buffer.id]},userMode:{get:function(){if(!this.buffer)return"";var e=this.user.buffers[this.buffer.id];if(!e)return"";var t=e.modes;return t.length>0?t[0]:""},set:function(e){var t,n=this.network.ircClient,i=this.userMode,s=[],a=[];i&&(s.push("-"+i),a.push(this.user.nick)),e&&(s.push("+"+e),a.push(this.user.nick));var r=(0,c.default)(t=["MODE",this.buffer.name,s.join("")]).call(t,a);n.raw(r)}},userChannels:function(){for(var e,t=(0,o.default)(e=this.user.channels).call(e).split(" "),n=0;n<t.length;n++)t[n]=f.linkifyChannels(t[n]);return t.join(" ")},isSelf:function(){return this.user===this.network.currentUser()}},watch:{user:function(){this.whoisRequested=!1,this.whoisLoading=!1}},methods:{userModeOnThisBuffer:function(e){if(!this.buffer)return"";var t=e.buffers[this.buffer.id],n=t.modes;return n.length>0?n[0]:""},openQuery:function(){var e=this.$state.addBuffer(this.network.id,this.user.nick);this.$state.setActiveBuffer(this.network.id,e.name),this.$state.ui.is_narrow&&this.$state.$emit("userbox.hide")},onChannelsClick:function(e){var t=e.target.getAttribute("data-channel-name");if(t){var n=this.buffer.getNetwork();this.$state.addBuffer(this.buffer.networkid,t),n.ircClient.join(t)}},updateWhoisData:function(){var e=this;this.whoisRequested=!0,this.whoisLoading=!0,this.network.ircClient.whois(this.user.nick,(function(){e.whoisLoading=!1}))},kickUser:function(){var e=this.$state.setting("buffers.default_kick_reason");this.network.ircClient.raw("KICK",this.buffer.name,this.user.nick,e)},createBanMask:function(){if(this.user.account){var e,t=d.extbanAccount(this.network);if(t)return t+":"+this.user.account;if((0,r.default)(e=this.user.host.toLowerCase()).call(e,this.user.account.toLowerCase())>-1)return"*!*@"+this.user.host}var n=new RegExp("("+l.v4().source+"|"+l.v6().source+")");if(n.test(this.user.host)){var i=this.user.host.match(n)[0];if(i!==this.user.host)return"*!*@*"+i+"*"}var s=/^([a-f0-9]{8})$/i;if(s.test(this.user.username)){var a=this.user.username.match(s)[0];return"*!"+a+"@*"}var o=this.$state.setting("buffers.default_ban_mask");return o=o.replace("%n",this.user.nick),o=o.replace("%i",this.user.username),o=o.replace("%h",this.user.host),o},banUser:function(){if(this.user.username&&this.user.host){var e=this.createBanMask();this.network.ircClient.raw("MODE",this.buffer.name,"+b",e)}},kickbanUser:function(){if(this.user.username&&this.user.host){var e=this.createBanMask(),t=this.$state.setting("buffers.default_kick_reason");this.network.ircClient.raw("MODE",this.buffer.name,"+b",e),this.network.ircClient.raw("KICK",this.buffer.name,this.user.nick,t)}}}};t.default=m,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["UserBox"],window._kiwi_exports.components.UserBox=t.default?t.default:t},"4b61":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-ircinput"},[n("div",{ref:"editor",staticClass:"kiwi-ircinput-editor",attrs:{placeholder:e.placeholder,contenteditable:"true",role:"textbox",spellcheck:"true"},on:{keypress:function(t){e.updateValueProps(),e.$emit("keypress",t)},keydown:function(t){e.updateValueProps(),e.$emit("keydown",t)},keyup:function(t){e.updateValueProps(),e.$emit("keyup",t)},textInput:function(t){e.updateValueProps(),e.onTextInput(t),e.$emit("textInput",t)},mouseup:function(t){return e.updateValueProps()},click:function(t){return e.$emit("click",t)},paste:e.onPaste,focus:function(t){return e.onFocus()},blur:function(t){return e.$emit("blur",t)}}})])},s=[]},"4c9f":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-autocomplete kiwi-theme-bg"},e._l(e.filteredAndLimitedItems,(function(t){return n("div",{key:t.type+t.text,class:{"kiwi-autocomplete-item":!0,"kiwi-autocomplete-item--selected":t.idx===e.selected_idx},on:{click:function(n){e.selected_idx=t.idx,e.selectCurrentItem()}}},["user"===t.type?[n("span",{staticClass:"kiwi-autocomplete-item-value"},[e._v(e._s(t.text))]),n("span",{staticClass:"u-link kiwi-autocomplete-item-action",on:{click:function(n){return n.stopPropagation(),e.openQuery(t.text)}}},[e._v(" "+e._s(e.$t("send_message"))+" ")])]:"command"===t.type?[n("span",{staticClass:"kiwi-autocomplete-item-value"},[e._v(e._s(t.text))]),n("span",{staticClass:"u-link kiwi-autocomplete-item-description"},[e._v(" "+e._s(t.description)+" ")])]:[n("span",{staticClass:"kiwi-autocomplete-item-value"},[e._v(e._s(t.text))])]],2)})),0)},s=[]},"4cdc":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=r;var a=i(n("2b0b"));function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=!1,s=[],r=0,o=null,c=1e3,u=null;function l(){if(r=0,s.length){var e=s;s=[],t(e),o=(0,a.default)(l,c)}else o=null}function f(){o||(o=(0,a.default)(l,c))}function d(){o||u||(u=(0,a.default)((function(){u=null,o||(r=0)}),c))}function p(t){i||r++,s.length||r>n?(s.push(t),f()):(i=!0,(0,a.default)((function(){i=!1})),e(t),d())}return p.queue=function(){return s},p}window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["batchedAdd"],window._kiwi_exports.libs.batchedAdd=t.default?t.default:t},"4f99":function(e,t,n){"use strict";n("514b")},"4ff2":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-typinguserslist"},[e._l(e.typingUsers,(function(t,i){return n("span",{key:t.nick,style:{color:e.userColour(t)}},[e._v(" "+e._s(t.nick)+e._s(e.typingUsers.length-1>i?",":"")+" ")])})),e._v(" "+e._s(e.typingUsers.length>0?"":"")+" ")],2)},s=[]},"50ab":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("startup-layout",{ref:"layout",staticClass:"kiwi-welcome-simple",scopedSlots:e._u([e.startupOptions.altComponent?{key:"connection",fn:function(){return[n(e.startupOptions.altComponent,{tag:"component",on:{close:e.onAltClose}})]},proxy:!0}:{key:"connection",fn:function(){return[n("form",{staticClass:"u-form u-form--big kiwi-welcome-simple-form",on:{submit:function(t){return t.preventDefault(),e.formSubmit(t)}}},[n("h2",{domProps:{innerHTML:e._s(e.greetingText)}}),e.errorMessage?n("div",{staticClass:"kiwi-welcome-simple-error"},[e._v(e._s(e.errorMessage))]):e.network&&(e.network.last_error||e.network.state_error)?n("div",{staticClass:"kiwi-welcome-simple-error"},[!e.network.last_error&&e.network.state_error?n("span",[e._v(" "+e._s(e.$t("network_noconnect"))+" ")]):e._e(),n("span",[e._v(" "+e._s(e.network.last_error||e.readableStateError(e.network.state_error))+" ")])]):e._e(),n("input-text",{directives:[{name:"focus",rawName:"v-focus",value:!e.nick||!e.show_password_box,expression:"!nick || !show_password_box"}],attrs:{label:e.$t("nick"),type:"text"},model:{value:e.nick,callback:function(t){e.nick=t},expression:"nick"}}),e.showPass&&e.toggablePass?n("div",{staticClass:"kiwi-welcome-simple-input-container"},[n("label",{staticClass:"kiwi-welcome-simple-have-password"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.show_password_box,expression:"show_password_box"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.show_password_box)?e._i(e.show_password_box,null)>-1:e.show_password_box},on:{change:function(t){var n=e.show_password_box,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.show_password_box=n.concat([a])):r>-1&&(e.show_password_box=n.slice(0,r).concat(n.slice(r+1)))}else e.show_password_box=s}}}),n("span",[e._v(" "+e._s(e.$t("password_have"))+" ")])])]):e._e(),!e.showPass||!e.show_password_box&&e.toggablePass?e._e():n("div",{staticClass:"kiwi-welcome-simple-input-container"},[n("input-text",{directives:[{name:"focus",rawName:"v-focus",value:e.nick||e.show_password_box,expression:"nick || show_password_box"}],attrs:{"show-plain-text":!0,label:e.$t("password"),type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e.showChannel?n("div",{staticClass:"kiwi-welcome-simple-input-container"},[n("input-text",{attrs:{label:e.$t("channel")},model:{value:e.channel,callback:function(t){e.channel=t},expression:"channel"}})],1):e._e(),n("captcha",{attrs:{network:e.network}}),e.network&&"disconnected"!==e.network.state?n("button",{staticClass:"u-button u-button-primary u-submit kiwi-welcome-simple-start",attrs:{disabled:""}},[n("i",{staticClass:"fa fa-spin fa-spinner",attrs:{"aria-hidden":"true"}})]):n("button",{staticClass:"u-button u-button-primary u-submit kiwi-welcome-simple-start",attrs:{disabled:!e.readyToStart,type:"submit"},domProps:{innerHTML:e._s(e.buttonText)}}),n("div",{domProps:{innerHTML:e._s(e.footerText)}})],1)]},proxy:!0}],null,!0)})},s=[]},51357:function(e,t,n){"use strict";n.r(t);var i=n("35e1"),s=n("9208");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("b119");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},"514b":function(e,t,n){"use strict";n.r(t);var i=n("610e"),s=n("1109");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("6e56");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},"51e1":function(e,t,n){"use strict";var i=n("e25e"),s=n.n(i);s.a},"51e2":function(e,t,n){"use strict";n.r(t);var i=n("d587"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"52fe":function(e,t,n){"use strict";var i=n("3a09"),s=n.n(i);s.a},5318:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("img",{staticClass:"kiwi-loading-logo",attrs:{src:n("134c")}}),i("canvas",{staticClass:"kiwi-loading-animation"})])}]},"53c1":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("fa81")),r=i(n("4573")),o=i(n("385f")),c=i(n("9332")),u=i(n("e54d")),l=i(n("b4f0")),f=i(n("57d8")),d=i(n("8e26")),p=i(n("462f")),h={components:{BufferSettings:l.default,ChannelInfo:f.default,ChannelBanlist:d.default,AwayStatusIndicator:p.default},props:["buffer","sidebarState"],data:function(){return{pluginUiChannelElements:o.default.singleton().channelHeaderPlugins,pluginUiQueryElements:o.default.singleton().queryHeaderPlugins,prompts:{closeChannel:!1}}},computed:{isJoined:function(){var e=this.buffer;return"connected"===e.getNetwork().state&&e.joined},isConnected:function(){return"connected"===this.buffer.getNetwork().state},formattedTopic:function(){var e=(0,u.default)(this.buffer.topic,{extras:!1}),t=(0,c.default)(e);return t},network:function(){return this.buffer.getNetwork()},sidebarSection:function(){return this.sidebarState.section()},userOnline:function(){var e=this.$state.getUser(this.buffer.getNetwork().id,this.buffer.name);return!!e}},created:function(){var e=this;this.listen(this.$state,"document.clicked",(function(t){var n;e.$el.contains(t.target)||(0,r.default)(n=(0,a.default)(e.prompts)).call(n,(function(t){e.prompts[t]=!1}))}))},methods:{showPrompt:function(e){this.prompts[e]=!0},isChannel:function(){return this.buffer.isChannel()},isServer:function(){return this.buffer.isServer()},isQuery:function(){return this.buffer.isQuery()},isSpecial:function(){return this.buffer.isSpecial()},showNetworkSettings:function(e){e.showServerBuffer("settings")},onConnectButtonClick:function(){var e=this.buffer.getNetwork();e.connection.server?e.ircClient.connect():e.showServerBuffer("settings")},toggleUser:function(){var e=this.$state.getUser(this.buffer.getNetwork().id,this.buffer.name);this.sidebarState.toggleUser(e)},joinCurrentBuffer:function(){var e=this.buffer.getNetwork();this.buffer.enabled=!0,e.ircClient.join(this.buffer.name)},closeCurrentBuffer:function(){this.$state.removeBuffer(this.buffer)},onHeaderClick:function(e){var t=e.target.getAttribute("data-channel-name");if(t){var n=this.buffer.getNetwork();this.$state.addBuffer(this.buffer.networkid,t),n.ircClient.join(t)}}}};t.default=h,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["ContainerHeader"],window._kiwi_exports.components.ContainerHeader=t.default?t.default:t},"53e5":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-channelbanlist"},[n("form",{staticClass:"u-form kiwi-channelbanlist",on:{submit:function(e){e.preventDefault()}}},[n("a",{staticClass:"u-link",on:{click:e.updateBanlist}},[e._v(e._s(e.$t("bans_refresh")))]),e.banlist.length>0?n("table",{staticClass:"kiwi-channelbanlist-table"},[n("tr",[n("th",[e._v(e._s(e.$t("bans_user")))]),n("th"),n("th")]),e._l(e.banlist,(function(t){return n("tr",{key:t.banned,attrs:{title:"By "+t.banned_by}},[n("td",{staticClass:"kiwi-channelbanlist-table-mask"},[e._v(e._s(t.banned))]),n("td",{staticClass:"kiwi-channelbanlist-table-bannedat"},[e._v(" "+e._s(new Date(1e3*t.banned_at).toDateString())+" ")]),n("td",{staticClass:"kiwi-channelbanlist-table-actions"},[n("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"},on:{click:function(n){return e.removeBan(t.banned)}}})])])}))],2):e.is_refreshing?n("div",[e._v(" "+e._s(e.$t("bans_refreshing"))+" ")]):n("div",{staticClass:"kiwi-channelbanlist-empty"},[e._v(" "+e._s(e.$t("bans_nobody"))+" ")])])])},s=[]},5426:function(e,t,n){"use strict";n.r(t);var i=n("b5b6"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"563e":function(e,t,n){"use strict";var i=n("3ea7"),s=n.n(i);s.a},5647:function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("6b47")),o=s(n("2b0b")),c=s(n("3818")),u=s(n("89ba")),l=s(n("fc56")),f=i(n("5a16")),d=i(n("862b")),p=s(n("b4ef")),h=s(n("8753")),w=!0,m={data:function(){return{hasOtherTab:!1,addedNetworkToExisting:!1,server:null,readyToShowOptions:!1}},computed:{networks:function(){return this.$state.networks},hasFragment:function(){return window.location.hash&&window.location.hash.length>1}},created:function(){var e=this;this.$state.setting("allowRegisterProtocolHandler",!0);var t=null;this.hasFragment&&(t=this.parseFragment(),this.server=t),t?this.findOtherTabs().then((function(t){t?e.hasOtherTab=!0:(e.listenForOtherTabs(),e.init()),e.readyToShowOptions=!0})):(this.listenForOtherTabs(),this.init())},methods:{listenForOtherTabs:function(){var e=this;h.default.on("message",(function(t){var n=t.data;if("ping"===n.type&&e.networks.length>0)h.default.send({type:"pong"});else if("addNetwork"===n.type){var i,s=(0,l.default)(i=e.networks).call(i,(function(e){return e.name===n.server}));s||(s=e.$state.addNetwork(n.server,n.nick||"Guest"+Math.floor(100*Math.random()),n)),s.showServerBuffer("settings")}}))},addEmptyNetwork:function(){var e="Guest"+Math.floor(100*Math.random()),t=this.$state.addNetwork(f.t("new_network"),e,{});t.showServerBuffer("settings")},findOtherTabs:function(){return(0,u.default)(r.default.mark((function e(){return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new c.default((function(e,t){var n=function(t){var n=t.data;"pong"===n.type&&(clearTimeout(i),e(!0))},i=(0,o.default)((function(t){h.default.removeListener("message",n),e(!1)}),200);h.default.on("message",n),h.default.send({type:"ping"})})));case 1:case"end":return e.stop()}}),e)})))()},addNetworkToExistingTab:function(){var e="Guest"+Math.floor(100*Math.random()),t=this.server;this.$state.addNetwork(f.t("new_network"),e,{}),h.default.send({nick:e,server:t.server,port:t.port,tls:t.tls,password:t.password||"",type:"addNetwork"}),window.location.hash="",this.addedNetworkToExisting=!0},addNetwork:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.server){var t=this.server;e&&(this.$state.persistence.storageKey=null,this.$state.persistence.forgetState(),this.init());var n=this.$state.getNetworkFromAddress(t.server);n||(n=this.$state.addNetwork(t.server,t.nick||"Guest"+Math.floor(100*Math.random()),{server:t.server,port:t.port,tls:t.tls,password:t.password||""})),window.location.hash="",n.showServerBuffer("settings"),this.$emit("start",{fallbackComponent:this.constructor})}},parseFragment:function(){if(window.location.hash.substr(1)){var e=window.location.hash.substr(1),t=e.substr(0,7).toLowerCase();"ircs%3a"!==t&&"irc%3a"!==t.substr(0,6)||(e=decodeURIComponent(e));var n=d.parseIrcUri(e),i=n[0];return i}return null},toggleStateBrowser:function(){this.$state.$emit("statebrowser.show")},init:function(){var e=this;return(0,u.default)(r.default.mark((function t(){var n,i,s,a;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(w){t.next=2;break}return t.abrupt("return");case 2:w=!1,n=e.$state.settings.startupOptions.remember_buffers,e.$state.persistence.includeBuffers="undefined"===typeof n||!!n,e.$state.persistence.watchStateForChanges(),e.$state.settings.startupOptions.bouncer&&(s=(0,l.default)(i=e.$state.networks).call(i,(function(e){return e.is_bnc})),s&&(a=new p.default(e.$state),a.enable(s.connection.server,s.connection.port,s.connection.tls,s.connection.direct,s.connection.path))),e.$state.setSetting("settings.restricted",!1),e.$emit("start",{fallbackComponent:e.constructor});case 9:case"end":return t.stop()}}),t)})))()}}};t.default=m,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["startups"]||(window._kiwi_exports["components"]["startups"]={}),window._kiwi_exports["components"]["startups"]["Personal"],window._kiwi_exports.components.startups.Personal=t.default?t.default:t},"56a4":function(e,t,n){"use strict";var i=n("0b4a"),s=n.n(i);s.a},"56d7":function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=s(n("6b47")),r=s(n("89ba")),o=s(n("9a73")),c=s(n("3393")),u=s(n("284c")),l=s(n("a3e3")),f=s(n("65b8")),d=s(n("3818")),p=s(n("bf2d")),h=s(n("3b4c")),w=s(n("fa81")),m=s(n("2b0b")),v=s(n("21e7")),_=s(n("4573")),g=s(n("9474")),k=s(n("2ef0")),b=s(n("5ee5")),y=s(n("5e48")),C=s(n("5f34")),x=s(n("fe83")),$=s(n("55d9")),S=s(n("e508"));n("a899"),n("6d93"),n("5abe");var N=s(n("e68e")),A=s(n("7359")),M=s(n("612c")),T=s(n("00f8")),B=s(n("0470")),P=s(n("7ae5")),O=s(n("f72e")),I=s(n("189e")),E=s(n("e15f")),L=s(n("6197")),j=i(n("70c2")),U=i(n("862b")),R=s(n("385f")),D=n("e019"),F=n("bdce"),q=s(n("2e7b")),H=n("56f3");n("7c06"),n("5f93"),n("72b4"),n("a1a6"),n("a667"),n("4f99"),b.default.use(S.default);var z=window.location.href.match(/kiwi-loglevel=(\d)/);if(z&&z[1]){var V=(0,g.default)(z[1],10);B.default.setLevel(V),(0,B.default)("Logging level set to",V)}var K=B.default.namespace("main"),W=window.kiwi=R.default.singleton();function Q(e){for(var t=window.location.search.substring(1),n=t.split("&"),i=0;i<n.length;i++){var s=n[i].split("=");if(s[0]===e)return s[1]}return!1}b.default.mixin({beforeDestroy:function(){var e;(0,_.default)(e=this.listeningEvents||[]).call(e,(function(e){return e()}))},methods:{listen:function(e,t,n){this.listeningEvents=this.listeningEvents||[];var i=function(){(e.removeEventListener||e.$off||e.off).call(e,t,n)};return this.listeningEvents.push(i),(e.addEventListener||e.$on||e.on).call(e,t,n),i},listenOnce:function(e,t,n){var i=n;this.listeningEvents=this.listeningEvents||[];var s=function(){(e.removeEventListener||e.$off||e.off).call(e,t,i)};return this.listeningEvents.push(s),e.addEventListener?(i=function n(){e.removeEventListener(t,n),i.apply(void 0,arguments)},e.addEventListener(t,i)):(e.$once||e.once).call(e,t,i),s}}}),b.default.mixin({beforeDestroy:function(){var e;(0,_.default)(e=this.timerEvents||[]).call(e,(function(e){return clearTimeout(e)}))},methods:{setInterval:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.timerEvents=this.timerEvents||[];var e=v.default.apply(void 0,arguments);return this.timerEvents.push(e),e})),setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.timerEvents=this.timerEvents||[];var e=m.default.apply(void 0,arguments);return this.timerEvents.push(e),e}))}}),b.default.mixin({computed:{$state:function(){return(0,O.default)()}}}),b.default.directive("rawElement",{bind:function(e,t){if(t.value.nodeName)e.appendChild(t.value);else if(t.value.el){var n,i,s=t.value.el;if(e.appendChild(s),t.value.data)(0,_.default)(n=(0,w.default)(t.value.data)).call(n,(function(e){s.dataset[e]=t.value.data[e]}));if(t.value.props)(0,_.default)(i=(0,w.default)(t.value.props)).call(i,(function(e){s[e]=t.value.props[e]}))}}}),b.default.directive("focus",{bind:function(e,t){e.dataset.focus=void 0===t.value||!!t.value},inserted:function(e){if("true"===e.dataset.focus)if("INPUT"!==e.tagName){var t=e.getElementsByTagName("input")[0];t&&t.focus()}else e.focus()}});var Y=(0,h.default)("resizeobserver");function G(){var e="static/config.json",t=null;if(Q("config"))e="static/config_"+Q("config")+".json";else if("function"===typeof window.kiwiConfig)try{t=window.kiwiConfig()}catch(s){K.error("Config file: "+s.stack),oe()}else if(document.querySelector('meta[name="kiwiconfig"]'))e=document.querySelector('meta[name="kiwiconfig"]').content;else if(document.querySelector('script[name="kiwiconfig"]')){var n=document.querySelector('script[name="kiwiconfig"]').innerHTML;try{t=y.default.parse(n)}catch(a){K.error("Config file: "+a.stack),oe()}}var i=new P.default;i.addValueReplacement("protocol",window.location.protocol).addValueReplacement("wsprotocol","https:"===window.location.protocol?"wss:":"ws:").addValueReplacement("tls","https:"===window.location.protocol).addValueReplacement("hostname",window.location.hostname).addValueReplacement("host",window.location.host).addValueReplacement("port",window.location.port||("https:"===window.location.protocol?443:80)).addValueReplacement("hash",(window.location.hash||"").substr(1)).addValueReplacement("query",(window.location.search||"").substr(1)).addValueReplacement("referrer",window.document.referrer),(t?i.loadFromObj(t):i.loadFromUrl(e)).then(J).then(te).then(ae).then(ee).then(ie).then(X).then(se).then(re).catch(oe)}function J(e){U.dedotObject(e),H.configTemplates[e.template]&&Z(H.configTemplates[e.template],(0,O.default)().settings),Z(e,(0,O.default)().settings)}function Z(e,t){k.default.each(e,(function(e,n){if("object"===(0,p.default)(e)){if("object"!==(0,p.default)(t[n])){var i=k.default.isArray(e)?[]:{};b.default.set(t,n,i)}Z(e,t[n])}else b.default.set(t,n,e)}))}function X(){return new d.default((function(e,t){var n=(0,O.default)().settings.plugins||[],i=-1;function s(t,a){var r,o=n[++i];if(o)if((0,f.default)(r=o.url).call(r,".js")>-1){var c=document.createElement("script");c.onerror=function(){var e;K.error((0,l.default)(e="Error loading plugin '".concat(o.name,"' from '")).call(e,o.url,"'")),s()},c.onload=function(){s()},document.body.appendChild(c),c.src=o.url}else fetch(o.url).then((function(e){return e.text()})).then((function(e){var t=document.createElement("div");t.id="kiwi_plugin_"+o.name.replace(/[ "']/g,""),t.style.display="none",t.innerHTML=e;var n=(0,u.default)(t.querySelectorAll("script"));(0,_.default)(n).call(n,(function(e){e.parentElement.removeChild(e);var n=document.createElement("script");n.text=e.text,t.appendChild(n)})),document.body.appendChild(t),s()})).catch((function(){var e;K.error((0,l.default)(e="Error loading plugin '".concat(o.name,"' from '")).call(e,o.url,"'")),s()}));else e()}s()}))}function ee(){b.default.use($.default),W.i18n=C.default,C.default.use(x.default),C.default.init({whitelist:N.default.locales,fallbackLng:"en-us",lowerCaseLng:!0,backend:{loadPath:"static/locales/{{lng}}.json",crossDomain:!1,withCredentials:!1},interpolation:{escapeValue:!1}}),C.default.addResourceBundle("en-us","translation",A.default),b.default.mixin({computed:{$t:function(){var e=this;return function(t,n){var i=e.$i18n.i18next.t(t,n,e.$i18n.i18nLoadedAt);if(!i){var s=n||{};s.lng="en-us",i=e.$i18n.i18next.t(t,s,e.$i18n.i18nLoadedAt)}return i}}}});var e=function(){var e=(0,O.default)().setting("language"),t=k.default.clone(window.navigator&&window.navigator.languages)||[];e&&t.unshift(e),C.default.changeLanguage("en-us");for(var n=0;n<t.length;n++){var i=t[n];if(2===i.length&&(0,c.default)(t).call(t,n+1,0,i+"-"+i),(0,o.default)(k.default).call(k.default,N.default.locales,i.toLowerCase())){C.default.changeLanguage(i,(function(e,t){e&&C.default.changeLanguage("en-us")}));break}}};e(),(0,O.default)().$watch("user_settings.language",(function(t){t||(0,O.default)().setting("language")?C.default.changeLanguage(t||(0,O.default)().setting("language")||"en-us"):e()}))}function te(){return ne.apply(this,arguments)}function ne(){return ne=(0,r.default)(a.default.mark((function e(){var t,n,i;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=(0,O.default)().settings.startupOptions.state_key,"undefined"===typeof t&&(t="kiwi-state"),n=B.default.namespace("StatePersistence"),i=new L.default(t||"",(0,O.default)(),j,n),i.includeBuffers=!!(0,O.default)().settings.startupOptions.remember_buffers,!t){e.next=8;break}return e.next=8,i.loadStateIfExists();case 8:W.setState((0,O.default)());case 9:case"end":return e.stop()}}),e)}))),ne.apply(this,arguments)}function ie(){var e=I.default.instance((0,O.default)());W.setThemeManager(e);var t=Q("theme");t&&e.setTheme(t)}function se(){var e=new F.SoundBleep,t=new D.AudioManager(e);t.listen((0,O.default)()),t.watchForMessages((0,O.default)())}function ae(){new E.default((0,O.default)())}function re(){new q.default((0,O.default)()),W.emit("init"),new b.default({el:"#app",render:function(e){return e(M.default)},i18n:new $.default(C.default)}),W.emit("ready")}function oe(e){e?K.error("Error starting Kiwi IRC:",e):K.error("Unknown error starting Kiwi IRC"),new b.default({el:"#app",render:function(t){return t(T.default,{props:{error:e}})}})}b.default.directive("resizeobserver",{bind:function(e,t){var n=t.value||function(){};e[Y]=new ResizeObserver(n),e[Y].observe(e)},unbind:function(e){e[Y].unobserve(e)}}),G()},"56f3":function(e,t,n){"use strict";var i=n("2d80");i(t,"__esModule",{value:!0}),t.configTemplates=void 0;var s={default:{plugins:[],windowTitle:"Kiwi IRC - The web IRC client",useMonospace:!1,language:"",theme:"Default",themes:[{name:"Default",url:"static/themes/default"}],restricted:!0,startupScreen:"customServer",kiwiServer:"/webirc/kiwiirc/",bnc:{active:!1,server:"",port:6667,tls:!1,path:"",username:"",password:""},warnOnExit:!0,quitMessage:"Page closed",buffers:{messageLayout:"modern",alert_on:"highlight",timestamp_format:"%H:%M:%S",timestamp_full_format:"",show_timestamps:!0,scrollback_size:250,show_hostnames:!1,show_joinparts:!0,show_topics:!0,show_nick_changes:!0,show_mode_changes:!0,traffic_as_activity:!1,coloured_nicklist:!0,colour_nicknames_in_messages:!0,block_pms:!1,show_emoticons:!0,extra_formatting:!0,mute_sound:!1,hide_message_counts:!1,show_realnames:!1,default_ban_mask:"*!%i@%h",default_kick_reason:"Your behaviour is not conducive to the desired environment.",shared_input:!1,show_message_info:!0,who_loop:!0,share_typing:!0,flash_title:"message",nicklist_avatars:!1,show_link_previews:!0,inline_link_auto_previews:!0,inline_link_auto_preview_whitelist:".*"},startupOptions:{server:"",port:6667,tls:!1,channel:"",nick:"kiwi_?",direct:!1,state_key:"kiwi-state",remember_buffers:!0,nick_format:""},autoReconnect:!1,disconnectOnSaslFail:!0,allowRegisterProtocolHandler:!1,noticeActiveBuffer:!0,nicklistGroupAway:!1,showChanlistModes:!1,showAutocomplete:!0,showEmojiPicker:!0,showColorPicker:!1,showSendButton:!1,showAwayStatusIndicators:!0,sidebarDefault:"nicklist",showRaw:!1,hideSettings:null,highlights:"",teamHighlights:!1,aliases:"\n# General aliases\n/p /part $1+\n/me /action $destination $1+\n/j /join $1+\n/q /query $1+\n/w /whois $1+\n/raw /quote $1+\n/connect /server $1+\n/disconnect /quit $1+\n/cycle $channel? /lines /part $channel | /join $channel\n/active /back $1+\n/umode /mode $nick $1+\n\n# Op related aliases\n/op /quote mode $channel +o $1+\n/deop /quote mode $channel -o $1+\n/hop /quote mode $channel +h $1+\n/dehop /quote mode $channel -h $1+\n/voice /quote mode $channel +v $1+\n/devoice /quote mode $channel -v $1+\n/k /kick $channel $1+\n/bans /mode $channel +b\n/ban /quote mode $channel +b $1+\n/unban /quote mode $channel -b $1+\n\n# Misc aliases\n/slap /me slaps $1 around a bit with a large trout\n/tick /msg $channel ",embedly:{Key:""},emojis:{"-___-":"1f611",":'-)":"1f602","':-)":"1f605","':-D":"1f605",">:-)":"1f606","':-(":"1f613",">:-(":"1f620",":'-(":"1f622","O:-)":"1f607","0:-3":"1f607","0:-)":"1f607","0;^)":"1f607","O;-)":"1f607","0;-)":"1f607","O:-3":"1f607","-__-":"1f611",":-":"1f61b","<3":"2764","</3":"1f494",":')":"1f602",":-D":"1f603","':)":"1f605","'=)":"1f605","':D":"1f605","'=D":"1f605",">:)":"1f606",">;)":"1f606",">=)":"1f606",XD:"1f606",";-)":"1f609","*-)":"1f609",";-]":"1f609",";^)":"1f609","':(":"1f613","'=(":"1f613",":-*":"1f618",":^*":"1f618",">:P":"1f61c","X-P":"1f61c",">:[":"1f61e",":-(":"1f61e",":-[":"1f61e",">:(":"1f620",":'(":"1f622",";-(":"1f622",">.<":"1f623","#-)":"1f635","%-)":"1f635","X-)":"1f635","\\0/":"1f646","\\O/":"1f646","0:3":"1f607","0:)":"1f607","O:)":"1f607","O=)":"1f607","O:3":"1f607","B-)":"1f60e","8-)":"1f60e","B-D":"1f60e","8-D":"1f60e","-_-":"1f611",">:\\":"1f615",">:/":"1f615",":-/":"1f615",":-.":"1f615",":-P":"1f61b",":":"1f61b",":-b":"1f61b",":-O":"1f62e",O_O:"1f62e",">:O":"1f62e",":-X":"1f636",":-#":"1f636",":-)":"1f642","(y)":"1f44d",":D":"1f603","=D":"1f603",";)":"1f609","*)":"1f609",";]":"1f609",";D":"1f609",":*":"1f618","=*":"1f618",":(":"1f61e",":[":"1f61e","=(":"1f61e",":@":"1f620",";(":"1f622","D:":"1f628",":$":"1f633","=$":"1f633","#)":"1f635","%)":"1f635","X)":"1f635","B)":"1f60e","8)":"1f60e",":/":"1f615",":\\":"1f615","=/":"1f615","=\\":"1f615",":L":"1f615","=L":"1f615",":P":"1f61b",":p":"1f61b","=P":"1f61b",":b":"1f61b",":O":"1f62e",":X":"1f636",":#":"1f636","=X":"1f636","=#":"1f636",":)":"1f642","=]":"1f642","=)":"1f642",":]":"1f642"},emojiLocation:"https://kiwiirc.com/shared/emoji/",textFormats:{user:"%nick",user_full:"%nick (%username@%host)",channel_join:" %text",channel_part:" %text (%reason)",channel_quit:" %text (%reason)",channel_kicked:" %text (%reason)",channel_selfkick:" %text (%reason)",channel_badpassword:" %text",channel_topic:" %text",channel_banned:" %text",channel_badkey:" %text",channel_inviteonly:" %channel %text",channel_alreadyin:" %nick %text",channel_limitreached:" %channel %text",channel_invalid_name:" %channel %text",channel_topic_setby:" %text",channel_has_been_invited:" %nick %text",server_connecting:"%text",server_connecting_error:"%text",mode:" %text",selfmode:" %nick %text",nickname_alreadyinuse:" %text",network_disconnected:"%text",network_connected:"%text",whois_channels:"%text",whois_idle_and_signon:"%text",whois_away:"%text",whois_server:"%text",whois_idle:"%text",whois_notfound:" %text",nick_changed:" %text",applet_notfound:" %text",encoding_changed:" %text",encoding_invalid:" %text",settings_saved:" %text",ignore_title:"%text:",ignore_none:"%text",ignore_nick:"%text",ignore_stop_notice:"%text",ignore_stopped:"%text",chanop_privs_needed:" %text",no_such_nick:" %nick: %text",unknown_command:" %text",motd:"%text",ctcp_response:"[CTCP %nick reply] %message",ctcp_request:"[CTCP %nick] %message",privmsg:"%text",notice:"%text",action:"* %nick %text",whois_ident:"%nick [%nick!%ident@%host] * %text",whois_error:"[%nick] %text",whois:"%text",whowas_ident:"was [%nick!%ident@%host] * %name",whowas_server:"using %server (%info)",whowas_error:"[%nick] %text",who:"%nick [%nick!%ident@%host] * %realname",quit:"%text",rejoin:"%text",set_setting:" %text",list_aliases:" %text",ignored_pattern:" %text",wallops:"[WALLOPS] %text",message_nick:"%prefix%nick",general_error:"%text"},presetNetworks:[]},irc:{showEmojiPicker:!1,sidebarDefault:"nicklist",buffers:{messageLayout:"inline",show_hostnames:!0,coloured_nicklist:!1,colour_nicknames_in_messages:!1,show_emoticons:!1,show_message_info:!1,share_typing:!1,inline_link_auto_previews:!1}},team:{teamHighlights:!0,buffers:{messageLayout:"modern",show_joinparts:!1,show_nick_changes:!0,show_mode_changes:!0,show_realnames:!0}}};t.configTemplates=s},"57d8":function(e,t,n){"use strict";n.r(t);var i=n("2e5f"),s=n("46d4");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("56a4");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},5820:function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("a3e3")),o=s(n("65b8")),c=s(n("47c7")),u=s(n("800f")),l=s(n("9474")),f=i(n("862b")),d=s(n("e7f8")),p=s(n("6269")),h={components:{ServerSelector:p.default,Captcha:d.default},props:["network"],data:function(){return{server_type:"network",znc_username:"",znc_network:"",znc_password:"",show_advanced:!1,switch_tabs_on_connect:!1,network_list:[]}},computed:{settingShowRaw:{get:function(){return this.network.setting("show_raw")},set:function(e){return this.network.setting("show_raw",e)}},directWs:{get:function(){if(!this.network.connection.direct)return"";var e=this.network.connection,t="";t+=e.tls?"wss://":"ws://",t+=e.server;var n=(0,l.default)(e.port,10);return(0,u.default)(n)&&(n=e.tls?443:80),(e.tls&&443!==n||!e.tls&&80!==n)&&(t+=":"+e.port),t+=e.path,t},set:function(e){var t=null;try{t=new c.default(e)}catch(a){return}var n=this.network.connection;n.tls="wss:"===t.protocol.toLowerCase(),n.server=t.hostname;var i=(0,l.default)(t.port,10);(0,u.default)(i)&&(i="wss:"===t.protocol.toLowerCase()?443:80),n.port=i;var s=t.href.replace(t.protocol+"//","");n.path=s.substr((0,o.default)(s).call(s,"/"))}}},watch:{znc_username:function(){this.setZncPass()},znc_network:function(){this.setZncPass()},znc_password:function(){this.setZncPass()},"network.state":function(){this.switch_tabs_on_connect&&("connected"===this.network.state?(this.switch_tabs_on_connect=!1,this.$state.$emit("server.tab.show","messages")):this.network.state_error&&(this.switch_tabs_on_connect=!1))}},created:function(){var e=!!(this.network.connection.password||"").match(/^(.*)\/(.*):(.*)$/);if(this.server_type=e?"znc":"network",e){var t=(this.network.connection.password||"").match(/^(.*)\/(.*):(.*)$/);this.znc_username=t[1]||"",this.znc_network=t[2]||"",this.znc_password=t[3]||""}this.network_list=this.$state.setting("presetNetworks")||[]},methods:{readableStateError:function(e){return f.networkErrorMessage(e)},connect:function(){this.switch_tabs_on_connect=!0,this.network.ircClient.connect()},reconnect:function(){this.network.ircClient.connect()},removeNetwork:function(){var e=confirm("Really remove this network? This cannot be undone!");e&&(this.$state.removeNetwork(this.network.id),this.$state.$emit("active.component"))},setZncPass:function(){var e,t,n=(0,r.default)(e=(0,r.default)(t="".concat(this.znc_username,"/")).call(t,this.znc_network,":")).call(e,this.znc_password);this.network.connection.password=n,this.network.connection.nick=this.znc_username},toggleTls:function(){var e=this.network.connection;e.tls=!e.tls,e.tls&&6667===e.port?e.port=6697:e.tls||6697!==e.port||(e.port=6667)}}};t.default=h,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["NetworkSettings"],window._kiwi_exports.components.NetworkSettings=t.default?t.default:t},5879:function(e,t,n){},"58de":function(e,t,n){"use strict";var i=n("9656"),s=n.n(i);s.a},"59eb":function(e,t,n){"use strict";var i=n("67ea"),s=n.n(i);s.a},"5a07":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("14b1")),r=i(n("9474")),o=i(n("65b8")),c=i(n("a3e3")),u=i(n("fc56")),l=i(n("2ef0")),f={props:{usePreset:{type:Boolean,default:!0},networkList:{type:Array,default:function(){return[]}},connection:{type:Object,default:function(){}}},data:function(){return{name:"",presetNetworks:[],showCustom:!0,willEmit:!1}},computed:{presetServer:{set:function(e){if("custom"===e)this.name="",this.connection.server="",this.connection.port=6697,this.connection.tls=!0,this.showCustom=!0;else{var t=this.parseFormatted(e);this.name=t.name,this.connection.server=t.server,this.connection.port=t.port,this.connection.tls=t.tls,this.showCustom=!1}},get:function(){return this.showCustom?"custom":this.toUri(this.connection)}}},created:function(){this.networkList&&this.importUris(this.networkList);var e=this.connection;(0,u.default)(l.default).call(l.default,this.presetNetworks,(function(t){var n=t.server===e.server&&t.port===e.port&&t.tls===e.tls;return n}))&&(this.showCustom=!1)},methods:{toUri:function(e){var t,n;return(0,c.default)(t=(0,c.default)(n="".concat(e.server,":")).call(n,e.tls?"+":"")).call(t,e.port)},toggleTls:function(){this.connection.tls=!this.connection.tls,this.connection.tls&&6667===this.connection.port?this.connection.port=6697:this.connection.tls||6697!==this.connection.port||(this.connection.port=6667)},parseFormatted:function(e){var t={name:"",server:"",port:6667,tls:!1},n=e,i=(0,o.default)(n).call(n,"|");i>-1&&(t.name=n.substr(0,i),n=n.substr(i+1));var s=(0,o.default)(n).call(n,":");return-1===s?(t.server=n,n=""):(t.server=n.substr(0,s),n=n.substr(s+1)),"+"===n[0]&&(t.tls=!0,n=n.substr(1)),n.length>0&&(t.port=(0,r.default)(n,10),n=""),t.name||(t.name=t.server),t},importUris:function(e){var t=this,n=(0,a.default)(e).call(e,(function(e){return t.parseFormatted(e)}));this.$set(this,"presetNetworks",n)}}};t.default=f,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["ServerSelector"],window._kiwi_exports.components.ServerSelector=t.default?t.default:t},"5a16":function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.linkifyChannels=k,t.createNickColour=b,t.toInt=y,t.hexVal=C,t.mapRange=x,t.formatAndT=$,t.formatUser=S,t.formatUserFull=N,t.formatText=A,t.formatDuration=M,t.formatNumber=T,t.t=B,t.channelRegex=t.urlRegex=void 0;var r=s(n("bf2d")),o=s(n("0f79")),c=s(n("800f")),u=s(n("9474")),l=s(n("a3e3")),f=s(n("44a4")),d=s(n("f72e")),p=s(n("189e")),h=s(n("2ef0")),w=i(n("104d")),m=s(n("5f34")),v=i(n("2304")),_=new RegExp(/(([A-Za-z][A-Za-z0-9-]*:\/\/)|(www\.))/.source+"("+/([\w\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF.-]+\.[a-zA-Z]{2,63})/.source+"|"+w.v4().source+"|(\\[?"+w.v6().source+"\\]?))"+/(:[0-9]+)?/.source+/(\/[\w\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF!:.?$'()[\]*,;~+=&%@!\-/]*)?/.source+/(#.*)?/.source,"i");t.urlRegex=_;var g=/(^|\s)([@+~&%}]*)([#&][^ .,\007<>\n\r]+?)([:;.,<>\n\r]+)?$/i;function k(e){return e.replace(g,(function(e,t,n,i,s){var a,r,o,c,u=h.default.escape((0,f.default)(i).call(i)),d=h.default.escape(t),p=h.default.escape(n),w=h.default.escape(s),m=(0,l.default)(a='<a class="u-link kiwi-channel" data-channel-name="'.concat(u,'">')).call(a,u,"</a>");return(0,l.default)(r=(0,l.default)(o=(0,l.default)(c="".concat(d)).call(c,p)).call(o,m)).call(r,w)}))}function b(e){var t,n,i=p.default.instance(),s=(e||"").toLowerCase(),a=v.x86.hash32(s),r=y(i.themeVar("nickcolour-count"))||200,o=y(i.themeVar("nickcolour-hueoffset")),c={h:x(Math.abs(a)%r,0,r,0,360)+o,s:y(i.themeVar("nickcolour-saturation"))||70,l:y(i.themeVar("nickcolour-lightness"))||40};return(0,l.default)(t=(0,l.default)(n="hsl(".concat(c.h,", ")).call(n,c.s,"%, ")).call(t,c.l,"%)")}function y(e){var t=(0,u.default)(e,10);return(0,c.default)(t)&&(t=0),t}function C(e,t,n){return(0,u.default)(e.substr(t,n||1),16)}function x(e,t,n,i,s){var a=(0,o.default)(e),r=n-t,c=s-i;return(a-t)*c/r+i}function $(e,t,n,i){var s=B(n,i);return t?(t.text=s,s=A(e,t)):s=A(e,{text:s}),s}function S(e){var t=e;return"object"===(0,r.default)(t)&&(t=t.nick),A("user",{nick:t})}function N(e,t,n){var i="",s="",a="";if("object"===(0,r.default)(e)){var o=e;i=o.nick,s=o.username||o.ident,a=o.hostname||o.host}else i=e,s=t,a=n;return A("user_full",{nick:i,username:s,host:a})}function A(e,t){var n=(0,d.default)().setting("textFormats."+e),i=t;"string"===typeof i&&(i={text:i}),i.user&&(i.nick=i.user.nick||"",i.username=i.user.username||"",i.host=i.user.hostname||"",i.prefix=i.user.prefix||"");var s=n.replace(/%([A-Z]{2,})/gi,(function(e,t){var n="";return"undefined"!==typeof i[t]&&(n=i[t]),n}));return s}function M(e){var t=e,n=Math.floor(t/604800);t-=3600*n*24*7;var i=Math.floor(t/86400);t-=3600*i*24;var s=Math.floor(t/3600);t-=3600*s;var a=Math.floor(t/60);t-=60*a;var r=[];return n&&r.push(B("week",{count:n})),(n||i)&&r.push(B("day",{count:i})),(i||s)&&r.push(B("hour",{count:s})),(i||s||a)&&r.push(B("minute",{count:a})),r.push(B("second",{count:t})),r.join(" ")}function T(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}function B(e,t){var n=m.default.t(e,t);if(!n){var i=t||{};i.lng="en-us",n=m.default.t(e,i)}return n}t.channelRegex=g,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["helpers"]||(window._kiwi_exports["helpers"]={}),window._kiwi_exports["helpers"]["TextFormatting"],window._kiwi_exports.helpers.TextFormatting=t.default?t.default:t},"5a9e":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-buffersettings"},[n("div",{staticClass:"kiwi-buffersettings-alerts"},[n("h3",[e._v(e._s(e.$t("settings_notify")))]),n("hr"),n("form",{staticClass:"u-form"},[n("label",{staticClass:"u-checkbox-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingAlertOn,expression:"settingAlertOn"}],attrs:{type:"radio",name:"alert_on",value:"message"},domProps:{checked:e._q(e.settingAlertOn,"message")},on:{change:function(t){e.settingAlertOn="message"}}}),n("span",[e._v(e._s(e.$t("settings_notify_all")))])]),n("label",{staticClass:"u-checkbox-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingAlertOn,expression:"settingAlertOn"}],attrs:{type:"radio",name:"alert_on",value:"highlight"},domProps:{checked:e._q(e.settingAlertOn,"highlight")},on:{change:function(t){e.settingAlertOn="highlight"}}}),n("span",[e._v(e._s(e.$t("settings_notify_mentioned")))])]),n("label",{staticClass:"u-checkbox-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingAlertOn,expression:"settingAlertOn"}],attrs:{type:"radio",name:"alert_on",value:"never"},domProps:{checked:e._q(e.settingAlertOn,"never")},on:{change:function(t){e.settingAlertOn="never"}}}),n("span",[e._v(e._s(e.$t("settings_notify_never")))])])]),n("h3",[e._v(e._s(e.$t("settings")))]),n("hr"),n("form",{staticClass:"u-form"},[n("label",[n("span",[e._v(e._s(e.$t("settings_notify_mute")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingMuteSound,expression:"settingMuteSound"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settingMuteSound)?e._i(e.settingMuteSound,null)>-1:e.settingMuteSound},on:{change:function(t){var n=e.settingMuteSound,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.settingMuteSound=n.concat([a])):r>-1&&(e.settingMuteSound=n.slice(0,r).concat(n.slice(r+1)))}else e.settingMuteSound=s}}})]),n("label",[n("span",[e._v(e._s(e.$t("settings_show_message_counts")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingHideMessageCount,expression:"settingHideMessageCount"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settingHideMessageCount)?e._i(e.settingHideMessageCount,null)>-1:e.settingHideMessageCount},on:{change:function(t){var n=e.settingHideMessageCount,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.settingHideMessageCount=n.concat([a])):r>-1&&(e.settingHideMessageCount=n.slice(0,r).concat(n.slice(r+1)))}else e.settingHideMessageCount=s}}})])])])])},s=[]},"5b34":function(e,t,n){},"5bc7":function(e,t,n){"use strict";n.r(t);var i=n("b6b1"),s=n("15d0");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("d58a");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},"5c34":function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.create=L;var r=s(n("2d80")),o=s(n("1e75")),c=s(n("aa3c")),u=s(n("7c78")),l=s(n("3960")),f=s(n("44a4")),d=s(n("14b1")),p=s(n("fa81")),h=s(n("a3e3")),w=s(n("e4f0")),m=s(n("3393")),v=s(n("fc56")),_=s(n("52da")),g=s(n("b6ce")),k=s(n("65b8")),b=s(n("284c")),y=s(n("2fa7")),C=s(n("4573")),x=s(n("3002")),$=s(n("e76e")),S=s(n("2ef0")),N=s(n("e9c4")),A=s(n("f43a")),M=i(n("5a16")),T=i(n("7277")),B=s(n("eef1")),P=s(n("9965")),O=i(n("fcde"));function I(e,t){var n=(0,p.default)(e);if(l.default){var i=(0,l.default)(e);t&&(i=(0,w.default)(i).call(i,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)(0,C.default)(n=I(Object(i),!0)).call(n,(function(t){(0,y.default)(e,t,i[t])}));else if(c.default)(0,o.default)(e,(0,c.default)(i));else{var s;(0,C.default)(s=I(Object(i))).call(s,(function(t){(0,r.default)(e,t,(0,u.default)(i,t))}))}}return e}function L(e,t){var n=t.id,i=new A.default.Client({version:null,message_max_length:350});i.requestCap("znc.in/self-message"),i.use((0,P.default)()),i.use(j(e,t)),i.use((0,B.default)());var s=i.connect;i.connect=function(){t.connection.nick||(t.connection.nick="Guest"+Math.floor(100*Math.random())),i.options.host=t.connection.server,i.options.port=t.connection.port,i.options.tls=t.connection.tls,i.options.path=t.connection.path,i.options.password=t.connection.password,t.password?i.options.account={account:t.connection.nick,password:t.password}:i.options.account={},i.options.nick=t.connection.nick,i.options.username=t.username||t.connection.nick,i.options.gecos=t.gecos||"https://kiwiirc.com/",i.options.encoding=t.connection.encoding,i.options.auto_reconnect=!!e.setting("autoReconnect");var a=e.setting("ircFramework");a&&(0,$.default)(i.options,a);var r={network:t,transport:null};e.$emit("network.connecting",r),r.transport?i.options.transport=r.transport:t.connection.direct?i.options.transport=void 0:i.options.transport=O.createChannelConstructor(e.settings.kiwiServer,(window.location.hash||"").substr(1),n);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];s.apply(i,c)};var a=i.raw;return i.raw=function(){var n=null;if((arguments.length<=0?void 0:arguments[0])instanceof A.default.Message)n=arguments.length<=0?void 0:arguments[0];else{var s=i.rawString.apply(i,arguments);n=A.default.ircLineParser(s)}var r={network:t,message:n,handled:!1};e.$emit("ircout",r),r.handled||a.apply(i,[n])},i.on("raw",(function(i){if(t.setting("show_raw")||e.setting("showRaw")){var s=e.getOrAddBufferByName(n,"*raw");e.addMessage(s,{time:(0,x.default)(),nick:"",message:(i.from_server?"[S] ":"[C] ")+i.line})}})),i.on("typing",(function(n){var i=e.getUser(t.id,n.nick);i&&i.typingStatus(n.target,n.status)})),i}function j(e,t){var n=t.id,i=!1;return function(e,n,r){r.use(a),n.use(s),e.on("connecting",(function(){t.state_error="",t.state="connecting",t.last_error="",t.last_error_numeric=0})),e.on("connected",(function(){t.state_error="",t.state="connected"})),e.on("socket close",(function(e){var n;i=!1,t.state="disconnected",t.state_error=e||"",(0,C.default)(n=t.buffers).call(n,(function(e){e&&(e.joined=!1,e.clearUsers())}))}))};function s(n,i,s,a,r){var o=E(E({},i),{},{raw:s,handled:!1});if(e.$emit("irc.raw",n,o,t),!o.handled&&(e.$emit("irc.raw."+n,n,o,t),!o.handled)){if("002"===n){var c=i.params[1]||"",u=c.match(/running version (.*)$/);t.ircd=u?u[1]:""}if("904"===n){"connected"!==!t.state&&(t.last_error="Invalid login",e.setting("disconnectOnSaslFail")&&t.ircClient.connection.end());var l=t.serverBuffer();e.addMessage(l,{time:(0,x.default)(),nick:"*",message:"Invalid login"})}if("CAP"===n&&t.setting("show_raw_caps")){var f,d=(0,b.default)(i.params);(0,k.default)(f=d[d.length-1]).call(f," ")>-1&&(d[d.length-1]=":"+d[d.length-1]);var p=t.serverBuffer();e.addMessage(p,{time:(0,x.default)(),nick:"",message:i.command+" "+d.join(" ")})}r()}}function a(s,a,r,o){var c={handled:!1};if(e.$emit("irc."+s,a,t,c),c.handled)o();else if(a&&"CONTROL"===a.command)o();else{var u=a&&a.time?t.ircClient.network.timeToLocal(a.time):(0,x.default)(),l=a&&a.time||0;if("channel_redirect"===s){var b=t.bufferByName(a.from);b&&((0,g.default)(b).redirect_to=a.to)}if("registered"===s){i=!0,t.nick=a.nick,e.addUser(n,{nick:a.nick,username:r.user.username});var y,$,A=t.serverBuffer();if(e.addMessage(A,{time:(0,x.default)(),nick:"",message:M.t("connected_to",{network:r.network.name})}),r.raw("WHO "+a.nick),t.auto_commands)(0,C.default)(y=t.auto_commands.split("\n")).call(y,(function(t){e.$emit("input.raw","/"===t[0]?t:"/".concat(t))}));if(!t.connection.bncnetid)(0,C.default)($=t.buffers).call($,(function(e){e.isChannel()&&e.enabled&&r.join(e.name,e.key)}));0}if("server options"===s&&("Network"===r.network.name||t.connection.bncnetid||(t.name=r.network.name)),"unknown command"===s)if("486"===a.command){var B=a.params[1],P=e.getOrAddBufferByName(t.id,B);e.addMessage(P,{time:(0,x.default)(),nick:"*",message:a.params[2],type:"error"})}else{var O=t.serverBuffer(),I="";a.command.match(/^\d+$/)||(I+=a.command+" ");var E=a.params[0]===t.ircClient.user.nick,L=t.isChannelName(a.params[1]);if(E&&L){var j,R=t.bufferByName(a.params[1]);R&&(O=R),I+=(0,_.default)(j=a.params).call(j,2).join(", ")}else if(E){var D;I+=(0,_.default)(D=a.params).call(D,1).join(", ")}else I+=a.params.join(", ");e.addMessage(O,{nick:"",message:I})}if("batch start chathistory"===s.toLowerCase()&&r.chathistory){var F,q=0,H=0;if((0,C.default)(F=a.commands).call(F,(function(e){e.time&&e.time>H&&(H=e.time),e.time&&e.time<q&&(q=e.time)})),!q||!H)return;var z=e.getBufferByName(n,a.params[0]);z&&z.clearMessageRange(q,H)}if("message"===s){var V,K=!1,W=a.from_server?"*":a.target;if(a.from_server||a.target!==r.user.nick||(K=!0,W=a.nick),"chanserv"===a.nick.toLowerCase()&&K&&"["===a.message[0])W=a.message.substr(1,(0,k.default)(V=a.message).call(V,"]")-1);if("notice"===a.type){var Q=e.getBufferByName(n,W),Y=e.setting("noticeActiveBuffer"),G=e.getActiveBuffer(),J=G&&G.networkid===n;Q||(W=Y&&J?G.name:"*")}var Z=!1,X=null,ee=t.isNickExemptFromPmBlocks(a.nick),te=e.setting("buffers.block_pms"),ne=e.getBufferByName(n,W),ie="privmsg";"action"===a.type?ie="action":"notice"===a.type&&(ie="notice");var se=M.formatText(ie,{nick:a.nick,username:a.ident,host:a.hostname,text:a.message}),ae={time:u,server_time:l,nick:a.nick,message:se,type:a.type,tags:a.tags||{}};if(te&&K&&!ne&&ee===Z)return;if(te&&K&&!ne&&ee===X){var re=!!(0,v.default)(S.default).call(S.default,t.pendingPms,{nick:a.nick});if(t.pendingPms.push({bufferName:W,message:ae}),re)return;return void t.ircClient.whois(a.nick,a.nick,(function(n){var i;(0,C.default)(i=t.pendingPms).call(i,(function(i,s,a){var r=i.message.nick.toLowerCase();r===n.nick.toLowerCase()&&(n.operator&&(ne=e.getOrAddBufferByName(t.id,i.bufferName),e.addMessage(ne,i.message)),(0,m.default)(a).call(a,s,1))}))}))}ne||(ne=e.getOrAddBufferByName(n,W)),e.addMessage(ne,ae)}if("wallops"===s){var oe=e.getOrAddBufferByName(n,"*"),ce=M.formatText("wallops",{text:a.message});e.addMessage(oe,{time:u,server_time:l,nick:a.nick,message:ce,type:"wallops"})}if("join"===s){var ue;if(a.nick===r.user.nick)(0,C.default)(ue=t.buffers).call(ue,(function(t){((0,g.default)(t).redirect_to||"").toLowerCase()===a.channel.toLowerCase()&&(e.$delete((0,g.default)(t),"redirect_to"),t.rename(a.channel))}));var le=e.getOrAddBufferByName(n,a.channel);le.name!==a.channel&&le.rename(a.channel),e.addUserToBuffer(le,{nick:a.nick,username:a.ident,host:a.hostname,realname:a.gecos,account:a.account||""}),a.nick===r.user.nick&&(le.enabled=!0,le.joined=!0,(0,g.default)(le).channel_badkey=!1,t.ircClient.raw("MODE",a.channel),t.ircClient.who(a.channel));var fe=le.setting("show_hostnames")?M.formatUserFull(a):M.formatUser(a),de=M.formatAndT("channel_join",null,"has_joined",{nick:fe});e.addMessage(le,{time:(0,x.default)(),nick:a.nick,message:de,type:"traffic",type_extra:"join"})}if("kick"===s){var pe=e.getOrAddBufferByName(n,a.channel);e.removeUserFromBuffer(pe,a.kicked);var he="";a.kicked===r.user.nick?(pe.joined=!1,pe.clearUsers(),he=M.formatAndT("channel_selfkick",{reason:a.message},"kicked_you_from",{nick:M.formatUser(a),channel:a.channel})):he=M.formatAndT("channel_kicked",{reason:a.message},"was_kicked_from",{nick:a.kicked,channel:a.channel,chanop:M.formatUser(a.nick)}),e.addMessage(pe,{time:(0,x.default)(),nick:a.nick,message:he,type:"traffic",type_extra:"kick"})}if("part"===s){var we=e.getBufferByName(n,a.channel);if(!we)return;e.removeUserFromBuffer(we,a.nick),a.nick===r.user.nick&&(we.joined=!1,we.enabled=!1,we.clearUsers());var me=e.getBuffersWithUser(n,a.nick);0===me.length&&e.removeUser(n,{nick:a.nick});var ve=we.setting("show_hostnames")?M.formatUserFull(a):M.formatUser(a),_e=M.formatAndT("channel_part",{reason:a.message},"has_left",{nick:ve});e.addMessage(we,{time:(0,x.default)(),nick:a.nick,message:_e,type:"traffic",type_extra:"part"})}if("quit"===s){var ge=e.getBuffersWithUser(n,a.nick);(0,C.default)(ge).call(ge,(function(t){if(t){a.nick===r.user.nick&&(t.joined=!1,t.clearUsers());var n=t.setting("show_hostnames")?M.formatUserFull(a):M.formatUser(a),i=M.formatAndT("channel_quit",{reason:a.message},"has_left",{nick:n});e.addMessage(t,{time:(0,x.default)(),nick:a.nick,message:i,type:"traffic",type_extra:"quit"})}})),e.removeUser(n,{nick:a.nick})}if("invite"===s){var ke=t.serverBuffer();e.addMessage(ke,{nick:"*",message:M.t("invited_you",{nick:a.nick,channel:a.channel})})}if("account"===s&&e.addUser(n,{nick:a.nick,account:a.account||""}),"whois"===s){var be,ye={nick:a.nick,host:a.hostname,username:a.ident,away:a.away||"",realname:a.real_name,hasWhois:!0};(0,C.default)(be=["actual_host","helpop","bot","server","server_info","operator","channels","modes","idle","logon","registered_nick","account","secure","special"]).call(be,(function(e){"undefined"!==typeof a[e]&&(ye[e]=a[e])})),e.addUser(n,ye)}if("away"===s){e.addUser(n,{nick:a.nick,away:a.message||""});var Ce=e.getActiveBuffer();Ce&&a.nick===t.nick&&(t.away="away",e.addMessage(Ce,{time:u,server_time:l,nick:"*",type:"presence",message:a.message}))}if("back"===s){e.addUser(n,{nick:a.nick,away:""});var xe=e.getActiveBuffer();xe&&a.nick===t.nick&&(t.away="",e.addMessage(xe,{time:u,server_time:l,nick:"*",type:"presence",message:a.message}))}if("wholist"===s&&e.usersTransaction(n,(function(i){var s;(0,C.default)(s=a.users).call(s,(function(s){var a,r={nick:s.nick,host:s.hostname||void 0,username:s.ident||void 0,away:s.away?"Away":"",realname:s.real_name,account:s.account||void 0},o=e.addUser(n,r,i);if(o){var c=t.bufferByName(s.channel);if(c&&o.buffers[c.id]){var u=o.buffers[c.id].modes;(0,C.default)(a=s.channel_modes).call(a,(function(e){-1===(0,k.default)(u).call(u,e)&&u.push(e)}))}}}))})),"channel list start"===s&&(t.channel_list_cache=[],t.channel_list_state="updating"),"channel list"===s){var $e;t.channel_list_state="updating";var Se=(0,w.default)(S.default).call(S.default,a,(function(e){return"*"!==e.channel}));t.channel_list_cache=(0,h.default)($e=t.channel_list_cache||[]).call($e,Se)}if("channel list end"===s&&(t.channel_list=t.channel_list_cache||[],t.channel_list_state="updated",delete t.channel_list_cache),"motd"===s){var Ne=t.serverBuffer(),Ae=M.formatText("motd",{text:a.motd});e.addMessage(Ne,{time:u,server_time:l,nick:"",message:Ae,type:"motd"})}if("nick in use"===s&&!r.connection.registered){var Me,Te=r.user.nick+U(1,100),Be=M.formatAndT("nickname_alreadyinuse",null,"nick_in_use_retrying",{nick:r.user.nick,newnick:Te});(0,C.default)(Me=t.buffers).call(Me,(function(t){e.addMessage(t,{time:(0,x.default)(),nick:"",message:Be,type:"error"})})),r.changeNick(Te)}if("nick in use"===s&&r.connection.registered){var Pe=e.getActiveBuffer();Pe&&e.addMessage(Pe,{time:(0,x.default)(),nick:"",type:"error",message:"The nickname '".concat(a.nick,"' is already in use!")})}if("nick"===s){a.nick===r.user.nick&&(t.nick=a.new_nick),e.changeUserNick(n,a.nick,a.new_nick);var Oe=M.formatAndT("nick_changed",null,"now_known_as",{nick:a.nick,newnick:a.new_nick}),Ie=e.getBuffersWithUser(n,a.new_nick);(0,C.default)(Ie).call(Ie,(function(t){e.addMessage(t,{time:u,server_time:l,nick:"",message:Oe,type:"nick"})}))}if("userlist"===s){var Ee,Le,je=e.getOrAddBufferByName(n,a.channel),Ue=(0,w.default)(Ee=(0,p.default)(je.users)).call(Ee,(function(e){return e!==t.ircClient.user.nick})).length>0,Re=[];if((0,C.default)(Le=a.users).call(Le,(function(e){Re.push({user:{nick:e.nick,username:e.ident,hostname:e.hostname},modes:e.modes})})),e.addMultipleUsersToBuffer(je,Re),!Ue&&t.ircClient.chathistory.isSupported()){var De=je.isChannel()||je.isQuery();De&&je.requestLatestScrollback()}}if("channel info"===s){var Fe=t.bufferByName(a.channel);if(!Fe)return;if(a.modes){var qe,He=[];(0,C.default)(qe=a.modes).call(qe,(function(t){var n="+"===t.mode[0],i=t.mode.substr(1);n?e.$set(Fe.modes,i,t.param):n||e.$delete(Fe.modes,i),He.push(t.mode+(t.param?" "+t.param:""))})),(0,g.default)(Fe).requested_modes&&e.addMessage(Fe,{time:u,server_time:l,nick:"*",message:Fe.name+" "+He.join(", ")})}if(a.created_at&&(Fe.created_at=new Date(1e3*a.created_at)),a.created_at&&(0,g.default)(Fe).requested_modes){var ze=Fe.setting("timestamp_full_format"),Ve=ze?(0,N.default)(ze,new Date(1e3*a.created_at)):new Date(1e3*a.created_at).toLocaleString();e.addMessage(Fe,{time:u,server_time:l,nick:"*",message:Fe.name+" "+Ve})}}if("mode"===s){var Ke=t.bufferByName(a.target),We={};if(Ke){var Qe;(0,C.default)(Qe=a.modes).call(Qe,(function(n){We[n.mode]=We[n.mode]||[];var i=(0,v.default)(S.default).call(S.default,t.ircClient.network.options.PREFIX,{mode:n.mode[1]});if(i){var s=e.getUser(t.id,n.param);if(s){var a="+"===n.mode[0],r=s.buffers[Ke.id].modes,o=(0,k.default)(r).call(r,i.mode);a&&-1===o?r.push(i.mode):!a&&o>-1&&(0,m.default)(r).call(r,o,1)}We[n.mode].push({target:n.param})}else{var c="+"===n.mode[0],u=n.mode.substr(1);c?e.$set(Ke.modes,u,n.param):c||e.$delete(Ke.modes,u),We[n.mode].push({target:Ke.name,param:n.param})}}));var Ye={"+o":"modes_give_ops","-o":"modes_take_ops","+h":"modes_give_halfops","-h":"modes_take_halfops","+v":"modes_give_voice","-v":"modes_take_voice","+a":"modes_give_admin","-a":"modes_take_admin","+q":"modes_give_owner","-q":"modes_take_owner","+b":"modes_gives_ban","-b":"modes_takes_ban"};T.isQChannelModeOwner(t)||(delete Ye["+q"],delete Ye["-q"]),T.isAChannelModeAdmin(t)||(delete Ye["+a"],delete Ye["-a"]),T.supportsHalfOp(t)||(delete Ye["+h"],delete Ye["-h"]);var Ge={default:function(e,t){return{mode:t+(e[0].param?" "+e[0].param:""),target:(0,d.default)(e).call(e,(function(e){return e.target})).join(", "),nick:a.nick}},b:function(e,t){return{mode:t,target:e[0].param?e[0].param:"",nick:a.nick}}};S.default.each(We,(function(t,n){var i=Ge,s=i[n[1]]||i.default,r=s(t,n),o=Ye[n]||"modes_other",c=M.t(o,r),f=M.formatText("mode",{nick:a.nick,username:a.ident,host:a.hostname,target:(0,d.default)(t).call(t,(function(e){return e.target})).join(", "),text:c});e.addMessage(Ke,{time:u,server_time:l,nick:"",message:f,type:"mode"})}))}else{var Je,Ze={};(0,C.default)(Je=a.modes).call(Je,(function(e){if(e.param)Ze[e.mode]=" "+e.param;else if("-"===e.mode[0]){var t;Ze["-"]||(Ze["-"]=""),Ze["-"]+=(0,_.default)(t=e.mode).call(t,1)}else{var n;if(Ze["+"]||(Ze["+"]=""),"+"===e.mode[0])Ze["+"]+=(0,_.default)(n=e.mode).call(n,1);else Ze["+"]+=e.mode}}));var Xe=t.serverBuffer();S.default.each(Ze,(function(t,n){var i=M.t("modes_other",{nick:a.nick,target:a.target,mode:n+t}),s=M.formatText("mode",{nick:a.nick,username:a.ident,host:a.hostname,target:a.target,text:i});e.addMessage(Xe,{time:(0,x.default)(),nick:"",message:s,type:"mode"})}))}}if("banlist"===s){var et=e.getBufferByName(n,a.channel);if(et&&(0,g.default)(et).requested_banlist){if(a.bans&&0!==a.bans.length){var tt="";S.default.each(a.bans,(function(e){var t,n,i=new Date(1e3*e.banned_at).toDateString();tt+=(0,h.default)(t=(0,h.default)(n="+b ".concat(e.banned," [by ")).call(n,e.banned_by,", ")).call(t,i,"]\n")})),e.addMessage(et,{time:u,server_time:l,nick:"*",message:tt,type:"banlist"})}else e.addMessage(et,{time:u,server_time:l,nick:"",message:M.t("bans_nobody"),type:"banlist"});(0,g.default)(et).requested_banlist=!1}}if("topic"===s){var nt,it=e.getOrAddBufferByName(n,a.channel);it.topic=a.topic||"";var st="";a.nick?st=M.formatAndT("channel_topic",null,"changed_topic_to",{nick:a.nick,topic:a.topic}):(0,f.default)(nt=it.topic).call(nt)&&(st=M.formatText("channel_topic",it.topic)),st&&e.addMessage(it,{time:u,server_time:l,nick:"",message:st,type:"topic"})}if("ctcp response"===s||"ctcp request"===s){var at=t.bufferByName(a.target)||t.serverBuffer(),rt="ctcp response"===s?"ctcp_response":"ctcp_request",ot=M.formatText(rt,{nick:a.nick,message:a.message,type:a.type});e.addMessage(at,{time:u,server_time:l,nick:"",message:ot,type:"error"}),"ctcp request"===s&&"VERSION"===a.type&&r.ctcpResponse(a.nick,"VERSION","Kiwi IRC")}if("nick invalid"===s){var ct=M.formatText("general_error",{text:a.reason}),ut=e.getActiveBuffer();e.addMessage(ut,{time:u,server_time:l,nick:"",message:ct,type:"error"}),i||(t.last_error_numeric=432,t.last_error=a.reason,t.ircClient.quit())}if("irc error"===s){var lt;if((a.channel||a.nick)&&(lt=e.getOrAddBufferByName(t.id,a.channel||a.nick)),lt||(lt=t.serverBuffer()),!lt)return;if("bad_channel_key"===a.error&&((0,g.default)(lt).channel_badkey=!0),a.reason&&432!==t.last_error_numeric){i||(t.last_error=a.reason);var ft=M.formatText("general_error",{text:a.reason||a.error});e.addMessage(lt,{time:u,server_time:l,nick:"",message:ft,type:"error"})}lt.isChannel()&&!lt.joined&&(lt.enabled=!1)}o()}}}function U(e,t){return Math.floor(Math.random()*(t-e+1)+e)}window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["IrcClient"],window._kiwi_exports.libs.IrcClient=t.default?t.default:t},"5d58":function(e,t,n){"use strict";n.r(t);var i=n("ba06"),s=n("1d88");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("a017");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!0,null,"fe3ccb9c",null);t["default"]=o.exports},"5db0":function(e,t,n){"use strict";n.r(t);var i=n("6bd6"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"5ea5":function(e,t,n){"use strict";n.r(t);var i=n("85d6"),s=n("eaab");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("dd9f");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},"5f93":function(e,t,n){"use strict";n.r(t);var i=n("1871"),s=n("f67b");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("8008");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},"5fa6":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-userbox"},[e.isSelf?n("span",{staticClass:"kiwi-userbox-selfprofile"},[e._v(" "+e._s(e.$t("user_you"))+" ")]):e._e(),n("div",{staticClass:"kiwi-userbox-header"},[n("h3",[n("away-status-indicator",{attrs:{network:e.network,user:e.user}}),e._v(" "+e._s(e.user.nick)+" "),e.userMode?n("span",{staticClass:"kiwi-userbox-modestring"},[e._v("+"+e._s(e.userMode))]):e._e()],1),n("div",{staticClass:"kiwi-userbox-usermask"},[e._v(e._s(e.user.username)+"@"+e._s(e.user.host))])]),n("div",{staticClass:"kiwi-userbox-basicinfo"},[n("span",{staticClass:"kiwi-userbox-basicinfo-title"},[e._v(e._s(e.$t("whois_realname"))+":")]),n("span",{staticClass:"kiwi-userbox-basicinfo-data",domProps:{innerHTML:e._s(e.formattedRealname)}})]),n("p",{staticClass:"kiwi-userbox-actions"},[e.isSelf||e.buffer.isQuery()?e._e():n("a",{staticClass:"kiwi-userbox-action",on:{click:e.openQuery}},[n("i",{staticClass:"fa fa-comment-o",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("send_a_message"))+" ")]),e.whoisRequested?e._e():n("a",{staticClass:"kiwi-userbox-action",on:{click:e.updateWhoisData}},[n("i",{staticClass:"fa fa-question-circle",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("more_information"))+" ")])]),e.isSelf?e._e():n("form",{staticClass:"u-form kiwi-userbox-ignoreuser"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.user.ignore,expression:"user.ignore"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.user.ignore)?e._i(e.user.ignore,null)>-1:e.user.ignore},on:{change:function(t){var n=e.user.ignore,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&e.$set(e.user,"ignore",n.concat([a])):r>-1&&e.$set(e.user,"ignore",n.slice(0,r).concat(n.slice(r+1)))}else e.$set(e.user,"ignore",s)}}}),n("span",[e._v(" "+e._s(e.$t("ignore_user"))+" ")])])]),e.whoisRequested?n("div",{staticClass:"kiwi-userbox-whois",class:[e.whoisLoading?"kiwi-userbox-whois--loading":""]},[e.whoisLoading?[n("i",{staticClass:"fa fa-spinner",attrs:{"aria-hidden":"true"}})]:[n("span",{staticClass:"kiwi-userbox-whois-line"},[e._v(" "+e._s(e.user.away?e.$t("whois_status")+": "+e.user.away:e.$t("whois_status_available"))+" ")]),e.user.account?n("span",{staticClass:"kiwi-userbox-whois-line"},[e._v(" "+e._s(e.$t("user_account",{user:e.user.account}))+" ")]):e._e(),n("span",{staticClass:"kiwi-userbox-whois-line"},[e._v(" "+e._s(e.$t("user_realname",{realname:e.user.realname}))+" ")]),e.user.bot?n("span",{staticClass:"kiwi-userbox-whois-line"},[e._v(e._s(e.$t("user_bot")))]):e._e(),e.user.helpop?n("span",{staticClass:"kiwi-userbox-whois-line"},[e._v(" "+e._s(e.$t("user_help"))+" ")]):e._e(),e.user.operator?n("span",{staticClass:"kiwi-userbox-whois-line"},[e._v(" "+e._s(e.$t("user_op"))+" ")]):e._e(),e.user.server?n("span",{staticClass:"kiwi-userbox-whois-line"},[e._v(" "+e._s(e.$t("user_server",{server:e.user.server,info:e.user.server_info?"("+e.user.server_info+")":""}))+" ")]):e._e(),e.user.secure?n("span",{staticClass:"kiwi-userbox-whois-line"},[e._v(" "+e._s(e.$t("user_secure"))+" ")]):e._e(),e.user.channels?n("span",{staticClass:"kiwi-userbox-whois-line",domProps:{innerHTML:e._s(e.$t("user_channels",{channels:e.userChannels}))},on:{click:function(t){return e.onChannelsClick(t)}}}):e._e()]],2):e._e(),e.buffer.isChannel()&&e.areWeAnOp&&!e.isSelf?n("div",{staticClass:"kiwi-userbox-opactions"},[n("form",{staticClass:"u-form",on:{submit:function(e){e.preventDefault()}}},[e.isUserOnBuffer?n("label",[e._v(" "+e._s(e.$t("user_access"))+" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.userMode,expression:"userMode"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.userMode=t.target.multiple?n:n[0]}}},[e._l(e.availableChannelModes,(function(t){return n("option",{key:t.mode,domProps:{value:t.mode}},[e._v(" "+e._s(t.description)+" ")])})),n("option",{attrs:{value:""}},[e._v(e._s(e.$t("user_normal")))])],2)]):e._e(),e.isUserOnBuffer?n("label",[n("button",{staticClass:"u-button u-button-secondary\n                           kiwi-userbox-opaction-kick kiwi-userbox-opaction",on:{click:e.kickUser}},[n("i",{staticClass:"fa fa-sign-out",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("user_kick"))+" ")])]):e._e(),n("label",[n("button",{staticClass:"u-button u-button-secondary\n                           kiwi-userbox-opaction-ban kiwi-userbox-opaction",on:{click:e.banUser}},[n("i",{staticClass:"fa fa-ban",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("user_ban"))+" ")])]),e.isUserOnBuffer?n("label",[n("button",{staticClass:"u-button u-button-secondary\n                           kiwi-userbox-opaction-kickban kiwi-userbox-opaction",on:{click:e.kickbanUser}},[n("i",{staticClass:"fa fa-exclamation-triangle",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("user_kickban"))+" ")])]):e._e()])]):e._e()])},s=[]},"5fce":function(e,t,n){},"5fd8":function(e,t,n){"use strict";var i=n("16a2"),s=n.n(i);s.a},6058:function(e,t,n){"use strict";var i=n("be0a"),s=n.n(i);s.a},"610e":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-personal"},[n("h1",[e._v(e._s(e.$t("personal_client")))]),n("p",[e._v(e._s(e.$t("personal_addjoin")))]),n("p",[e._v(e._s(e.$t("personal_return")))]),n("button",{staticClass:"u-button u-button-primary",on:{click:e.addNetwork}},[e._v(" "+e._s(e.$t("personal_add"))+" ")]),e._v(" "),n("br"),e.networks.length>0?n("a",{staticClass:"u-link kiwi-personal-existing-networks",on:{click:function(t){return t.stopPropagation(),e.toggleStateBrowser(t)}}},[e._v(" "+e._s(e.$t("personal_saved"))+" ")]):e._e(),n("div",{staticClass:"kiwi-aboutnew-content",class:{"kiwi-aboutnew-content--open":e.about_open},domProps:{innerHTML:e._s(e.aboutContent)}}),n("div",{staticClass:"kiwi-aboutnew"},[n("div",{staticClass:"kiwi-aboutnew-sep"}),n("a",{staticClass:"u-link",on:{click:function(t){e.about_open=!e.about_open}}},[e._v(" Link to your network / channel ")]),n("div",{staticClass:"kiwi-aboutnew-help"},[n("a",{on:{click:function(t){e.about_open=!e.about_open}}},[n("i",{staticClass:"fa fa-question-circle",attrs:{"aria-hidden":"true"}})])])])])},s=[]},"612c":function(e,t,n){"use strict";n.r(t);var i=n("f45b"),s=n("1612");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("7768");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},6150:function(e,t,n){"use strict";var i=n("2d80");i(t,"__esModule",{value:!0}),t.default=void 0;var s=[{command:"msg",alias:[],description:"locale_id_command_msg"},{command:"action",alias:[],description:"locale_id_command_action"},{command:"join",alias:[],description:"locale_id_command_join"},{command:"part",alias:[],description:"locale_id_command_part"},{command:"cycle",alias:[],description:"locale_id_command_cycle"},{command:"nick",alias:[],description:"locale_id_command_nick"},{command:"query",alias:[],description:"locale_id_command_query"},{command:"invite",alias:[],description:"locale_id_command_invite"},{command:"topic",alias:[],description:"locale_id_command_topic"},{command:"notice",alias:[],description:"locale_id_command_notice"},{command:"quote",alias:[],description:"locale_id_command_quote"},{command:"kick",alias:[],description:"locale_id_command_kick"},{command:"clear",alias:[],description:"locale_id_command_clear"},{command:"ctcp",alias:[],description:"locale_id_command_ctcp"},{command:"quit",alias:[],description:"locale_id_command_quit"},{command:"server",alias:[],description:"locale_id_command_server"},{command:"whois",alias:[],description:"locale_id_command_whois"},{command:"whowas",alias:[],description:"locale_id_command_whowas"},{command:"away",alias:[],description:"locale_id_command_away"},{command:"back",alias:["active"],description:"locale_id_command_back"},{command:"encoding",alias:[],description:"locale_id_command_encoding"},{command:"ignore",alias:[],description:"locale_id_command_ignore"},{command:"unignore",alias:[],description:"locale_id_command_unignore"},{command:"dice",alias:[],description:"locale_id_command_dice"}];t.default=s,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["res"]||(window._kiwi_exports["res"]={}),window._kiwi_exports["res"]["autocompleteCommands"],window._kiwi_exports.res.autocompleteCommands=t.default?t.default:t},6197:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("5b1a")),r=i(n("14b1")),o=i(n("4573")),c=i(n("6b47")),u=i(n("89ba")),l=i(n("9f12")),f=i(n("53fe")),d=i(n("2ef0")),p=function(){function e(t,n,i,s){(0,l.default)(this,e),this.storageKey=t,this.state=n,this.storage=i,this.logger=s,this.isPersisting=!1,this.includeBuffers=!0,this.watcher=null,this.state.persistence=this}return(0,f.default)(e,[{key:"loadStateIfExists",value:function(){var e=(0,u.default)(c.default.mark((function e(){var t;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.storageKey){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.storage.get(this.storageKey);case 4:t=e.sent,t&&(this.logger&&this.logger("Importing state",t),this.state.importState(t));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"stopWatchingState",value:function(){this.watcher&&(this.watcher(),this.watcher=null)}},{key:"watchStateForChanges",value:function(){var e=this;if(this.storageKey){var t=d.default.debounce((function(){e.logger&&e.logger("State updated, setting localStorage"),e.storage.set(e.storageKey,e.state.exportState(e.includeBuffers))}),1e3);this.state.$watch("networks",t,{deep:!0}),this.state.$watch("user_settings",t,{deep:!0}),this.watcher=this.state.$watch((function(){var t,n=[];return(0,o.default)(t=e.state.networks).call(t,(function(e){var t,i,s=[];s.push((0,r.default)(t=e.buffers).call(t,(function(e){return e.name})).join(",")),(0,o.default)(i=e.buffers).call(i,(function(e){s.push([e.name,e.settings,e.joined,e.enabled,e.last_read])})),n.push(s)})),(0,a.default)(n)}),t),this.isPersisting=!0}}},{key:"forgetState",value:function(){var e=(0,u.default)(c.default.mark((function e(){return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.state.resetState(),e.next=3,this.storage.set(this.storageKey,null);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();t.default=p,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["StatePersistence"],window._kiwi_exports.libs.StatePersistence=t.default?t.default:t},6269:function(e,t,n){"use strict";n.r(t);var i=n("8438"),s=n("1dc6");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("51e1");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},6281:function(e,t,n){"use strict";var i=n("2d80");i(t,"__esModule",{value:!0}),t.default=void 0;var s={props:["network"],data:function(){return{recaptchaUrl:"",recaptchaSiteId:"",recaptchaResponse:"",showCaptcha:!1}},created:function(){var e=this,t=this.$state.settings.startupOptions;this.recaptchaSiteId=t.recaptchaSiteId||"",this.recaptchaUrl=t.recaptchaUrl||"https://www.google.com/recaptcha/api.js",this.listen(this.$state,"network.connecting",(function(t){t.network.ircClient.once("socket connected",(function(){e.recaptchaResponse&&t.network.ircClient.raw("CAPTCHA",e.recaptchaResponse)}))})),this.listen(this.$state,"irc.raw.CAPTCHA",(function(t,n,i){i===e.network&&"NEEDED"===n.params[0]&&e.loadRecaptcha()}))},methods:{loadRecaptcha:function(){var e=this;this.showCaptcha=!0,window.recaptchaLoaded=function(){window.grecaptcha.render(e.$refs.captchacontainer,{sitekey:e.recaptchaSiteId,callback:e.recaptchaSuccess,"expired-callback":e.recaptchaExpired})};var t=document.createElement("script");t.src=this.recaptchaUrl+"?onload=recaptchaLoaded&render=explicit",t.defer=!0,this.$el.appendChild(t)},recaptchaSuccess:function(e){this.recaptchaResponse=e,this.network&&"connecting"===this.network.state&&this.network.ircClient.raw("CAPTCHA",e),this.showCaptcha=!1},recaptchaExpired:function(){this.recaptchaResponse=""}}};t.default=s,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["Captcha"],window._kiwi_exports.components.Captcha=t.default?t.default:t},"62c3":function(e,t,n){"use strict";n.r(t);var i=n("3d4c"),s=n("51e2");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("2d13");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},6307:function(e,t,n){"use strict";n.r(t);var i=n("b388"),s=n("43bd");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("f93a");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},6645:function(e,t,n){"use strict";n.r(t);var i=n("5318"),s=n("c2a9");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("d777");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},"67ea":function(e,t,n){},"68bb":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-nicklist",class:{"kiwi-nicklist--filtering":e.filter_visible,"kiwi-nicklist--avatars":e.shouldShowAvatars}},[n("div",{staticClass:"kiwi-nicklist-usercount",on:{click:e.toggleUserFilter}},[n("span",[e._v(" "+e._s(e.filter_visible?e.sortedUsers.length:e.$t("person",{count:e.sortedUsers.length}))+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user_filter,expression:"user_filter"}],ref:"user_filter",attrs:{placeholder:e.$t("filter_users")},domProps:{value:e.user_filter},on:{blur:e.onFilterBlur,input:function(t){t.target.composing||(e.user_filter=t.target.value)}}}),n("i",{staticClass:"fa fa-search"})]),n("DynamicScroller",{staticClass:"kiwi-nicklist-users",attrs:{items:e.sortedUsers,"min-item-size":34,"key-field":"nick"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.item,s=t.index,a=t.active;return[n("DynamicScrollerItem",{attrs:{item:i,active:a,"size-dependencies":[],"data-index":s}},[n("nicklist-user",{key:i.nick,attrs:{user:i,nicklist:e.self,network:e.network}})],1)]}}])})],1)},s=[]},"691c":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-channellist",class:{"kiwi-channellist-padding-top":!e.list.length}},[n("div",{staticClass:"kiwi-channellist-content-container"},[n("div",{staticClass:"kiwi-channellist-nav"},[n("form",{staticClass:"u-form u-form--big kiwi-channellist-search",on:{submit:function(e){e.preventDefault()}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"u-input",attrs:{placeholder:e.$t("do_search")},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),n("a",{staticClass:"u-button kiwi-channellist-refresh",class:{"u-button-primary":!e.isLoading,"u-button-secondary":e.isLoading},on:{click:e.maybeUpdateList}},[e.isLoading?n("i",{staticClass:"fa fa-refresh fa-spin",attrs:{"aria-hidden":"true"}}):n("i",{staticClass:"fa fa-refresh",attrs:{"aria-hidden":"true"}})])]),e.list.length?n("div",{staticClass:"kiwi-channellist-pagination"},[n("a",{on:{click:e.prevPage}},[n("i",{staticClass:"fa fa-step-backward",attrs:{"aria-hidden":"true"}})]),e._v(" "+e._s(e.page+1)+" / "+e._s(e.maxPages+1)+" "),n("a",{on:{click:e.nextPage}},[n("i",{staticClass:"fa fa-step-forward",attrs:{"aria-hidden":"true"}})])]):e._e()]),n("div",{staticClass:"kiwi-channellist-table"},[e.isLoading||e.noResults?e.noResults?n("div",{staticClass:"kiwi-channellist-info"},[n("p",[e._v(e._s(e.$t("channel_list_nonefound")))])]):n("div",{staticClass:"kiwi-channellist-info"},[e._v(e._s(e.$t("channel_list_fetch")))]):n("table",{key:e.last_updated,attrs:{width:"100%"}},[n("tbody",e._l(e.paginated,(function(t){return n("tr",{key:t.channel},[n("td",{staticClass:"kiwi-channellist-user-center"},[t.num_users>=0?n("span",{staticClass:"kiwi-channellist-users"},[n("i",{staticClass:"fa fa-user",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(t.num_users)+" ")]):e._e()]),n("td",[n("a",{staticClass:"u-link",on:{click:function(n){return e.joinChannel(t.channel)}}},[e._v(" "+e._s(t.channel)+" ")])]),n("td",{staticClass:"kiwi-channellist-table-topic"},[n("div",{domProps:{innerHTML:e._s(e.formatAndTrimTopic(t.topic))}})]),n("td",{staticClass:"kiwi-channellist-user-center"},[n("a",{staticClass:"u-button u-button-primary",on:{click:function(n){return e.joinChannel(t.channel)}}},[e._v(" "+e._s(e.$t("container_join"))+" ")])])])})),0)])])])])},s=[]},"6ac05":function(e,t,n){"use strict";var i=n("17cf"),s=n.n(i);s.a},"6bd6":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("4573")),r=i(n("2ef0")),o=i(n("189e")),c=i(n("385f")),u=i(n("3c38")),l=i(n("ac2f")),f=i(n("c35c"));function d(e){return{get:function(){return this.$state.setting(e)},set:function(t){this.$state.setting(e,t)}}}var p={components:{SettingsAliases:l.default,SettingsAdvanced:f.default},data:function(){return{theme:"",customThemeUrl:"",pluginUiElements:c.default.singleton().appSettingsPlugins,localesList:u.default}},computed:{themeSupportsMonospace:function(){var e=o.default.instance(),t=e.themeVar("supports-monospace");return"1"===t},canRegisterProtocolHandler:function(){return!!navigator.registerProtocolHandler&&this.$state.setting("allowRegisterProtocolHandler")},timestamps_24h:{get:function(){return"%H"===this.$state.setting("buffers.timestamp_format").substr(0,2)},set:function(e){var t=e?"%H:%M:%S":"%l:%M:%S %p";this.$state.setting("buffers.timestamp_format",t)}},settings:function(){return this.$state.settings},settingShowAutoComplete:d("showAutocomplete"),settingUseMonospace:d("useMonospace"),settingHighlights:d("highlights"),settingBufferColourNicknames:d("buffers.colour_nicknames_in_messages"),settingBufferShowTimestamps:d("buffers.show_timestamps"),settingBufferShowEmoticons:d("buffers.show_emoticons"),settingBufferBlockPms:d("buffers.block_pms"),settingBufferScrollbackSize:d("buffers.scrollback_size"),settingBufferExtraFormatting:d("buffers.extra_formatting"),settingBufferTrafficAsActivity:d("buffers.traffic_as_activity"),settingBufferMuteSound:d("buffers.mute_sound"),settingBufferShareTyping:d("buffers.share_typing"),settingBufferInlineLinkPreviews:d("buffers.inline_link_auto_previews"),settingDefaultBanMask:d("buffers.default_ban_mask"),settingDefaultKickReason:d("buffers.default_kick_reason"),settingAdvancedEnable:{get:function(){return this.$state.ui.show_advanced_tab},set:function(e){this.$state.ui.show_advanced_tab=e}},settingLanguage:{get:function(){return this.$state.setting("language")||""},set:function(e){this.$state.setting("language",e||null)}},messageLayouts:function(){return{traditional:"compact",modern:"modern",inline:"inline"}},settingMessageLayout:{set:function(e){var t=this.messageLayouts;this.$state.setting("buffers.messageLayout",t[e]||t.modern)},get:function(){var e=this.$state.setting("buffers.messageLayout"),t=r.default.invert(this.messageLayouts);return t[e]}}},created:function(){this.listenForThemeSettings()},methods:{closeSettings:function(){this.$state.$emit("active.component")},refreshTheme:function(){o.default.instance().reload()},listenForThemeSettings:function(){var e=this,t=o.default.instance(),n=[],i=function(){var n=t.currentTheme();e.theme=n.name,e.customThemeUrl="custom"===n.name?n.url:""},s=function(e){t.setTheme(e)},r=function(e){"custom"===t.currentTheme().name&&t.setCustomThemeUrl(e)},c=function t(){e.$state.$off("theme.change",i),(0,a.default)(n).call(n,(function(e){return e()})),e.$off("hook:destroy",t)};i(),this.$state.$on("theme.change",i),this.$once("hook:destroyed",c),n=[this.$watch("theme",s),this.$watch("customThemeUrl",r)]},enableAdvancedTab:function(){var e=this;this.settingAdvancedEnable=!0,this.$nextTick((function(){e.$refs.tabs.setActiveByName("advanced"),e.$el.scrollTop=0}))},makeDefaultProtocolHandler:function(){navigator.registerProtocolHandler("irc",document.location.origin+document.location.pathname+"#%s","Kiwi IRC"),navigator.registerProtocolHandler("ircs",document.location.origin+document.location.pathname+"#%s","Kiwi IRC")}}};t.default=p,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["AppSettings"],window._kiwi_exports.components.AppSettings=t.default?t.default:t},"6cad":function(e,t,n){},"6d41":function(e,t,n){"use strict";n.r(t);var i=n("82aa"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"6daf":function(e,t,n){"use strict";var i=n("f7c0"),s=n.n(i);s.a},"6e56":function(e,t,n){"use strict";var i=n("cb84"),s=n.n(i);s.a},"708b":function(e,t,n){"use strict";n.r(t);var i=n("8242"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"70c2":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.get=o,t.set=c;var a=i(n("3818")),r=null;function o(e){return u()?new a.default((function(t){t(window.localStorage.getItem(e))})):a.default.resolve()}function c(e,t){return u()?new a.default((function(n){n(window.localStorage.setItem(e,t))})):a.default.resolve()}function u(){return null===r&&(r=l("localStorage")),r}function l(e){var t;try{var n="__storage_test__";return t=window[e],t.setItem(n,n),t.removeItem(n),!0}catch(i){return i instanceof DOMException&&(22===i.code||1014===i.code||"QuotaExceededError"===i.name||"NS_ERROR_DOM_QUOTA_REACHED"===i.name)&&0!==t.length}}},7189:function(e,t,n){"use strict";var i=n("2d80");i(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{logo:"",c:"",x:"",Y:[],t:0,fontSize:72,font:"bold 72px verdana",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce eu arcu ipsum. ",animationFrame:null,destroying:!1}},mounted:function(){var e=this;this.logo=this.$el.querySelector(".kiwi-loading-logo"),this.c=this.$el.querySelector(".kiwi-loading-animation"),this.x=this.c.getContext("2d");for(var t="",n=0;n<9;n+=1)t+=this.text;this.text=String(t).match(/.{1,43}/g),this.c.width=1256,this.c.height=1080;for(var i=0;i<this.text.length;i+=1)this.Y.push(i*this.fontSize-1600);this.logo.onload=function(){e.destroying||e.draw()}},beforeDestroy:function(){this.destroying=!0,cancelAnimationFrame(this.animationFrame)},methods:{draw:function(){this.x.clearRect(0,0,this.c.width,this.c.height),this.x.globalCompositeOperation="source-over",this.x.drawImage(this.logo,0,0,this.c.width,this.c.height),this.x.globalCompositeOperation="xor",this.x.fillStyle="#000",this.x.font=this.font;for(var e=0;e<this.text.length;e+=1)this.t%4.5<2?(this.Y[e]+=(250+(10+e)/this.text.length*4e3)/120,this.Y[e]>e*this.fontSize&&(this.Y[e]=e*this.fontSize)):(this.text.length-(this.t%4.5-2)/2.5*this.text.length*1.75<e&&(this.Y[e]+=10+this.Y[e]/20),(this.Y[e]>1080||this.Y[e]<0)&&(this.Y[e]=e*this.fontSize-1500)),this.Y[e]>-100&&this.x.fillText(this.text[e],0,this.fontSize+this.Y[e]);this.x.globalCompositeOperation="source-out",this.x.drawImage(this.logo,0,0,this.c.width,this.c.height),this.x.globalCompositeOperation="source-over",this.x.globalAlpha=.1,this.x.drawImage(this.logo,0,0,this.c.width,this.c.height),this.x.globalAlpha=1,this.animationFrame=requestAnimationFrame(this.draw),this.t+=1/40}}};t.default=s,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["LoadingAnimation"],window._kiwi_exports.components.LoadingAnimation=t.default?t.default:t},7197:function(e,t,n){"use strict";var i=n("48aa"),s=n.n(i);s.a},7277:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.supportsHalfOp=r,t.isAChannelModeAdmin=o,t.isQChannelModeOwner=c,t.extbanAccount=u;var a=i(n("65b8"));function r(e){for(var t=e.ircd.toLowerCase(),n=["ircd-seven","charybdis"],i=0;i<n.length;i++)if((0,a.default)(t).call(t,n[i])>-1)return!1;return!0}function o(e){for(var t=e.ircd.toLowerCase(),n=["ircd-seven","charybdis"],i=0;i<n.length;i++)if((0,a.default)(t).call(t,n[i])>-1)return!1;return!0}function c(e){for(var t=e.ircd.toLowerCase(),n=["ircd-seven","charybdis"],i=0;i<n.length;i++)if((0,a.default)(t).call(t,n[i])>-1)return!1;return!0}function u(e){var t=e.ircd.toLowerCase(),n=e.ircClient.network.supports("EXTBAN")||"";if(!n)return"";var i=n.split(",")[0],s="a";return(0,a.default)(t).call(t,"inspircd")>-1&&(s="R"),i+s}window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["helpers"]||(window._kiwi_exports["helpers"]={}),window._kiwi_exports["helpers"]["IrcdDiffs"],window._kiwi_exports.helpers.IrcdDiffs=t.default?t.default:t},"72b4":function(e,t,n){"use strict";n.r(t);var i=n("4b61"),s=n("2cc3");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("0c2e");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},7348:function(e,t,n){"use strict";var i=n("1a24"),s=n.n(i);s.a},7359:function(e){e.exports=JSON.parse('{"start_button":"Start","start_greeting":"Welcome to Kiwi IRC!","close":"Close","connect":"Connect","connecting":"Connecting...","connected":"Connected","settings":"Settings","kiwi_settings":"Kiwi Settings","channels":"Channels","access":"Access","banned":"Banned Users","invited":"Invited Users","notifications":"Notifications","username":"Username","password":"Password","server_password":"Server Password","password_have":"I have a password","server":"Server","nick":"Nick","channel":"Channel","messages":"Messages","network":"Network","znc":"ZNC","logging_in":"Logging in...","invalid_login":"Invalid login","do_search":"Search...","ok":"OK","cancel":"Cancel","yes":"Yes","no":"No","not_found":"Not found","warning":"Warning!","window_unload":"This will close all KiwiIRC conversations. Are you sure you want to close this window?","whois_realname":"Real name","whois_status":"Status","whois_status_available":"Is available","send_a_message":"Send a message","more_information":"More information","ignore_user":"Ignore user","connection_channel":"Channel","away":"Away","week":"{{count}} week","week_plural":"{{count}} weeks","day":"{{count}} day","day_plural":"{{count}} days","hour":"{{count}} hour","hour_plural":"{{count}} hours","minute":"{{count}} minute","minute_plural":"{{count}} minutes","second":"{{count}} second","second_plural":"{{count}} seconds","settings_general":"General","settings_language":"Language","settings_theme":"Theme","refresh_theme":"Refresh Theme","settings_themeurl":"Theme URL","settings_messagelayout":"Message Layout","settings_use_monospace":"Use monospace","settings_default_handler":"Use Kiwi as my default IRC client","settings_layout_compact":"Traditional IRC layout","settings_show_autocomplete":"Show autocomplete list","settings_messages_title":"Chat Messages","settings_timestamps":"Show timestamps","settings_24hour_timestamps":"Use 24-hour timestamps","settings_emoticons":"Show emoticons","settings_block_private":"Block new private messages","settings_scrollback":"Messages in scrollback","settings_formatting":"Extra formatting","settings_nick_colouring":"Colour nicknames in messages","settings_share_typing":"Share when I\'m typing a message","settings_show_inline_previews":"Show inline image previews","settings_show_joinpart":"Include join/part messages as activity","settings_mute_sound":"Mute sound notifications","settings_highlight":"Highlight on words (space separated)","settings_aliases":"Aliases","what_are_aliases":"What are Aliases?","send_message":"Send Message","bufferkey_input":"Enter the channel key:","bufferkey_rejoin":"Rejoin {{channel}}","settings_notify":"Notify me when","settings_notify_all":"All messages","settings_notify_mentioned":"I am mentioned","settings_notify_never":"Never","settings_notify_mute":"Mute sounds","settings_show_message_counts":"Hide unread message count","operator_tools":"Operator Tools","settings_default_ban_mask":"Default ban mask","settings_default_kick_reason":"Default kick reason","settings_advanced_title":"Advanced Settings","settings_advanced_warning":"Monsters be here, only click this button if you know what you are doing","settings_advanced_button":"Enable Advanced Settings","settings_advanced_header":"Danger Zone: Changing some of these settings may break things!","settings_advanced_reset":"Reset","settings_advanced_filter":"Filter","bans_refresh":"Refresh banlist","bans_user":"Banned user","bans_by":"Banned by","bans_refreshing":"Refreshing banlist...","bans_nobody":"Nobody is banned!","invites_refresh":"Refresh invite list","invites_user":"Invited user","invites_by":"Invited by","invites_refreshing":"Refreshing invite list...","invites_nobody":"Nobody is invited!","invite_public_channel":"This is a public channel.","invite_private_channel":"Only invited users can join.","invite_set_private":"Only allow invited users","invite_set_public":"Allow anybody to join","invite_registered_only":"Only registered users can join","invite_add_invite":"Add invite","invite_any_registered":"(Any registered user)","channel_topic":"Topic","channel_moderated":"Moderated chat","channel_invite":"Invite only","channel_moderated_topic":"Only moderators can change the topic","channel_external":"Block messages from outside this channel","channel_list_fetch":"Click the refresh button to update the channel list","channel_list_nonefound":"No channels found, try again later","container_welcome":"Welcome to Kiwi IRC! Select a channel on the left.","container_statebrowser":"Show statebrowser","hide_topic":"Hide Topic","display_topic":"Display Topic","channel_settings":"Channel Settings","container_join":"Join Channel","container_notconnected":"Not Connected","container_privmsg":"Private conversation with {{user}}","prompt_leave_channel":"Really leave the channel?","input_placeholder":"Send a message...","media_loading":"Loading {{url}}...","messages_load":"Load previous messages","unread_messages":"Unread Messages","settings_server_details":"Server details","settings_port":"Port","settings_znc_other":"Other networks on this ZNC account will be listed in the network list","settings_your_details":"Your details","settings_nickname":"Nickname","settings_advanced":"Advanced","settings_encoding":"Encoding","settings_show_raw":"Show Raw","settings_use_websocket":"Direct websocket","settings_autorun":"Run commands when connected","settings_danger":"Danger Zone","settings_remove":"Remove network","person":"{{count}} person here","person_plural":"{{count}} people here","filter_users":"Filter users in channel","reconnect_channel":"Reconnect to join {{channel}}","reconnect_network":"Reconnect to {{network}} to start talking","reconnect_query":"Reconnect to continue talking with {{user}}","not_connected":"You are not currently connected!","reconnect_settings":"Connection settings","network_noconnect":"We couldn\'t connect to that server :(","network_connect":"Connect To Network","network_name":"Network Name","side_close":"Close options","side_options":"Channel options","side_settings":"Your settings","side_joins":"Show when people join","side_topics":"Show when channel topic changes","side_nick_changes":"Show when users change their nicks","side_mode_changes":"Show when users change channel modes","side_formatting":"Extra message formatting","side_colours":"Nick colours in the list","side_buffer":"No buffer set","no_topic_set":"There is no topic for this channel","about":"About","created_at":"Created at {{when}}","highlights":"Highlights","nobody_mentioned_you":"Nobody has mentioned you yet...","error_starting":"There was an error starting Kiwi IRC :(","error_installed":"Make sure you have installed Kiwi IRC correctly and the configurartion can be loaded","state_leave":"Leave {{name}}","state_account":"Your account","state_remembered":"Your settings and networks will be remembered on this computer.","state_forget":"Forget me","state_network":"No networks here yet.","state_add":"Add one?","state_available":"Available networks","add_network":"Add Network","new_network":"New Network","no_network":"No Network","state_configure":"Configure network","state_disconnected":"Not connected.","state_join":"Join new #channel","filter_channels":"Filter Channels","find_more_channels":"Find More Channels","change_nick":"Change nick","enter_new_nick":"Enter new nickname...","user_you":"This is you!","user_account":"Account name: {{user}}","user_realname":"Real name: {{realname}}","user_bot":"Is a bot","user_help":"Is available for help","user_op":"Is an operator","user_server":"Connected to {{server}} {{info}}","user_secure":"Securely connected via SSL/TLS","user_channels":"Also in channels {{channels}}","user_access":"Access level","user_normal":"Normal","user_kick":"Kick from the channel","user_ban":"Ban from the channel","user_kickban":"Ban and kick from the channel","error_no_channel_join":"Please specify a channel to join. eg /join #example","error_nick_in_use":"The nickname {{nick}} is already in use!","error_empty_nick":"You must enter a new nickname","error_no_number":"Nickname must not start with a number","modes_give_ops":"{{nick}} gives ops to {{target}}","modes_take_ops":"{{nick}} takes ops from {{target}}","modes_give_halfops":"{{nick}} gives half-ops to {{target}}","modes_take_halfops":"{{nick}} takes half-ops from {{target}}","modes_give_voice":"{{nick}} gives voice to {{target}}","modes_take_voice":"{{nick}} takes voice from {{target}}","modes_give_admin":"{{nick}} gives admin to {{target}}","modes_take_admin":"{{nick}} takes admin from {{target}}","modes_give_owner":"{{nick}} gives owner to {{target}}","modes_take_owner":"{{nick}} takes owner from {{target}}","modes_gives_ban":"{{nick}} has banned {{target}}","modes_takes_ban":"{{nick}} has unbanned {{target}}","modes_other":"{{nick}} sets {{mode}} on {{target}}","command_msg":"Send a message","command_action":"Do something physical","command_join":"Join a channel","command_part":"Leave a channel","command_cycle":"Leave, then re-join a channel","command_nick":"Change your nickname","command_query":"Start a private conversation with someone","command_invite":"Invite somebody into the channel","command_topic":"Set the topic for this channel","command_notice":"Send a notice","command_quote":"Send a raw command to the IRC server","command_kick":"Kick somebody from the channel","command_clear":"Clear all messages from this window","command_ctcp":"Send a CTCP command to somebody","command_quit":"Disconnect from the IRC server","command_server":"Connect to a new IRC network","command_whois":"Request information on somebody","command_whowas":"Request information on somebody that disconnected recently","command_away":"Mark yourself as away","command_back":"Set yourself as active","command_encoding":"Change your connection encoding","command_ignore":"Ignore messages from somebody","command_unignore":"Stop ignoring somebody","command_dice":"Roll a Dice","dice_roll":"Rolls a {{sides}} sided dice and gets {{number}}","personal_client":"Your IRC Client.","personal_addjoin":"Add your networks. Join your channels.","personal_return":"They will be here when you come back.","personal_add":"Add a Network","personal_connect_to":"You are trying to connect to {{network}}","personal_added_to_existing":"Network has been added to your existing Kiwi window.","personal_add_existing_tab":"Add network to existing Kiwi window","personal_connect_temporary":"Temporarily connect to this network","personal_saved":"Saved networks","rizon_title":"Kiwi IRC (next gen) - Rizon preview","rizon_websockets":"Direct websockets. No Kiwi server or webirc involved.","rizon_thanks":"(Thanks to Adam @Rizon for the development websocket server support!)","rizon_dev":"Give the developer version of Kiwi IRC a try!","disconnected":"Disconnected","connected_to":"Connected to {{network}}!","has_joined":"{{nick}} has joined","kicked_you_from":"{{nick}} kicked you from {{channel}}","was_kicked_from":"{{nick}} was kicked from {{channel}} by {{chanop}}","has_left":"{{nick}} has left","invited_you":"{{nick}} invited you to join {{channel}}","nick_in_use_retrying":"Nickname {{nick}} is already in use. Trying {{newnick}}...","now_known_as":"{{nick}} is now known as {{newnick}}","changed_topic_to":"{{nick}} changed the topic to: {{topic}}"}')},7544:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-bufferkey kiwi-warning-block"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.joinChannel(t)}}},[n("label",[e._v(e._s(e.$t("bufferkey_input")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.buffer.key,expression:"buffer.key"},{name:"focus",rawName:"v-focus"}],attrs:{type:"password"},domProps:{value:e.buffer.key},on:{input:function(t){t.target.composing||e.$set(e.buffer,"key",t.target.value)}}}),n("div",{staticClass:"kiwi-bufferkey-buttons"},[n("span",{staticClass:"kiwi-bufferkey-button",on:{click:e.joinChannel}},[n("i",{staticClass:"fa fa-arrow-circle-o-right",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("bufferkey_rejoin",{channel:e.buffer.name}))+" ")])])])])},s=[]},7768:function(e,t,n){"use strict";var i=n("eee1"),s=n.n(i);s.a},"787b":function(e,t,n){"use strict";n.r(t);var i=n("fd86"),s=n("8049");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!0,null,null,null);t["default"]=o.exports},"78e0":function(e,t,n){"use strict";n.r(t);var i=n("45d1"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"78e5":function(e,t,n){"use strict";var i=n("2d80");i(t,"__esModule",{value:!0}),t.default=void 0;var s=n("5ee5"),a=s.component("input-confirm",{props:["label","flipConnotation"],data:function(){return{state:"pre"}},computed:{connoteCss:function(){return{yes:this.flipConnotation?"warning":"primary",no:this.flipConnotation?"primary":"warning"}}},created:function(){this.$slots.default||(this.state="prompt")},methods:{prompt:function(){this.state="prompt"},complete:function(e){this.$emit("submit",e),this.$emit(e?"ok":"cancel"),this.state="pre"}}});t.default=a,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["utils"]||(window._kiwi_exports["components"]["utils"]={}),window._kiwi_exports["components"]["utils"]["InputConfirm"],window._kiwi_exports.components.utils.InputConfirm=t.default?t.default:t},"78fd":function(e,t,n){"use strict";n.r(t);var i=n("50ab"),s=n("ddcd");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("d4b7");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},"7a9c":function(e,t,n){"use strict";n.r(t);var i=n("bf17"),s=n("5db0");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("819b");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},"7ae5":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("fa81")),r=i(n("bf2d")),o=i(n("a3e3")),c=i(n("3818")),u=i(n("acf5")),l=i(n("9f12")),f=i(n("53fe")),d=i(n("eec7")),p=i(n("2ef0")),h=i(n("5e48")),w=i(n("0470")),m=w.default.namespace("ConfigLoader"),v=function(){function e(){(0,l.default)(this,e),this.config=(0,u.default)(null),this.valReplacements=(0,u.default)(null)}return(0,f.default)(e,[{key:"addValueReplacement",value:function(e,t){return this.valReplacements[e]=t,this}},{key:"loadFromUrl",value:function(e){var t=this;return new c.default((function(n,i){(0,d.default)({url:e},(function(e,s){if(e)i();else{var a=null;try{a=h.default.parse(s.body)}catch(c){m.error("Config "+c.message);var r="Config file error: "+c.message.replace("JSON5: ","");return r=r.replace(/at (\d+):(\d+)/g,(function(e,t,n){var i;return(0,o.default)(i="line ".concat(t,", position ")).call(i,n)})),void i(r)}t.setConfig(a),n(t.config)}}))}))}},{key:"loadFromObj",value:function(e){var t=this;return new c.default((function(n,i){t.setConfig(e),n(t.config)}))}},{key:"setConfig",value:function(e){var t=this,n=function e(n,i){p.default.each(n,(function(n,s){var a=n;"string"===typeof a?(a=t.insertReplacements(a),i[s]=a):"object"===(0,r.default)(a)?(i[s]=p.default.isArray(a)?[]:{},e(a,i[s])):i[s]=a}))};this.config=(0,u.default)(null),n(e,this.config)}},{key:"insertReplacements",value:function(e){for(var t=e,n=(0,a.default)(this.valReplacements),i=0;i<n.length;i++){var s=n[i];if(e==="{{"+s+"}}")return this.valReplacements[s];t=t.replace("{{"+s+"}}",this.valReplacements[s])}return t}}]),e}();t.default=v,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["ConfigLoader"],window._kiwi_exports.libs.ConfigLoader=t.default?t.default:t},"7b18":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("4573")),r=i(n("65b8")),o=i(n("82ec")),c=i(n("e4f0")),u=i(n("2ef0")),l={props:["filter","buffer","items"],data:function(){return{items_:[{text:"anick1",type:"user"},{text:"anick2",type:"user"},{text:"bnick3",type:"user"},{text:"cnick4"},{text:"dnick5"}],selected_idx:0}},computed:{filteredItems:function(){var e,t,n=((0,c.default)(this)||"").toLowerCase();return(0,o.default)(e=(0,c.default)(t=(0,u.default)(this.items)).call(t,(function(e){var t,i,s=!1;return 0===(0,r.default)(t=e.text.toLowerCase()).call(t,n)&&(s=!0),(0,a.default)(i=e.alias||[]).call(i,(function(e){var t;0===(0,r.default)(t=e.toLowerCase()).call(t,n)&&(s=!0)})),s}))).call(e,(function(e,t){return e.text.localeCompare(t.text)})).value()},filteredAndLimitedItems:function(){var e,t=this;return(0,c.default)(e=this.filteredItems).call(e,(function(e,n,i){var s=i.length-1,a=t.selected_idx-3,r=t.selected_idx+3,o=!1;return a<0?(r+=-a,a=0):r>s&&(a-=r-s,r=s),n>=a&&n<=r&&(o=!0),e.idx=n,o}))},selectedItem:function(){var e=this.filteredItems[this.selected_idx];return e||null}},watch:{selected_idx:function(){var e=this;this.$nextTick((function(){var t=e.$el.querySelector(".kiwi-autocomplete-item--selected");t&&(e.$el.scrollTop=t.offsetTop-2*t.getBoundingClientRect().height)})),this.tempCurrentItem()},filter:function(){var e=this.filteredAndLimitedItems.length-1;this.selected_idx>e&&(this.selected_idx=e)}},mounted:function(){this.tempCurrentItem()},methods:{handleOnKeyDown:function(e){var t=!1,n=[13,188,190];return(0,r.default)(n).call(n,e.keyCode)>-1?this.selectedItem?(this.selectCurrentItem(),13===e.keyCode&&e.preventDefault(),t=!0):this.cancel():38===e.keyCode||9===e.keyCode&&e.shiftKey?(this.selected_idx>0?this.selected_idx--:this.selected_idx=this.filteredItems.length-1,e.preventDefault(),t=!0):40===e.keyCode&&!e.altKey||9===e.keyCode?(this.selected_idx<this.filteredItems.length-1?this.selected_idx++:this.selected_idx=0,e.preventDefault(),t=!0):16===e.keyCode&&(t=!0),t},openQuery:function(e){var t=this.$state.addBuffer(this.buffer.networkid,e);this.$state.setActiveBuffer(t.networkid,t.name),this.cancel()},tempCurrentItem:function(){var e=this.selectedItem;e&&this.$emit("temp",e.value||e.text,e)},selectCurrentItem:function(){var e=this.selectedItem,t="";e&&(t=e.value||e.text),this.$emit("selected",t,e)},cancel:function(){this.$emit("cancel")}}};t.default=l,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["AutoComplete"],window._kiwi_exports.components.AutoComplete=t.default?t.default:t},"7c06":function(e,t,n){"use strict";n.r(t);var i=n("98fc"),s=n("059c");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("81c6");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},"7f44":function(e,t,n){"use strict";n.r(t);var i=n("2f8b"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"7f4f":function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("a3e3")),o=s(n("e76e")),c=s(n("44a4")),u=s(n("05f2")),l=s(n("65b8")),f=s(n("4573")),d=s(n("2ef0")),p=i(n("862b")),h=s(n("0470")),w=s(n("b4ef")),m=s(n("e7f8")),v=s(n("6307")),_=h.default.namespace("Welcome.vue"),g={components:{Captcha:m.default,StartupLayout:v.default},data:function(){return{errorMessage:"",network:null,channel:"",nick:"",password:"",showChannel:!0,showPass:!0,toggablePass:!0,showNick:!0,show_password_box:!1,connectWithoutChannel:!1,showPlainText:!1,captchaReady:!1}},computed:{startupOptions:function(){return this.$state.settings.startupOptions},greetingText:function(){var e=this.$state.settings.startupOptions.greetingText;return"string"===typeof e?e:this.$t("start_greeting")},footerText:function(){var e=this.$state.settings.startupOptions.footerText;return"string"===typeof e?e:""},buttonText:function(){var e=this.$state.settings.startupOptions.buttonText;return"string"===typeof e?e:this.$t("start_button")},readyToStart:function(){var e=!!this.nick;if(this.connectWithoutChannel||this.channel||(e=!1),!this.connectWithoutChannel){var t=p.extractBuffers(this.channel);(0,f.default)(t).call(t,(function(t){var n;-1===(0,l.default)(n="#&").call(n,t.name[0])&&(e=!1)}))}this.toggablePass||this.password||(e=!1);var n=this.$state.setting("startupOptions.nick_format"),i="";if(n){var s="",a="";if("/"===n[0]){var r=(0,u.default)(n).call(n,"/");s=n.substring(1,r),a=n.substr(r+1)}else s=d.default.escapeRegExp(n),a="i";try{i=new RegExp(s,a)}catch(o){return _.error("Nick format error: "+o.message),!1}}else i=/^[a-z_\\[\]{}^`|][a-z0-9_\-\\[\]{}^`|]*$/i;return this.nick.match(i)||(e=!1),e}},created:function(){var e,t,n=this.startupOptions,i=this.connectOptions(),s=null;(0,c.default)(e=i.hostname).call(e)&&(s=this.$state.getNetworkFromAddress((0,c.default)(t=i.hostname).call(t)));if(p.queryStringVal("nick")?this.nick=p.queryStringVal("nick"):s&&s.connection.nick?this.nick=s.connection.nick:this.nick=n.nick,this.nick=this.processNickRandomNumber(this.nick||""),this.password=n.password||"",this.channel=decodeURIComponent(window.location.hash)||n.channel||"",this.showChannel="boolean"!==typeof n.showChannel||n.showChannel,this.showNick="boolean"!==typeof n.showNick||n.showNick,this.showPass="boolean"!==typeof n.showPassword||n.showPassword,this.toggablePass="boolean"!==typeof n.toggablePassword||n.toggablePassword,this.connectWithoutChannel=!!n.allowNoChannel,n.bouncer){this.toggablePass=!1,this.showPass=!0,this.showChannel=!1,this.connectWithoutChannel=!0;var a=new w.default(this.$state);a.enable(i.hostname,i.port,i.tls,i.direct,i.direct_path)}n.autoConnect&&this.nick&&(this.channel||this.connectWithoutChannel)&&this.startUp()},methods:{onAltClose:function(e){e.channel&&(this.channel=e.channel),e.nick&&(this.nick=e.nick),e.password&&(this.password=e.password),e.error&&(this.errorMessage=e.error),this.$state.settings.startupOptions.altComponent=null},readableStateError:function(e){return p.networkErrorMessage(e)},formSubmit:function(){this.readyToStart&&this.startUp()},startUp:function(){var e=this;this.errorMessage="";var t,n=(0,o.default)({},this.$state.settings.startupOptions),i=this.connectOptions(),s=(0,c.default)(d.default).call(d.default,i.hostname),a=this.network||this.$state.getNetworkFromAddress(s),u=this.password;(a=a||this.$state.addNetwork("Network",this.nick,{server:s,port:i.port,tls:i.tls,password:u,encoding:(0,c.default)(d.default).call(d.default,n.encoding),direct:i.direct,path:i.direct_path||"",gecos:n.gecos,username:n.username}),a.serverBuffer().clearMessages(),a.connection.nick=this.nick,n.bouncer)?(a.connection.password=(0,r.default)(t="".concat(this.nick,":")).call(t,u),a.password=""):(a.connection.password="",a.password=u);(0,c.default)(d.default).call(d.default,n.encoding||"")&&(a.connection.encoding=(0,c.default)(d.default).call(d.default,n.encoding)),this.network=a;var l=!1,h=p.extractBuffers(this.channel);(0,f.default)(h).call(h,(function(t){var n=e.$state.addBuffer(a.id,t.name);n.enabled=!0,n&&!l&&(e.$state.setActiveBuffer(a.id,n.name),l=!0),t.key&&(n.key=t.key)})),n.bouncer||l||this.$state.setActiveBuffer(a.id,a.serverBuffer().name),a.ircClient.connect();var w=function t(){e.$refs.layout&&e.$refs.layout.close(),a.ircClient.off("registered",t),a.ircClient.off("close",m)},m=function e(){a.ircClient.off("registered",w),a.ircClient.off("close",e)};a.ircClient.once("registered",w),a.ircClient.once("close",m)},processNickRandomNumber:function(e){var t=(e||"").replace(/\?/g,(function(){return Math.floor(100*Math.random()).toString()}));return(0,c.default)(d.default).call(d.default,t)},handleCaptcha:function(e){this.captchaReady=e},connectOptions:function(){var e=(0,o.default)({},this.$state.settings.startupOptions),t=p.connectionInfoFromConfig(e);return t.hostname=t.hostname||"default",!t.port&&t.direct?t.port=t.tls?443:80:t.port||t.direct||(t.port=t.tls?6697:6667),t}}};t.default=g,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["startups"]||(window._kiwi_exports["components"]["startups"]={}),window._kiwi_exports["components"]["startups"]["Welcome"],window._kiwi_exports.components.startups.Welcome=t.default?t.default:t},"7fb8":function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("44a4")),o=s(n("2b0b")),c=s(n("9474")),u=s(n("6b47")),l=s(n("4573")),f=s(n("89ba")),d=s(n("2ef0")),p=i(n("862b")),h={data:function(){return{title:"Where are you connecting today?",buttonText:"",server_type:"default",server:"",tls:!1,nick:"",password:"",encoding:"utf8",channel:"",znc_network:"",znc_network_support:!0,direct:!1,direct_path:"",show_type_switcher:!0,show_password_box:!1,is_connecting:!1,network:null}},created:function(){var e=(0,f.default)(u.default.mark((function e(){var t,n,i,s,a,r,o=this;return u.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=!1,this.$state.networks.length>0?(n=this.$state.networks[0],this.$state.setActiveBuffer(n.id,n.serverBuffer().name),t=!0,this.$emit("start")):window.location.hash.substr(1)?(i=window.location.hash.substr(1),s=i.substr(0,7).toLowerCase(),"ircs%3a"!==s&&"irc%3a"!==s.substr(0,6)||(i=decodeURIComponent(i)),a=p.parseIrcUri(i),0===a.length?(t=!0,this.applyDefaults()):1===a.length?(t=!1,this.server_type="default_simple",this.show_type_switcher=!1,r=a[0],this.server=r.server+":"+r.port,this.tls=r.tls,this.nick=this.processNickRandomNumber(r.nick),this.channel=r.channels.join(","),this.direct=r.direct,this.encoding=r.encoding,"znc"===r.params.type?("_"===r.params.network?this.znc_network_support=!1:this.znc_network=r.params.network||"",this.server_type="znc",this.title="Enter your password to connect to ZNC"):this.title="Enter a nickname to join"):a.length>1&&(t=!1,(0,l.default)(a).call(a,(function(e,t){var n,i=o.$state.addNetwork(e.server,e.nick,{server:e.server,port:e.port,tls:e.tls,password:e.password||""});(0,l.default)(n=e.channels).call(n,(function(e){var t=o.$state.addBuffer(i.id,e);t.enabled=!0})),0===t&&o.$state.setActiveBuffer(i.id,i.serverBuffer().name)})),this.$emit("start"))):(t=!0,this.applyDefaults()),this.$state.settings.startupOptions.greetingText&&(this.title=this.$state.settings.startupOptions.greetingText),this.$state.settings.startupOptions.buttonText?this.buttonText=this.$state.settings.startupOptions.buttonText:this.buttonText=this.$t("connect"),t&&this.$state.persistence.watchStateForChanges();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{readableStateError:function(e){return p.networkErrorMessage(e)},startUp:function(){var e,t=this;if(this.nick){var n=this.nick;if("znc"===this.server_type){var i=n;this.znc_network&&(i+="/"+this.znc_network),i+=":"+this.password,e=this.$state.addNetwork("ZNC","ZNC",{server:this.server.split(":")[0],port:(0,c.default)(this.server.split(":")[1]||6667,10),tls:this.tls,password:i})}else e=this.$state.addNetwork("Network",n,{server:this.server.split(":")[0],port:(0,c.default)(this.server.split(":")[1]||6667,10),tls:this.tls,password:this.password,direct:this.direct,path:this.direct_path,encoding:this.encoding});if(e){var s=!1,a=p.extractBuffers(this.channel);(0,l.default)(a).call(a,(function(n,i){var a=t.$state.addBuffer(e.id,n.name);a.enabled=!0,n.key&&(a.key=n.key),0===i&&(t.$state.setActiveBuffer(e.id,a.name),s=!0)})),s||this.$state.setActiveBuffer(e.id,e.serverBuffer().name),this.is_connecting=!0,this.network=e,e.ircClient.connect();var r=function n(){(0,o.default)((function(){t.is_connecting=!1}),1e3),t.$emit("start"),e.ircClient.off("registered",n),e.ircClient.off("close",u)},u=function n(){(0,o.default)((function(){t.is_connecting=!1}),1e3),e.ircClient.off("registered",r),e.ircClient.off("close",n)};e.ircClient.once("registered",r),e.ircClient.once("close",u)}}else this.$el.querySelector(".kiwi-customserver-nick input").focus()},processNickRandomNumber:function(e){var t=(e||"").replace(/\?/g,(function(){return Math.floor(100*Math.random()).toString()}));return(0,r.default)(d.default).call(d.default,t)},infoClick:function(){if(this.network){var e=this.network;this.$state.setActiveBuffer(e.id,e.serverBuffer().name)}this.$emit("start")},applyDefaults:function(){this.server=this.$state.settings.startupOptions.server,this.tls=this.$state.settings.startupOptions.tls,this.nick=this.processNickRandomNumber(this.$state.settings.startupOptions.nick),this.channel=this.$state.settings.startupOptions.channel,this.direct=this.$state.settings.startupOptions.direct,this.direct_path=this.$state.settings.startupOptions.direct_path,this.encoding=this.$state.settings.startupOptions.encoding,"6667"!==this.$state.settings.startupOptions.port.toString()&&(this.server+=":"+this.$state.settings.startupOptions.port.toString()),this.title="Where are you connecting today?"}}};t.default=h,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["startups"]||(window._kiwi_exports["components"]["startups"]={}),window._kiwi_exports["components"]["startups"]["CustomServer"],window._kiwi_exports.components.startups.CustomServer=t.default?t.default:t},8008:function(e,t,n){"use strict";var i=n("fb75"),s=n.n(i);s.a},8049:function(e,t,n){"use strict";n.r(t);var i=n("3d2a"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"819b":function(e,t,n){"use strict";var i=n("e82a"),s=n.n(i);s.a},"81c6":function(e,t,n){"use strict";var i=n("e941"),s=n.n(i);s.a},8242:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("df10")),r=i(n("65b8")),o=i(n("e4f0")),c=i(n("2ef0")),u=i(n("9332")),l=i(n("e54d")),f={props:["network"],data:function(){return{sidebarOpen:!1,page:0,page_size:200,search:"",last_updated:0}},computed:{noResults:function(){return"updated"===this.listState&&0===this.filteredList.length},isLoading:function(){return"updating"===this.listState},listState:function(){return this.network.channel_list_state},list:function(){return this.network.channel_list||[]},filteredList:function(){var e,t,n=this,i=[];this.search.length<=2?i=this.list:i=(0,o.default)(t=this.list).call(t,(function(e){var t,i,s=!1;return(0,r.default)(t=e.channel.toLowerCase()).call(t,n.search)>-1&&(s=!0),(0,r.default)(i=e.topic.toLowerCase()).call(i,n.search)>-1&&(s=!0),s}));return(0,a.default)(e=c.default.sortBy(i,"num_users")).call(e)},paginated:function(){for(var e=this.page*this.page_size,t=this.filteredList,n=[],i=e;i<e+this.page_size;i++)t[i]&&n.push(t[i]);return n},maxPages:function(){return Math.floor(this.filteredList.length/this.page_size)},canGoForward:function(){return this.page*this.page_size>=this.filteredList.length},canGoBackward:function(){return this.page>0}},watch:{search:function(){this.page=0}},methods:{nextPage:function(){this.page<this.maxPages&&this.page++},prevPage:function(){this.page>0&&this.page--},maybeUpdateList:function(){"updating"!==this.listState&&this.network.ircClient.raw("LIST")},formatAndTrimTopic:function(e){var t=this.$state.setting("showChanlistModes"),n=t?e:e.replace(/^\[([^\]]+)\] ?/,""),i=(0,l.default)(n,{extras:!1}),s=(0,u.default)(i);return s},joinChannel:function(e){this.$state.addBuffer(this.network.id,e),this.network.ircClient.join(e)}}};t.default=f,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["ChannelList"],window._kiwi_exports.components.ChannelList=t.default?t.default:t},"82aa":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("493c")),r=i(n("e4f0")),o=i(n("2fa7")),c=i(n("e402")),u={components:{TypingStatusIndicator:c.default},props:["buffer"],computed:{users:function(){if(this.buffer.isQuery()){var e=this.$state.getActiveNetwork(),t=this.$state.getUser(e.id,this.buffer.name);return t?(0,o.default)({},t.nick,t):{}}return this.buffer.users},typingUsers:function(){var e,t=this,n=this.$state.getActiveNetwork().nick;return(0,r.default)(e=(0,a.default)(this.users)).call(e,(function(e){return e.nick!==n&&e.typingStatus(t.buffer.name).status}))}},methods:{userColour:function(e){return e&&this.buffer.setting("colour_nicknames_in_messages")?e.getColour():""}}};t.default=u,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["TypingUsersList"],window._kiwi_exports.components.TypingUsersList=t.default?t.default:t},8331:function(e,t,n){},"83d5":function(e,t,n){"use strict";n.r(t);var i=n("faa3"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},8438:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-serverselector",class:{"kiwi-serverselector--custom":"custom"===e.presetServer}},[e.usePreset&&e.presetNetworks.length>0?n("div",{staticClass:"kiwi-serverselector-presets"},[n("label",[n("span",[e._v(e._s(e.$t("server")))]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.presetServer,expression:"presetServer"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.presetServer=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"custom"}},[e._v("Custom Server")]),n("option",{attrs:{disabled:""}},[e._v("-----------------")]),e._l(e.presetNetworks,(function(t){return n("option",{key:t.name,domProps:{value:e.toUri(t)}},[e._v(e._s(t.name))])}))],2)])]):e._e(),e.showCustom||0===e.presetNetworks.length||!e.usePreset?[n("input-text",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"kiwi-networksettings-connection-address",attrs:{label:e.$t("server")},model:{value:e.connection.server,callback:function(t){e.$set(e.connection,"server",t)},expression:"connection.server"}}),n("input-text",{staticClass:"kiwi-networksettings-connection-port",attrs:{label:e.$t("settings_port"),type:"number"},model:{value:e.connection.port,callback:function(t){e.$set(e.connection,"port",t)},expression:"connection.port"}},[n("span",{staticClass:"fa-stack fa-lg kiwi-customserver-tls",class:{"kiwi-customserver-tls--enabled":e.connection.tls},on:{click:e.toggleTls}},[e.connection.tls?n("i",{staticClass:"fa fa-lock fa-stack-1x kiwi-customserver-tls-lock"}):n("i",{staticClass:"fa fa-unlock fa-stack-1x kiwi-customserver-tls-minus"})])])]:e._e()],2)},s=[]},"85d6":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-sidebar kiwi-theme-bg",class:["kiwi-sidebar-section-"+e.section]},[e.sidebarState.isOpen?e._e():n("span",{staticClass:"kiwi-sidebar-options"},[n("div",{staticClass:"kiwi-sidebar-close",on:{click:function(t){return e.sidebarState.close()}}},[e._v(" "+e._s(e.$t("close"))),n("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e.sidebarState.activeComponent?[n(e.sidebarState.activeComponent,{tag:"component",attrs:{network:e.network,buffer:e.buffer,"sidebar-state":e.sidebarState}})]:e.buffer?[e.buffer.isChannel()?["settings"===e.section?n("div",{staticClass:"kiwi-sidebar-buffersettings",on:{click:function(e){e.stopPropagation()}}},[n("tabbed-view",[n("tabbed-tab",{attrs:{header:e.$t("settings"),focus:!0}},[n("h3",[e._v(e._s(e.$t("channel_settings")))]),n("hr"),n("channel-info",{attrs:{buffer:e.buffer}}),n("div",{staticClass:"kiwi-sidebar-settings"},[n("h3",[e._v(e._s(e.$t("side_settings")))]),n("hr"),n("form",{staticClass:"u-form"},[n("label",{staticClass:"u-checkbox-wrapper"},[n("span",[e._v(e._s(e.$t("side_joins")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingShowJoinParts,expression:"settingShowJoinParts"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settingShowJoinParts)?e._i(e.settingShowJoinParts,null)>-1:e.settingShowJoinParts},on:{change:function(t){var n=e.settingShowJoinParts,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.settingShowJoinParts=n.concat([a])):r>-1&&(e.settingShowJoinParts=n.slice(0,r).concat(n.slice(r+1)))}else e.settingShowJoinParts=s}}})]),n("label",{staticClass:"u-checkbox-wrapper"},[n("span",[e._v(e._s(e.$t("side_topics")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingShowTopics,expression:"settingShowTopics"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settingShowTopics)?e._i(e.settingShowTopics,null)>-1:e.settingShowTopics},on:{change:function(t){var n=e.settingShowTopics,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.settingShowTopics=n.concat([a])):r>-1&&(e.settingShowTopics=n.slice(0,r).concat(n.slice(r+1)))}else e.settingShowTopics=s}}})]),n("label",{staticClass:"u-checkbox-wrapper"},[n("span",[e._v(e._s(e.$t("side_nick_changes")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingShowNickChanges,expression:"settingShowNickChanges"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settingShowNickChanges)?e._i(e.settingShowNickChanges,null)>-1:e.settingShowNickChanges},on:{change:function(t){var n=e.settingShowNickChanges,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.settingShowNickChanges=n.concat([a])):r>-1&&(e.settingShowNickChanges=n.slice(0,r).concat(n.slice(r+1)))}else e.settingShowNickChanges=s}}})]),n("label",{staticClass:"u-checkbox-wrapper"},[n("span",[e._v(e._s(e.$t("side_mode_changes")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingShowModeChanges,expression:"settingShowModeChanges"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settingShowModeChanges)?e._i(e.settingShowModeChanges,null)>-1:e.settingShowModeChanges},on:{change:function(t){var n=e.settingShowModeChanges,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.settingShowModeChanges=n.concat([a])):r>-1&&(e.settingShowModeChanges=n.slice(0,r).concat(n.slice(r+1)))}else e.settingShowModeChanges=s}}})]),n("label",{staticClass:"u-checkbox-wrapper"},[n("span",[e._v(e._s(e.$t("side_formatting")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingExtraFormatting,expression:"settingExtraFormatting"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settingExtraFormatting)?e._i(e.settingExtraFormatting,null)>-1:e.settingExtraFormatting},on:{change:function(t){var n=e.settingExtraFormatting,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.settingExtraFormatting=n.concat([a])):r>-1&&(e.settingExtraFormatting=n.slice(0,r).concat(n.slice(r+1)))}else e.settingExtraFormatting=s}}})]),n("label",{staticClass:"u-checkbox-wrapper"},[n("span",[e._v(e._s(e.$t("side_colours")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingColouredNicklist,expression:"settingColouredNicklist"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settingColouredNicklist)?e._i(e.settingColouredNicklist,null)>-1:e.settingColouredNicklist},on:{change:function(t){var n=e.settingColouredNicklist,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.settingColouredNicklist=n.concat([a])):r>-1&&(e.settingColouredNicklist=n.slice(0,r).concat(n.slice(r+1)))}else e.settingColouredNicklist=s}}})]),n("label",{staticClass:"u-checkbox-wrapper"},[n("span",[e._v(e._s(e.$t("settings_share_typing")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingShareTyping,expression:"settingShareTyping"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settingShareTyping)?e._i(e.settingShareTyping,null)>-1:e.settingShareTyping},on:{change:function(t){var n=e.settingShareTyping,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.settingShareTyping=n.concat([a])):r>-1&&(e.settingShareTyping=n.slice(0,r).concat(n.slice(r+1)))}else e.settingShareTyping=s}}})])])])],1),n("tabbed-tab",{attrs:{header:e.$t("access")}},[n("a",{staticClass:"u-link kiwi-sidebar-accesstab",class:{"kiwi-sidebar-accesstab--active":"banlist"===e.accessTab},on:{click:function(t){e.accessTab="banlist"}}},[e._v(" "+e._s(e.$t("banned"))+" ")]),n("a",{staticClass:"u-link kiwi-sidebar-accesstab",class:{"kiwi-sidebar-accesstab--active":"invitelist"===e.accessTab},on:{click:function(t){e.accessTab="invitelist"}}},[e._v(" "+e._s(e.$t("invited"))+" ")]),"banlist"===e.accessTab?n("channel-banlist",{attrs:{buffer:e.buffer}}):e._e(),"invitelist"===e.accessTab?n("channel-invitelist",{attrs:{buffer:e.buffer}}):e._e()],1),n("tabbed-tab",{attrs:{header:e.$t("notifications")}},[n("buffer-settings",{attrs:{buffer:e.buffer}})],1),e._l(e.pluginUiElements,(function(t){return n("tabbed-tab",{key:t.id,attrs:{header:t.title}},[n(t.component,e._b({tag:"div"},"div",t.props,!1))],1)}))],2)],1):"user"===e.section?n("div",{staticClass:"kiwi-sidebar-userbox",on:{click:function(e){e.stopPropagation()}}},[n("user-box",{attrs:{user:e.sidebarState.sidebarUser,buffer:e.buffer,network:e.network}})],1):"nicklist"===e.section?n("nicklist",{attrs:{network:e.network,buffer:e.buffer,"sidebar-state":e.sidebarState}}):"about"===e.section?n("sidebar-about-buffer",{attrs:{network:e.network,buffer:e.buffer,"sidebar-state":e.sidebarState}}):e._e()]:e.buffer.isQuery()?["user"===e.section?n("div",{staticClass:"kiwi-sidebar-userbox",on:{click:function(e){e.stopPropagation()}}},[n("user-box",{attrs:{user:e.sidebarState.sidebarUser,buffer:e.buffer,network:e.network}})],1):e._e()]:e._e()]:[e._v(" "+e._s(e.$t("side_buffer"))+" ")]],2)},s=[]},8618:function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("44a4")),o=s(n("4573")),c=i(n("5a16")),u=s(n("462f")),l={components:{AwayStatusIndicator:u.default},props:{network:Object},data:function(){return{new_nick:"",error_message:"",self_user_settings_open:!1}},computed:{modeString:function(){var e,t="";return(0,o.default)(e=this.network.ircClient.user.modes).call(e,(function(e){t+=e})),t&&(t="+"+t),t},netUser:function(){return this.network.ircClient.user},awayStatus:{get:function(){return this.network.currentUser().away},set:function(e){this.network.ircClient.raw("AWAY",e?"Currently away":"")}}},created:function(){var e=this;this.listen(this.network.ircClient,"nick in use",(function(t){e.error_message=c.t("error_nick_in_use",{nick:t.nick})}))},methods:{openSelfActions:function(){this.self_user_settings_open=!0},closeSelfUser:function(){this.$emit("close")},onNewNickSubmit:function(e){this.new_nick=e,this.changeNick()},changeNick:function(){var e,t=(0,r.default)(e=this.new_nick).call(e);0!==t.length?t.match(/(^[0-9])|(\s)/)?this.error_message=c.t("error_no_number"):(this.error_message="",this.network.ircClient.changeNick(t),this.userNameCancel()):this.error_message=c.t("error_empty_nick")},userNameCancel:function(){this.self_user_settings_open=!1},networkSupportsAway:function(){return this.network.ircClient.network.cap.isEnabled("away-notify")},checkUserAway:function(){return!!this.network.currentUser().away},getUserFromString:function(e){return this.$state.getUser(this.network.id,e)}}};t.default=l,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["SelfUser"],window._kiwi_exports.components.SelfUser=t.default?t.default:t},"862b":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.extractBuffers=g,t.extractURL=k,t.stripStyles=b,t.mentionsNick=y,t.queryStringVal=C,t.networkErrorMessage=x,t.connectionInfoFromConfig=$,t.matchUri=S,t.parseIrcUri=N,t.dedotObject=A,t.replaceObjectProps=M,t.dateIso=T,t.parseIntZero=B;var a=i(n("800f")),r=i(n("fa81")),o=i(n("bf2d")),c=i(n("9474")),u=i(n("14b1")),l=i(n("acf5")),f=i(n("a3e3")),d=i(n("44a4")),p=i(n("4573")),h=i(n("65b8")),w=i(n("2ef0")),m=i(n("e9c4")),v=n("5a16"),_=m.default.timezone("+0");function g(e){var t=(0,h.default)(e).call(e," ");-1===t&&(t=e.length);var n=e.substr(0,t).split(","),i=e.substr(t+1).split(","),s=[];return(0,p.default)(n).call(n,(function(e,t){(0,d.default)(e).call(e)&&s.push({name:e,key:i[t]||""})})),s}function k(e){var t=e.match(v.urlRegex);return t?t[0]:""}function b(e){return e.replace(/(\x03[0-9]{0,2})?([\x02\x16\x1d\x1f]+)?/g,"")}function y(e,t){var n,i,s;if(-1===(0,h.default)(n=e.toLowerCase()).call(n,t.toLowerCase()))return!1;var a="\\s,.!:;+()\\[\\]?\\/<>@-",r=w.default.escapeRegExp(t),o=b(e),c=new RegExp((0,f.default)(i=(0,f.default)(s="(^|[".concat(a,"])")).call(s,r,"([")).call(i,a,"]|$)"),"i");return c.test(o)}function C(e,t){var n=t||window.location.href,i=w.default.escapeRegExp(e),s=new RegExp("[?&]"+i+"(=([^&#]*)|&|#|$)"),a=s.exec(n);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}function x(e){var t={err_unknown_host:"Unknown domain name or host",err_forbidden:"Forbidden to connect",err_timeout:"Took too long to connect",err_refused:"The server refused the connection",err_tls:"Could not connect securely",err_proxy:"The Kiwi IRC server had an error"};return t[e]||"Unknown error"}function $(e){var t,n={tls:!1,port:0,hostname:"",direct:!1,direct_path:""},i=e.websocket?S(e.websocket):null;i?(n.direct=!0,n.tls=(0,h.default)(t=["wss","https","ircs"]).call(t,i.protocol)>-1,n.port=i.port,n.hostname=i.hostname,n.direct_path=i.path,i.search&&(n.direct_path+="?"+i.search)):(n.tls=e.tls,n.port=e.port,n.hostname=e.server,n.direct=!!e.direct,n.direct_path=e.direct_path||"");return n}function S(e){var t=/(?:([a-z]+):\/\/)?([a-z.0-9-]+)(?::(?:(\+)?([0-9]+)))?(?:\/([^?]*))?(?:\?(.*))?/,n=e.match(t);return n?{protocol:(n[1]||"").toLowerCase(),hostname:n[2]||"",port:B(n[4]||""),path:"/"+(n[5]||""),search:n[6]||""}:null}function N(e){var t,n=/(?:(ircs?):\/\/)?([a-z.0-9-]+)(?::(?:(\+)?([0-9]+)))?(?:\/([^?]*))?(?:\?(.*))?/,i=[];return(0,p.default)(t=e.split(";")).call(t,(function(e){var t,s;if(e){var a=e.match(n);if(a){var r="ircs"===a[1]||!!a[3],o=(0,l.default)(null);(0,p.default)(t=(a[6]||"").split("&")).call(t,(function(e){var t=e.split("=");2===t.length&&(o[t[0].toLowerCase()]=t[1])}));var f=a[5]||o.channel||"";f=(0,u.default)(s=(0,w.default)(f.split(",")).compact()).call(s,(function(e){var t="#"===e[0]||"&"===e[0],n=t?e:"#"+e;return n})),i.push({tls:r,server:a[2],port:(0,c.default)(a[4]||(r?6697:6667),10),channels:f,nick:o.nick||"",encoding:o.encoding||"utf8",params:o})}}})),i}function A(e,t){var n=t||[],i=/\w\.\w/;w.default.each(e,(function(t,s){var a=(0,f.default)(n).call(n,[s]);"object"!==(0,o.default)(t)?i.test(s)&&(delete e[s],w.default.set(e,a.join("."),t)):A(e[s],a)}))}function M(e,t){var n,i;(0,p.default)(n=(0,r.default)(e)).call(n,(function(t){return delete e[t]})),(0,p.default)(i=(0,r.default)(t)).call(i,(function(n){e[n]=t[n]}))}function T(e){var t=e||new Date;return _("%Y-%m-%dT%H:%M:%S.%LZ",t)}function B(e){var t=(0,c.default)(e,10);return(0,a.default)(t)?0:t}window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["helpers"]||(window._kiwi_exports["helpers"]={}),window._kiwi_exports["helpers"]["Misc"],window._kiwi_exports.helpers.Misc=t.default?t.default:t},"86b8":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("a3e3")),r=i(n("4573")),o=i(n("acf5")),c=i(n("9f12")),u=i(n("53fe")),l=i(n("c9fc")),f=function(){function e(){(0,c.default)(this,e),(0,l.default)(this),this.providers=[]}return(0,u.default)(e,[{key:"addProvider",value:function(e){var t=this;this.providers.push(e),e.on("networks",(function(e){t.emit("networks",t.availableNetworks())}))}},{key:"availableNetworks",value:function(){var e,t=(0,o.default)(null);return(0,r.default)(e=this.providers).call(e,(function(e){var n,i=e.type;e.networks.length>0&&(t[i]=t[i]||[],t[i]=(0,a.default)(n=t[i]).call(n,e.networks))})),t}}]),e}();t.default=f,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["NetworkProvider"],window._kiwi_exports.libs.NetworkProvider=t.default?t.default:t},8753:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("5b1a")),r=i(n("c90a")),o=i(n("78b2")),c=i(n("9f12")),u=i(n("53fe")),l=i(n("9aa6")),f=i(n("c03e")),d=i(n("8b83")),p=i(n("c65a")),h=i(n("ba10"));function w(e){var t=m();return function(){var n,i=(0,p.default)(e);if(t){var s=(0,p.default)(this).constructor;n=(0,r.default)(i,arguments,s)}else n=i.apply(this,arguments);return(0,d.default)(this,n)}}function m(){if("undefined"===typeof Reflect||!r.default)return!1;if(r.default.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call((0,r.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var v=function(e){(0,f.default)(n,e);var t=w(n);function n(){var e,i;return(0,c.default)(this,n),i=t.call(this),i.bc=new BroadcastChannel("kiwi-ipc"),i.bc.onmessage=(0,o.default)(e=i.onmessage).call(e,(0,l.default)(i)),i}return(0,u.default)(n,[{key:"send",value:function(e){this.bc&&this.bc.postMessage(e)}},{key:"onmessage",value:function(e){this.emit("message",e)}}]),n}(h.default),_=function(e){(0,f.default)(n,e);var t=w(n);function n(){var e,i;return(0,c.default)(this,n),i=t.call(this),window.addEventListener("storage",(0,o.default)(e=i.onmessage).call(e,(0,l.default)(i))),i}return(0,u.default)(n,[{key:"send",value:function(e){localStorage.setItem("kiwi-ipc",(0,a.default)(e)),localStorage.removeItem("kiwi-ipc")}},{key:"onmessage",value:function(e){if("kiwi-ipc"===e.key&&e.newValue)try{var t={data:JSON.parse(e.newValue)};this.emit("message",t)}catch(n){this.emit("error")}}}]),n}(h.default),g=window.BroadcastChannel?new v:new _;t.default=g,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["IPC"],window._kiwi_exports.libs.IPC=t.default?t.default:t},8761:function(e,t,n){"use strict";var i=n("e4a8"),s=n.n(i);s.a},"87bc":function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("2b0b")),o=s(n("65b8")),c=s(n("e4f0")),u=s(n("4573")),l=s(n("b6ce")),f=s(n("2ef0")),d=i(n("862b")),p=i(n("8f39")),h=s(n("b4f0")),w=s(n("462f")),m={components:{BufferSettings:h.default,AwayStatusIndicator:w.default},props:["network","sidebarState"],data:function(){return{collapsed:!1,channel_filter:"",channel_filter_display:!1,channel_add_display:!1,channel_add_input_has_focus:!1,channel_add_input:""}},computed:{serverBuffer:function(){return this.network.serverBuffer()},isActiveNetwork:function(){return this.$state.getActiveNetwork()===this.network},totalNetworkCount:function(){return this.$state.networks.length},serverUnread:function(){var e;if(!this.collapsed)return(0,l.default)(this.serverBuffer).unread;var t=0;return(0,u.default)(e=this.network.buffers).call(e,(function(e){e.isSpecial()||(t+=(0,l.default)(e).unread)})),t},serverHighlight:function(){var e;if(!this.collapsed)return(0,l.default)(this.serverBuffer).highlight;var t=!1;return(0,u.default)(e=this.network.buffers).call(e,(function(e){e.isSpecial()||(0,l.default)(e).highlight&&(t=!0)})),t},filteredBuffers:function(){var e=this.channel_filter,t=[];return t=e?(0,c.default)(f.default).call(f.default,this.network.buffers,(function(t){var n=t.name.toLowerCase();return(0,o.default)(n).call(n,e)>-1})):this.network.buffers,p.orderBuffers(t)}},methods:{onNewChannelInputFocus:function(){this.channel_add_input||(this.channel_add_input="#"),this.channel_add_input_has_focus=!0},onNewChannelInputBlur:function(){"#"===this.channel_add_input&&(this.channel_add_input=""),this.channel_add_input||(this.channel_add_display=!1),this.channel_add_input_has_focus=!1},submitNewChannelForm:function(){var e=this,t=this.channel_add_input;this.channel_add_input="#";var n=this.network,i=d.extractBuffers(t),s=!1;(0,u.default)(i).call(i,(function(t){var i=t.name,a=["#0","0","&0"];if(!((0,o.default)(a).call(a,i)>-1||""===i.replace(/[#&]/g,""))){var r=e.$state.addBuffer(n.id,i);r&&!s&&(e.$state.setActiveBuffer(n.id,r.name),s=!0),t.key&&(r.key=t.key),n.isChannelName(i)&&n.ircClient.join(i,t.key)}}))},onChannelFilterInputBlur:function(){var e=this;(0,r.default)((function(){e.closeFilterChannel()}),200)},closeBuffer:function(e){this.$state.removeBuffer(e)},awayNotifySupported:function(){return this.network.ircClient.network.cap.isEnabled("away-notify")},showMessageCounts:function(e){return!e.setting("hide_message_counts")},setActiveBuffer:function(e){this.$state.$emit("active.component",null),this.$state.setActiveBuffer(e.networkid,e.name),this.$state.ui.is_narrow&&this.$state.$emit("statebrowser.hide")},isActiveBuffer:function(e){return e.networkid===this.$state.ui.active_network&&e.name===this.$state.ui.active_buffer},showNetworkSettings:function(e){e.showServerBuffer("settings")},showNetworkChannels:function(e){e.showServerBuffer("channels")},onSearchChannelClick:function(){this.network.buffers.length>1?this.toggleFilterChannel():this.network.showServerBuffer("channels")},toggleAddChannel:function(){this.channel_add_display=!this.channel_add_display,this.channel_filter_display=!1},toggleFilterChannel:function(){this.channel_filter_display=!this.channel_filter_display,this.channel_add_display=!1},closeFilterChannel:function(){this.channel_filter="",this.channel_filter_display=!1}}};t.default=m,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["StateBrowserNetwork"],window._kiwi_exports.components.StateBrowserNetwork=t.default?t.default:t},"88b1":function(e,t,n){"use strict";var i=n("3901"),s=n.n(i);s.a},"89ce":function(e,t,n){"use strict";var i=n("2d80");i(t,"__esModule",{value:!0}),t.default=void 0;var s={components:{},props:["buffer","message"],data:function(){return{requestingInput:!1}},computed:{},methods:{urlPreview:function(e){this.$state.$emit("mediaviewer.show",e)},areWeAnOp:function(){var e=this.buffer.getNetwork().nick;return this.buffer.isUserAnOp(e)},isSelf:function(){var e=this.$state.getUser(this.buffer.getNetwork().id,this.message.nick);return this.buffer.getNetwork().ircClient.user.nick===e.nick},onBan:function(e){var t=this.buffer.getNetwork();t.ircClient.mode(this.buffer.name,"+b",this.message.nick)},onKick:function(e){var t=this.buffer.getNetwork(),n=this.$state.setting("buffers.default_kick_reason"),i=e||n;t.ircClient.raw("KICK",this.buffer.name,this.message.nick,i)},openQuery:function(){var e=this.buffer.getNetwork(),t=this.$state.addBuffer(e.id,this.message.nick);this.$state.setActiveBuffer(e.id,t.name)}}};t.default=s,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["MessageInfo"],window._kiwi_exports.components.MessageInfo=t.default?t.default:t},"89d7":function(e,t,n){"use strict";n.r(t);var i=n("5820"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"8ac0":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-container",class:{"kiwi-container--sidebar-drawn":e.sidebarState.isDrawn,"kiwi-container--sidebar-open":e.sidebarState.isOpen,"kiwi-container--no-sidebar":e.buffer&&e.buffer.isSpecial}},[e.buffer?[n("div",{staticClass:"kiwi-container-toggledraw-statebrowser",on:{click:function(t){return t.stopPropagation(),e.toggleStateBrowser(t)}}},[n("div",{staticClass:"kiwi-container-toggledraw-statebrowser-messagecount",class:[e.unreadMessages.highlight?"kiwi-container-toggledraw-statebrowser-messagecount--highlight":""]},[n("span",{staticClass:"kiwi-container-statebrowser-messagecount-alert"},[e._v(" "+e._s(e.unreadMessages.count>999?"999+":e.unreadMessages.count)+" ")]),e._m(0)])]),n("container-header",{attrs:{buffer:e.buffer,"sidebar-state":e.sidebarState}}),e._t("before"),"connected"===e.buffer.getNetwork().state||e.buffer.isServer()?e._e():n("not-connected",{attrs:{buffer:e.buffer,network:e.buffer.getNetwork()}}),n("div",{staticClass:"kiwi-container-content"},[e.buffer.isServer()?[n("server-view",{attrs:{network:e.network}})]:[n("message-list",{attrs:{buffer:e.buffer}}),e.buffer.isSpecial()?e._e():n("sidebar",{attrs:{network:e.network,buffer:e.buffer,"sidebar-state":e.sidebarState}})],e._t("after")],2)]:[n("div",{staticClass:"kiwi-container-empty"},[n("h4",[e._v(e._s(e.$t("container_welcome")))]),n("a",{staticClass:"u-button",on:{click:function(t){return t.stopPropagation(),e.toggleStateBrowser(t)}}},[e._v(" "+e._s(e.$t("container_statebrowser"))+" ")])])]],2)},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"kiwi-container-statebrowser-messagecount-close"},[n("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])}]},"8bab":function(e,t,n){"use strict";n.r(t);var i=n("5426");for(var s in i)"default"!==s&&function(e){n.d(t,e,(function(){return i[e]}))}(s);var a,r,o=n("2877"),c=Object(o["a"])(i["default"],a,r,!1,null,null,null);t["default"]=c.exports},"8be5":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("4573")),r=n("5ee5");r.component("tabbed-tab",{props:{header:{status:String},focus:{status:Boolean},name:{status:String}},data:function(){return{active:!1}},template:'<div v-if="active" class="u-tabbed-content"><slot></slot></div>'});var o=r.component("tabbed-view",{data:function(){return{a:1,prefixID:Math.floor(1e5*Math.random()).toString(36)}},computed:{tabs:function(){return this.$children}},mounted:function(){this.setActiveCheck()},methods:{getActive:function(){var e,t=null;return(0,a.default)(e=this.$children).call(e,(function(e){e.active&&(t=e)})),t},setActive:function(e){var t;(0,a.default)(t=this.$children).call(t,(function(t){t!==e&&(t.active=!1)})),e.active=!0,this.a++,this.$emit("changed",e.name)},setActiveByName:function(e){var t,n=this;(0,a.default)(t=this.$children).call(t,(function(t){t.name===e&&n.setActive(t)}))},setActiveCheck:function(){var e,t=this;(0,a.default)(e=this.$children).call(e,(function(e){e.focus&&t.setActive(e)}))}}});t.default=o,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["utils"]||(window._kiwi_exports["components"]["utils"]={}),window._kiwi_exports["components"]["utils"]["TabbedView"],window._kiwi_exports.components.utils.TabbedView=t.default?t.default:t},"8bfd":function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("9474")),o=i(n("19b1")),c={props:["ircinput"],data:function(){return{}},methods:{onColourClick:function(e){var t=window.getComputedStyle(e.target,null).getPropertyValue("background-color"),n=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);if(n){var i={r:(0,r.default)(n[1],10),g:(0,r.default)(n[2],10),b:(0,r.default)(n[3],10)};t=o.rgb2hex(i)}var s=e.target.dataset.code;this.ircinput.setColour(s,t)},onResetClick:function(){this.ircinput.resetStyles()}}};t.default=c,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["inputtools"]||(window._kiwi_exports["components"]["inputtools"]={}),window._kiwi_exports["components"]["inputtools"]["TextStyle"],window._kiwi_exports.components.inputtools.TextStyle=t.default?t.default:t},"8c1f":function(e,t,n){"use strict";n.r(t);var i=n("34cd"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"8ce2":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showCaptcha?n("div",{ref:"captchacontainer"}):e._e()])},s=[]},"8e04":function(e,t,n){"use strict";n.r(t);var i=n("e110"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"8e26":function(e,t,n){"use strict";n.r(t);var i=n("53e5"),s=n("dbd7");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("58de");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},"8f39":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.orderBuffers=p,t.orderedMessages=h,t.getNextBuffer=w,t.getPreviousBuffer=m;var a=i(n("4c43")),r=i(n("df10")),o=i(n("52da")),c=i(n("82ec")),u=i(n("e4f0")),l=i(n("14b1")),f=i(n("2ef0")),d=i(n("f72e"));function p(e){var t=(0,l.default)(e).call(e,(function(e){return e}));return t=(0,u.default)(f.default).call(f.default,t,(function(e){return!e.isServer()})),t=(0,c.default)(t).call(t,(function(e,t){var n=0;return n=e.isChannel()&&t.isQuery()?-1:e.isQuery()&&t.isChannel()?1:e.name.localeCompare(t.name),n})),t}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getNetwork(),i=n.nick,s=e.getMessages(),a=(e.message_count,[]);if(a=t.inPlace?s:(0,o.default)(s).call(s,0,s.length),(0,c.default)(a).call(a,(function(e,t){return e.time>t.time?1:t.time>e.time?-1:e.instance_num>t.instance_num?1:-1})),t.noFilter)return a;for(var u=[],l=e.setting("show_joinparts"),f=e.setting("show_topics"),d=e.setting("show_nick_changes"),p=e.setting("show_mode_changes"),h=a.length-1;h>=0;h--)(l||"traffic"!==a[h].type)&&(f||"topic"!==a[h].type)&&(d||"nick"!==a[h].type)&&(p||"mode"!==a[h].type)&&(a[h].ignore||"connection"===a[h].type&&0===h||("topic"===a[h].type&&a[h-1]&&"traffic"===a[h-1].type&&a[h-1].nick===i?(u.push(a[h-1]),u.push(a[h]),h--):u.push(a[h])));return(0,r.default)(u).call(u)}function w(){return v(1)}function m(){return v(-1)}function v(e){var t=(0,d.default)(),n=t.getActiveNetwork(),i=t.getActiveBuffer();if(!n||!i)return null;var s=p(n.buffers),r=(0,a.default)(f.default).call(f.default,s,["name",i.name])+e;return r>=s.length||r<0?(n=_(e),s=p(n.buffers),i=1===e?s[0]:s[s.length-1]):i=s[r],i}function _(e){for(var t=(0,d.default)(),n=t.getActiveNetwork(),i=0;i<t.networks.length;i++){var s=(0,a.default)(f.default).call(f.default,t.networks,["id",n.id])+e;if(n=s>=t.networks.length&&t.networks.length>=0?t.networks[0]:s<0?t.networks[t.networks.length-1]:t.networks[s],n.buffers.length>1)return n}return n}window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["bufferTools"],window._kiwi_exports.libs.bufferTools=t.default?t.default:t},"8ffb":function(e,t,n){"use strict";n.r(t);var i=n("3a94"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"8fff":function(e,t,n){},"91b5":function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("a3e3")),o=s(n("493c")),c=s(n("4573")),u=s(n("14b1")),l=s(n("fc56")),f=s(n("82ec")),d=s(n("65b8")),p=s(n("e4f0")),h=s(n("2ef0")),w=i(n("7277"));function m(e,t){var n=e.invited.toUpperCase(),i=t.invited.toUpperCase();return n<i?-1:n>i?1:0}var v={props:["buffer"],data:function(){return{inviteList:[],is_refreshing:!1}},computed:{supportsAccounts:function(){return!!this.extban},extban:function(){return w.extbanAccount(this.buffer.getNetwork())},inviteListAccounts:function(){var e,t=this,n=(0,p.default)(e=this.inviteList).call(e,(function(e){var n;return 0===(0,d.default)(n=e.invited).call(n,t.extban)}));return(0,f.default)(n).call(n,m),n},inviteListNonAccounts:function(){var e,t=this,n=[];this.supportsAccounts?n=(0,p.default)(e=this.inviteList).call(e,(function(e){var n;return 0!==(0,d.default)(n=e.invited).call(n,t.extban)})):n=this.inviteList;return(0,f.default)(n).call(n,m),n},channelIsInviteOnly:function(){return"undefined"!==typeof this.buffer.modes.i},anyRegisteredUserCanJoin:function(){var e;if(!this.supportsAccounts)return!1;if(!this.channelIsInviteOnly)return!1;var t=this.extban;return!!(0,l.default)(e=this.inviteListAccounts).call(e,(function(e){return e.invited===t+":"}))},areWeAnOp:function(){return this.buffer.isUserAnOp(this.buffer.getNetwork().nick)},knownAccounts:function(){var e,t,n=this.buffer.getNetwork().users,i=this.extban,s=(0,u.default)(e=this.inviteListAccounts).call(e,(function(e){var t=e.invited;return t.replace(i+":","")})),a=[];return(0,c.default)(t=(0,o.default)(n)).call(t,(function(e){e.account&&-1===(0,d.default)(s).call(s,e.account)&&a.push(e)})),h.default.orderBy(a,["account","nick"])}},created:function(){this.updateInvitelist()},methods:{displayMask:function(e){var t=e.invited.replace(this.extban+":","");return t=t||this.$t("invite_any_registered"),t},updateInvitelist:function(){var e=this;if("connected"===this.buffer.getNetwork().state&&!this.is_refreshing){var t=this.buffer.name;this.is_refreshing=!0,this.buffer.getNetwork().ircClient.inviteList(t,(function(t){e.inviteList=t?t.invites:[],e.is_refreshing=!1}))}},removeInvite:function(e){var t,n=this.buffer.name;this.buffer.getNetwork().ircClient.removeInvite(n,e),this.inviteList=(0,p.default)(t=this.inviteList).call(t,(function(t){return t.invited!==e}))},addAccountInvite:function(e){var t;if(e){var n=this.buffer.getNetwork();n.ircClient.addInvite(this.buffer.name,(0,r.default)(t="".concat(this.extban,":")).call(t,e)),this.updateInvitelist()}},addInvite:function(e){var t=this.buffer.getNetwork();t.ircClient.addInvite(this.buffer.name,e),this.updateInvitelist()},setInviteOnly:function(){this.buffer.getNetwork().ircClient.mode(this.buffer.name,"+i")},removeInviteOnly:function(){this.buffer.getNetwork().ircClient.mode(this.buffer.name,"-i")}}};t.default=v},9208:function(e,t,n){"use strict";n.r(t);var i=n("d0fe"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},9280:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("startup-layout",{ref:"layout",staticClass:"kiwi-startbnc",scopedSlots:e._u([{key:"connection",fn:function(){return[n("form",{staticClass:"kiwi-startbnc-form",on:{submit:function(t){return t.preventDefault(),e.startUp(t)}}},[n("h2",{domProps:{innerHTML:e._s(e.greetingText)}}),n("div",{staticClass:"kiwi-startbnc-status"},[e._v(e._s(e.statusMessage))]),n("label",[n("span",[e._v(e._s(e.$t("username")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{disabled:e.loading,type:"text"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),n("label",[n("span",[e._v(e._s(e.$t("password")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{disabled:e.loading,type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),n("button",{staticClass:"u-button u-button-primary u-submit",attrs:{disabled:e.loading||!e.username||!e.password,type:"submit"}},[e.loading?n("i",{staticClass:"fa fa-spinner fa-spin",attrs:{"aria-hidden":"true"}}):n("span",{domProps:{innerHTML:e._s(e.buttonText)}})])])]},proxy:!0}])})},s=[]},"92f5":function(e,t,n){},9332:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("a3e3")),r=i(n("fa81")),o=i(n("4573")),c=i(n("298b")),u=n("2ef0"),l=i(n("f72e")),f=d;function d(e,t){var n=(0,l.default)(),i=n.setting("emojiLocation"),s="undefined"===typeof t?n.setting("buffers.show_emoticons"):!!t,a=(0,c.default)(e).call(e,(function(t,a,c){var l,f,d="",_="";switch((0,o.default)(l=(0,r.default)(a.styles)).call(l,(function(e){"underline"===e?d+="text-decoration:underline;":"bold"===e?d+="font-weight:bold;":"italic"===e?d+="font-style:italic;":"quote"===e?_+="kiwi-formatting-extras-quote ":"block"===e?_+="kiwi-formatting-extras-block ":"color"===e?_+="irc-fg-colour-".concat(a.styles[e]," "):"background"===e&&(_+="irc-bg-colour-".concat(a.styles[e]," "))})),a.type){case"url":f=p(a,{addHandle:n.setting("buffers.show_link_previews"),handleClass:"fa fa-share-square u-link kiwi-messagelist-message-linkhandle"});break;case"user":f=h(a);break;case"channel":f=w(a);break;case"emoji":f=m(a,1===e.length,i,s);break;default:f=(0,u.escape)(a.content)}return t+v(f,_,d)}),"");return"".concat(a)}function p(e,t){var n,i=t||{},s="";s=e.content.length>100?(0,u.escape)(e.content.substr(0,100))+"...":(0,u.escape)(e.content);var r=e.meta.url.replace(/"/g,"%22"),o=(0,a.default)(n='<a target="_blank" href="'.concat(r,'" rel="noopener noreferrer">')).call(n,s,"</a>");if(i.addHandle){var c,l,f=i.handleClass||"",d=i.handleContent||"";o+=(0,a.default)(c=(0,a.default)(l='<a data-url="'.concat((0,u.escape)(e.meta.url),'" class="')).call(l,f,'">')).call(c,d,"</a>")}return o}function h(e){var t=(0,u.escape)(e.meta.user),n=e.meta.colour;return'<a class="kiwi-nick" data-nick="'.concat(t,'"')+(n?' style="color:'.concat(n,'"'):"")+">".concat(t,"</a>")}function w(e){var t;return(0,a.default)(t='<a class="u-link kiwi-channel" data-channel-name="'.concat((0,u.escape)(e.meta.channel),'">')).call(t,(0,u.escape)(e.content),"</a>")}function m(e,t,n,i){var s,r,o,c;if(!i)return e.content;var l=e.meta.emoji,f="kiwi-messagelist-emoji"+(t?" kiwi-messagelist-emoji--single":""),d=(0,a.default)(s="".concat(n)).call(s,l,".png");return(0,a.default)(r=(0,a.default)(o=(0,a.default)(c='<img class="'.concat(f,'" src="')).call(c,d,'" alt="')).call(o,(0,u.escape)(e.content),'" title="')).call(r,(0,u.escape)(e.content),'" />')}function v(e,t,n){return""===n&&""===t?e:"<span"+(""!==n?' style="'.concat(n,'"'):"")+(""!==t?' class="'.concat(t,'"'):"")+">".concat(e,"</span>")}t.default=f,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["renderers"]||(window._kiwi_exports["libs"]["renderers"]={}),window._kiwi_exports["libs"]["renderers"]["Html"],window._kiwi_exports.libs.renderers.Html=t.default?t.default:t},"934b":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.buildTree=f;var a=i(n("bf2d")),r=i(n("65b8")),o=i(n("a3e3")),c=i(n("fa81")),u=i(n("4573")),l=["emojis","themes","bnc","aliases","restricted","kiwiServer","hide_advanced","windowTitle","startupOptions","plugins","presetNetworks","ircFramework"];function f(e,t,n,i){var s;(0,u.default)(s=(0,c.default)(n)).call(s,(function(s){var c,u=n[s],d=(0,o.default)(t).call(t,[s]);if(-1!==(0,r.default)(c=["string","boolean","number"]).call(c,(0,a.default)(u))){if(-1!==(0,r.default)(l).call(l,s)||-1!==(d[0]&&(0,r.default)(l).call(l,d[0])))return;e[d.join(".")]&&e[d.join(".")].val===u||(e[d.join(".")]={key:d.join("."),val:u,type:(0,a.default)(u),modified:i})}else"object"===(0,a.default)(u)&&null!==u&&f(e,d,u,i)}))}window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["settingTools"],window._kiwi_exports.libs.settingTools=t.default?t.default:t},9465:function(e,t,n){"use strict";n.r(t);var i=n("7b18"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},"960a":function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("2b0b")),r=i(n("e7f8")),o={components:{Captcha:r.default},props:["buffer","network"],data:function(){return{forceLoader:!1}},computed:{netStatus:function(){return this.buffer.getNetwork().state},shouldShowLoading:function(){return this.maybeForceLoader(),!("disconnected"===this.network.state&&!this.forceLoader)},restrictedServer:function(){return this.$state.setting("restricted")},readyToStart:function(){return!0}},methods:{maybeForceLoader:function(){var e=this,t=2e3,n=this.network.state;"disconnected"===n||this.forceLoader||(this.forceLoader=!0,(0,a.default)((function(){e.forceLoader=!1}),t))},isChannel:function(){return this.buffer.isChannel()},isServer:function(){return this.buffer.isServer()},isQuery:function(){return this.buffer.isQuery()},reconnect:function(){this.readyToStart&&(this.buffer.isChannel()&&(this.buffer.enabled=!0),this.buffer.getNetwork().ircClient.connect())},showNetworkSettings:function(){var e=this.buffer.getNetwork();e.showServerBuffer("settings")}}};t.default=o,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["NotConnected"],window._kiwi_exports.components.NotConnected=t.default?t.default:t},9656:function(e,t,n){},"96a1":function(e,t,n){"use strict";n.r(t);var i=n("ea3f"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},9729:function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("9474")),o=s(n("14b1")),c=s(n("65b8")),u=s(n("fa81")),l=s(n("4573")),f=i(n("934b")),d=s(n("2ef0")),p={data:function(){return{filterString:""}},computed:{filteredSettings:function(){var e,t=this.settings,n=this.filterString.toLowerCase(),i=[];return(0,l.default)(e=(0,u.default)(t)).call(e,(function(e){var s,a=t[e];-1!==(0,c.default)(s=a.key.toLowerCase()).call(s,n)&&i.push(a)})),i},settings:function(){var e,t={},n=[];return f.buildTree(t,n,this.$state.getSetting("settings"),!1),f.buildTree(t,n,this.$state.getSetting("user_settings"),!0),d.default.orderBy((0,o.default)(e=(0,u.default)(t)).call(e,(function(e){return t[e]})),[function(e){return e.key.split(".").length-1},"key"],["asc"])}},methods:{resetValue:function(e,t){var n=this.$state.getSetting("settings."+t);n||(n=null),this.$state.setting(t,n)},updateSetting:function(e,t){var n=e.target,i="checkbox"===n.type?n.checked:n.value;switch(n.type){case"checkbox":i=n.checked;break;case"number":i=(0,r.default)(n.value,10);break;default:i=n.value;break}this.$state.setting(t)!==i&&this.$state.setting(t,i)}}};t.default=p,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["SettingsAdvanced"],window._kiwi_exports.components.SettingsAdvanced=t.default?t.default:t},9736:function(e,t,n){},9767:function(e,t,n){"use strict";var i=n("2d80");i(t,"__esModule",{value:!0}),t.default=void 0;var s={props:{},status:function(e){return e.user&&e.buffer?e.user.typingStatus(e.buffer.name).status:""}},a={props:{user:Object,buffer:Object},m:s};t.default=a,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["TypingStatusIndicator"],window._kiwi_exports.components.TypingStatusIndicator=t.default?t.default:t},"97cb":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-aboutbuffer"},[n("h3",[e._v(e._s(e.b.name))]),n("div",{staticClass:"kiwi-aboutbuffer-section",class:{"kiwi-aboutbuffer-section--closed":e.closedSections.about}},[n("h4",{on:{click:function(t){return e.toggleSection("about")}}},[n("i",{staticClass:"fa fa-angle-right"}),e._v(" "+e._s(e.$t("about"))+" ")]),n("div",[e.b.topic?n("p",{domProps:{innerHTML:e._s(e.formattedTopic)}}):n("p",[e._v(e._s(e.$t("no_topic_set")))]),e.b.created_at?n("p",[e._v(" "+e._s(e.$t("created_at",{when:(new Intl.DateTimeFormat).format(e.b.created_at)}))+" ")]):e._e(),n("p",{staticClass:"kiwi-aboutbuffer-usercount"},[n("a",{staticClass:"u-link ",on:{click:function(t){return e.sidebarState.showNicklist()}}},[e._v(" "+e._s(e.$t("person",{count:Object.keys(e.b.users||{}).length}))+" ")])])])]),n("div",{staticClass:"kiwi-aboutbuffer-section",class:{"kiwi-aboutbuffer-section--closed":e.closedSections.highlights}},[n("h4",{on:{click:function(t){return e.toggleSection("highlights")}}},[n("i",{staticClass:"fa fa-angle-right"}),e._v(" "+e._s(e.$t("highlights"))+" ")]),n("div",[e.highlights.length>0?n("ul",e._l(e.highlights,(function(t){return n("li",{key:t.id,staticClass:"kiwi-aboutbuffer-highlight",on:{click:function(n){return e.buffer.scrollToMessage(t.id)}}},[e._v(" "+e._s(t.nick?t.nick+": ":"")),n("span",{domProps:{innerHTML:e._s(t.html)}})])})),0):n("p",[e._v(e._s(e.$t("nobody_mentioned_you")))])])]),e._l(e.pluginUiSections,(function(t){return n("div",{key:t.id,staticClass:"kiwi-aboutbuffer-section",class:{"kiwi-aboutbuffer-section--closed":e.closedSections[t.id]}},[n("h4",{on:{click:function(n){return e.toggleSection(t.id)}}},[n("i",{staticClass:"fa fa-angle-right"}),e._v(" "+e._s(t.args.title)+" ")]),n("div",{directives:[{name:"rawElement",rawName:"v-rawElement",value:t.el,expression:"plugin.el"}]})])}))],2)},s=[]},"98fc":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"u-tabbed-view"},[n("div",{key:e.prefixID+e.a,staticClass:"u-tabbed-view-tabs"},e._l(e.tabs,(function(t){return n("a",{key:t.name||t.header,class:{"u-tabbed-view-tab":!0,"u-tabbed-view-tab--active":t.active},on:{click:function(n){return e.setActive(t)}}},[e._v(e._s(t.header))])})),0),e._t("default")],2)},s=[]},9965:function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=f;var r=s(n("bf2d")),o=s(n("3818")),c=s(n("4573")),u=s(n("acf5")),l=i(n("862b"));function f(){return function(t,n,i){t.requestCap("draft/chathistory"),d(t),i.use(e)};function e(e,t,n,i){if("batch end chathistory"===e.toLowerCase()&&n.chathistory){var s=t.params[0];n.chathistory.batchCallbacks.resolve(s,t)}"fail"===e.toLowerCase()&&"chathistory"===t.params[0].toLowerCase()&&"message_error"===t.params[1].toLowerCase()&&n.chathistory.batchCallbacks.resolve(t.params[3]),i()}}function d(e){var t=e.chathistory={};function n(e){return"object"===(0,r.default)(e)?"timestamp="+l.dateIso(e):"*"===e?"*":"msgid="+e}t.batchCallbacks={callbacks:(0,u.default)(null),add:function(e,t){this.callbacks[e.toLowerCase()]=this.callbacks[e.toLowerCase()]||[],this.callbacks[e.toLowerCase()].push(t)},resolve:function(e,t){var n=this.callbacks[e.toLowerCase()]||[];delete this.callbacks[e.toLowerCase()],(0,c.default)(n).call(n,(function(e){return e(t)}))},targetCallbacks:function(e){return this.callbacks[e.toLowerCase()]}},t.isSupported=function(){return!!e.network.supports("draft/chathistory")},t.before=function(i,s){return new o.default((function(a){t.isSupported()?(e.raw("CHATHISTORY","BEFORE",i,n(s),"50"),t.batchCallbacks.add(i,a)):a()}))},t.after=function(i,s){return new o.default((function(a){t.isSupported()?(e.raw("CHATHISTORY","AFTER",i,n(s),"50"),t.batchCallbacks.add(i,a)):a()}))},t.latest=function(i,s){return new o.default((function(a){t.isSupported()?(e.raw("CHATHISTORY","LATEST",i,n(s),"50"),t.batchCallbacks.add(i,a)):a()}))},t.around=function(i,s){return new o.default((function(a){t.isSupported()?(e.raw("CHATHISTORY","AROUND",i,n(s),"50"),t.batchCallbacks.add(i,a)):a()}))},t.between=function(i,s,a){return new o.default((function(r){if(t.isSupported()){var o=n(s),c=n(a);e.raw("CHATHISTORY","BETWEEN",i,o,c,50),t.batchCallbacks.add(i,r)}else r()}))}}window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["ChathistoryMiddleware"],window._kiwi_exports.libs.ChathistoryMiddleware=t.default?t.default:t},"9a7c":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-networksettings"},[n("form",{staticClass:"u-form",on:{submit:function(t){return t.preventDefault(),e.connect(t)}}},[n("div",{staticClass:"kiwi-title"},[e._v(e._s(e.$t("settings_server_details")))]),n("div",{staticClass:"kiwi-networksettings-section-block"},[e.network.state_error?n("div",{staticClass:"kiwi-networksettings-error"},[e._v(" "+e._s(e.$t("network_noconnect"))+" "),n("span",[e._v(e._s(e.readableStateError(e.network.state_error)))])]):e.network.last_error?n("div",{staticClass:"kiwi-networksettings-error"},[n("span",[e._v(e._s(e.network.last_error))])]):e._e(),n("captcha",{staticClass:"kiwi-networksettings-captcha",attrs:{network:e.network}}),e.network.editable_name?n("div",{staticClass:"kiwi-networksettings-networkname"},[n("input-text",{attrs:{label:e.$t("network_name")},model:{value:e.network.name,callback:function(t){e.$set(e.network,"name",t)},expression:"network.name"}})],1):e._e(),n("server-selector",{attrs:{connection:e.network.connection,"network-list":e.network_list}}),n("div",{staticClass:"kiwi-networksettings-connection-password"},["network"===e.server_type?[n("input-text",{attrs:{label:e.$t("settings_nickname")},model:{value:e.network.connection.nick,callback:function(t){e.$set(e.network.connection,"nick",t)},expression:"network.connection.nick"}}),n("input-text",{attrs:{"show-plain-text":!0,label:e.$t("password"),type:"password"},model:{value:e.network.password,callback:function(t){e.$set(e.network,"password",t)},expression:"network.password"}})]:[n("input-text",{attrs:{label:e.$t("username")},model:{value:e.znc_username,callback:function(t){e.znc_username=t},expression:"znc_username"}}),n("input-text",{attrs:{label:e.$t("network")},model:{value:e.znc_network,callback:function(t){e.znc_network=t},expression:"znc_network"}}),n("input-text",{attrs:{label:e.$t("password"),type:"password"},model:{value:e.znc_password,callback:function(t){e.znc_password=t},expression:"znc_password"}})]],2),n("div",{staticClass:"kiwi-networksettings-server-types"},["znc"===e.server_type?n("div",{staticClass:"kiwi-networksettings-server-types-info"},[e._v(" "+e._s(e.$t("settings_znc_other"))+" ")]):e._e(),n("a",{staticClass:"u-link kiwi-network-type-button",class:{"kiwi-networksettings-server-type-active":"network"===e.server_type},on:{click:function(t){e.server_type="network"}}},[e._v(" "+e._s(e.$t("network"))+" ")]),n("a",{staticClass:"u-link kiwi-network-type-button",class:{"kiwi-networksettings-server-type-active":"znc"===e.server_type},on:{click:function(t){e.server_type="znc"}}},[e._v(" "+e._s(e.$t("znc"))+" ")])]),n("h4",{staticClass:"kiwi-show-advanced-title",on:{click:function(t){e.show_advanced=!e.show_advanced}}},[e._v(" "+e._s(e.$t("settings_advanced"))+" "),n("i",{staticClass:"fa",class:["fa-caret-"+(e.show_advanced?"up":"down")],attrs:{"aria-hidden":"true"}})]),e.show_advanced?n("div",{staticClass:"kiwi-networksettings-advanced"},[[n("input-text",{attrs:{label:e.$t("settings_encoding")},model:{value:e.network.connection.encoding,callback:function(t){e.$set(e.network.connection,"encoding",t)},expression:"network.connection.encoding"}}),n("input-text",{attrs:{"show-plain-text":!0,label:e.$t("server_password"),type:"password"},model:{value:e.network.connection.password,callback:function(t){e.$set(e.network.connection,"password",t)},expression:"network.connection.password"}}),n("input-text",{attrs:{label:e.$t("whois_realname")},model:{value:e.network.gecos,callback:function(t){e.$set(e.network,"gecos",t)},expression:"network.gecos"}}),n("label",[n("span",{staticClass:"kiwi-appsettings-showraw-label"},[e._v(" "+e._s(e.$t("settings_show_raw"))+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingShowRaw,expression:"settingShowRaw"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settingShowRaw)?e._i(e.settingShowRaw,null)>-1:e.settingShowRaw},on:{change:function(t){var n=e.settingShowRaw,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.settingShowRaw=n.concat([a])):r>-1&&(e.settingShowRaw=n.slice(0,r).concat(n.slice(r+1)))}else e.settingShowRaw=s}}})]),n("label",[n("span",{staticClass:"kiwi-appsettings-showraw-label"},[e._v(" "+e._s(e.$t("settings_use_websocket"))+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.network.connection.direct,expression:"network.connection.direct"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.network.connection.direct)?e._i(e.network.connection.direct,null)>-1:e.network.connection.direct},on:{change:function(t){var n=e.network.connection.direct,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&e.$set(e.network.connection,"direct",n.concat([a])):r>-1&&e.$set(e.network.connection,"direct",n.slice(0,r).concat(n.slice(r+1)))}else e.$set(e.network.connection,"direct",s)}}}),e.network.connection.direct?n("input-text",{model:{value:e.directWs,callback:function(t){e.directWs=t},expression:"directWs"}}):e._e()],1),n("label",{staticClass:"u-form-block"},[n("input-text",{attrs:{label:e.$t("settings_autorun"),type:"textarea"},model:{value:e.network.auto_commands,callback:function(t){e.$set(e.network,"auto_commands",t)},expression:"network.auto_commands"}})],1)]],2):e._e(),"disconnected"===e.network.state?n("button",{staticClass:"u-button kiwi-connect-to-newnetwork",on:{click:function(t){return e.connect()}}},[e._v(" "+e._s(e.$t("network_connect"))+" ")]):"connecting"===e.network.state?n("button",{staticClass:"u-button kiwi-connect-to-newnetwork",attrs:{disabled:""}},[e._v(" "+e._s(e.$t("connecting"))+" ")]):e._e()],1),n("div",{staticClass:"kiwi-dangerzone"},[n("h3",[e._v(e._s(e.$t("settings_danger")))]),n("a",{staticClass:"u-button u-button-warning",on:{click:e.removeNetwork}},[n("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("settings_remove"))+" ")])])])])},s=[]},"9aad":function(e,t,n){"use strict";n.r(t);var i=n("97cb"),s=n("8c1f");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("8761");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},"9c24":function(e,t,n){"use strict";n.r(t);var i=n("13d0"),s=n("3804");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("281c");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},"9f2a":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-selfuser kiwi-theme-bg"},[e.self_user_settings_open?n("div",{staticClass:"kiwi-selfuser-actions"},[n("form",{staticClass:"u-form",on:{submit:function(t){return t.preventDefault(),e.changeNick(t)},keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.self_user_settings_open=!1}}},[n("input-prompt",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{label:e.$t("enter_new_nick"),noprompt:!0,block:!0},on:{submit:e.onNewNickSubmit,cancel:function(t){e.self_user_settings_open=!1}}})],1),e.error_message?n("div",{staticClass:"kiwi-selfuser-error-message"},[e._v(e._s(e.error_message))]):e._e()]):n("div",{staticClass:"kiwi-selfuser-mask"},[n("span",{staticClass:"kiwi-selfuser-nick"},[n("away-status-indicator",{attrs:{network:e.network,user:e.network.currentUser()}}),e._v(" "+e._s(e.network.nick)+" "),n("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"},on:{click:function(t){return e.closeSelfUser()}}}),n("i",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"},on:{click:function(t){return e.openSelfActions()}}})],1),n("span",{staticClass:"kiwi-selfuser-host"},[e._v(" "+e._s(e.netUser.username)+"@"+e._s(e.netUser.host)+" ( "+e._s(e.modeString)+" ) ")]),e.networkSupportsAway()?n("div",{staticClass:"u-form kiwi-away-checkbox-form"},[n("label",{staticClass:"kiwi-selfuser-away-label"},[n("span",[e._v(e._s(e.$t("away")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.awayStatus,expression:"awayStatus"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.awayStatus)?e._i(e.awayStatus,null)>-1:e.awayStatus},on:{change:function(t){var n=e.awayStatus,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.awayStatus=n.concat([a])):r>-1&&(e.awayStatus=n.slice(0,r).concat(n.slice(r+1)))}else e.awayStatus=s}}})])]):e._e()])])},s=[]},a017:function(e,t,n){"use strict";var i=n("27d9"),s=n.n(i);s.a},a1a6:function(e,t,n){"use strict";n.r(t);var i=n("124c"),s=n("78e0");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("ad02");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},a2f1:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-personal"},[n("h1",[e._v(e._s(e.$t("personal_client")))]),e.server&&e.server.server&&!e.readyToShowOptions?n("div"):e.server&&e.server.server?n("div",[e.addedNetworkToExisting?n("div",[n("p",[e._v(" "+e._s(e.$t("personal_added_to_existing"))+" ")])]):n("div",[n("p",{domProps:{innerHTML:e._s(e.$t("personal_connect_to",{network:"<b>"+e.server.server+"</b>"}))}}),e.hasOtherTab?n("button",{staticClass:"u-button u-button-primary",on:{click:e.addNetworkToExistingTab}},[e._v(" "+e._s(e.$t("personal_add_existing_tab"))+" ")]):n("button",{staticClass:"u-button u-button-primary",on:{click:function(t){return e.addNetwork()}}},[e._v(" Add network to Kiwi ")]),n("br"),n("button",{staticClass:"u-button u-button-primary",on:{click:function(t){return e.addNetwork(!0)}}},[e._v(" "+e._s(e.$t("personal_connect_temporary"))+" ")]),e._v(" "),n("br")])]):n("div",[n("p",[e._v(e._s(e.$t("personal_addjoin")))]),n("p",[e._v(e._s(e.$t("personal_return")))]),n("button",{staticClass:"u-button u-button-primary",on:{click:e.addEmptyNetwork}},[e._v(" "+e._s(e.$t("personal_add"))+" ")]),e._v(" "),n("br"),e.networks.length>0?n("a",{staticClass:"u-link kiwi-personal-existing-networks",on:{click:function(t){return t.stopPropagation(),e.toggleStateBrowser(t)}}},[e._v(" "+e._s(e.$t("personal_saved"))+" ")]):e._e()])])},s=[]},a4a2:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("2b0b")),r=!1,o={props:["url","component","componentProps","isIframe","showPin"],data:function(){return{}},computed:{embedlyKey:function(){return this.$state.settings.embedly.key}},watch:{url:function(){this.updateEmbed()},isIframe:function(){this.updateEmbed()}},created:function(){this.updateEmbed()},mounted:function(){var e=this;this.$nextTick((function(){e.$state.$emit("mediaviewer.opened")}))},methods:{updateEmbed:function(){var e=this;if(this.url&&!this.isIframe&&!this.component){var t=function t(){"function"===typeof window.embedly?e.$nextTick((function(){window.embedly("card",e.$refs.embedlyLink)})):(0,a.default)(t,100)};if(!r){var n=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.src="//cdn.embedly.com/widgets/platform.js",n.appendChild(i),r=!0}t()}}}};t.default=o,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["MediaViewer"],window._kiwi_exports.components.MediaViewer=t.default?t.default:t},a667:function(e,t,n){"use strict";n.r(t);var i=n("18fc"),s=n("07be");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("364e");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},a88c:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("b6ce")),r={props:["buffer","network"],data:function(){return{}},methods:{joinChannel:function(){(0,a.default)(this.buffer).channel_badkey=!1,this.buffer.join()}}};t.default=r,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["BufferKey"],window._kiwi_exports.components.BufferKey=t.default?t.default:t},a8fe:function(e,t,n){"use strict";var i=n("fc9a"),s=n.n(i);s.a},a9c9:function(e,t,n){},abdc:function(e,t,n){"use strict";var i=n("5fce"),s=n.n(i);s.a},ac2f:function(e,t,n){"use strict";n.r(t);var i=n("c2ba"),s=n("f21d");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("a8fe");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},ac3b:function(e,t,n){},ad02:function(e,t,n){"use strict";var i=n("1639"),s=n.n(i);s.a},ad51:function(e,t,n){"use strict";(function(e){var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("82ec")),r=i(n("65b8")),o=i(n("4573")),c=i(n("acf5")),u=i(n("0470")),l=i(n("28c0")),f=u.default.namespace("Nicklist"),d=null;function p(e,t){return d?d.compare(e,t):e===t?0:e>t?1:-1}e.Intl&&(d=new Intl.Collator({},{numeric:!0}));var h={components:{NicklistUser:l.default},props:["network","buffer","sidebarState"],data:function(){return{userbox_user:null,user_filter:"",filter_visible:!1,self:this}},computed:{shouldShowAvatars:function(){return this.buffer.setting("nicklist_avatars")},sortedUsers:function(){var e=this,t=this.network.ircClient.network.options.PREFIX,n=(0,c.default)(null);(0,o.default)(t).call(t,(function(e,t){n[e.mode]=t}));var i=(0,c.default)(null),s=[],u=this.buffer.users,l=this.user_filter.toLowerCase();for(var d in u){var h=u[d];i[h.nick]=d,l&&-1===(0,r.default)(d).call(d,l)||s.push(h)}var w=this.buffer.id;return(0,a.default)(s).call(s,(function(t,s){var a=t.buffers[w],r=s.buffers[w];if(!a){var o="Nicklist.sortedUsers() User A does not have the buffer in its list!";return f.error(o,t.nick,t.buffers),-1}if(!r){var c="Nicklist.sortedUsers() User B does not have the buffer in its list!";return f.error(c,s.nick,s.buffers),1}var u=a.modes,l=r.modes;if(0===u.length&&0===l.length){if(e.$state.setting("nicklistGroupAway")){if(t.away&&!s.away)return 1;if(!t.away&&s.away)return-1}return p(i[t.nick],i[s.nick])}if(u.length>0&&0===l.length)return-1;if(0===u.length&&l.length>0)return 1;var d=n[e.buffer.userMode(t)],h=n[e.buffer.userMode(s)];if(d>h)return 1;if(d<h)return-1;if(e.$state.setting("nicklistGroupAway")){if(t.away&&!s.away)return 1;if(!t.away&&s.away)return-1}return p(i[t.nick],i[s.nick])}))},useColouredNicks:function(){return this.buffer.setting("coloured_nicklist")}},methods:{userModePrefix:function(e){return this.buffer.userModePrefix(e)},userMode:function(e){return this.buffer.userMode(e)},openQuery:function(e){var t=this.$state.addBuffer(this.buffer.networkid,e.nick);this.$state.setActiveBuffer(t.networkid,t.name),this.$state.ui.is_narrow&&this.sidebarState.close()},openUserbox:function(e){this.$state.$emit("userbox.show",e,{buffer:this.buffer})},toggleUserFilter:function(){var e=this;this.filter_visible=!this.filter_visible,this.filter_visible?this.$nextTick((function(){return e.$refs.user_filter.focus()})):this.user_filter=""},onFilterBlur:function(){this.user_filter||(this.filter_visible=!1)}}};t.default=h,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["Nicklist"],window._kiwi_exports.components.Nicklist=t.default?t.default:t}).call(this,n("c8ba"))},ae96:function(e,t,n){"use strict";n.r(t);var i=n("9729"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},b119:function(e,t,n){"use strict";var i=n("5b34"),s=n.n(i);s.a},b23c:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(e,t){var n=t._c;return n("div",{staticClass:"kiwi-avatar",class:[t.$options.m.hasAvatar(t.props)?"kiwi-avatar--image":"",t.data.staticClass],attrs:{"data-nick":t.props.message&&t.props.message.nick}},[n("span",{style:t.$options.m.avatarStyle(t.props)},[t._v(" "+t._s(t.$options.m.hasAvatar(t.props)?"":t.$options.m.firstNickLetter(t.props))+" ")])])},s=[]},b27f:function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("2b0b")),o=s(n("3002")),c=s(n("acf5")),u=s(n("9f12")),l=s(n("53fe")),f=s(n("5ee5")),d=i(n("5a16")),p=n("bb3c"),h=function(){function e(t){(0,u.default)(this,e),this.nick=t.nick,this.host=t.host||"",this.username=t.username||"",this.realname=t.realname||"",this.modes=t.modes||"",this.away=t.away||"",this.colour=t.colour||"",this.account=t.account||"",this.buffers=(0,c.default)(null),this.hasWhois=!1,this.typingState=(0,c.default)(null),this.avatar=t.avatar||{small:"",large:""},this.ignore=!1,f.default.observable(this),(0,p.def)(this,"actual_host","",!0),(0,p.def)(this,"helpop","",!0),(0,p.def)(this,"bot","",!0),(0,p.def)(this,"server","",!0),(0,p.def)(this,"server_info","",!0),(0,p.def)(this,"operator","",!0),(0,p.def)(this,"channels","",!0),(0,p.def)(this,"modes","",!0),(0,p.def)(this,"idle","",!0),(0,p.def)(this,"logon","",!0),(0,p.def)(this,"registered_nick","",!0),(0,p.def)(this,"secure","",!0),(0,p.def)(this,"special","",!0)}return(0,l.default)(e,[{key:"getColour",value:function(){return this.colour||(this.colour=d.createNickColour(this.nick)),"default"===this.colour?"":this.colour}},{key:"isAway",value:function(){return!!this.away}},{key:"typingStatus",value:function(e,t){var n=this,i=e.toLowerCase();if(!t)return this.typingState[i]||{status:""};var s=this.typingState[i];if(s||(f.default.set(this.typingState,i,{started:0,status:""}),s=this.typingState[i]),s.timeout&&(clearTimeout(s.timeout),s.timeout=null),"done"===t)return f.default.delete(this.typingState,i),null;s.started=(0,o.default)(),s.status=t;var a="paused"===t?3e4:6e3;return s.timeout=(0,r.default)((function(){return n.typingStatus(i,"done")}),a),s}}]),e}();t.default=h},b2d4:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-statebrowser-usermenu",class:[e.is_usermenu_open?"kiwi-statebrowser-usermenu--open":""]},[n("div",{staticClass:"kiwi-statebrowser-usermenu-avatar",class:[e.isConnected?"kiwi-statebrowser-usermenu-avatar--connected":"kiwi-statebrowser-usermenu-avatar--disconnected"],on:{click:function(t){e.is_usermenu_open=!e.is_usermenu_open}}},[e._v(" "+e._s(e.userInitial)+" "),e.network&&"connected"===e.network.state?n("away-status-indicator",{attrs:{network:e.network,user:e.getUser,toggle:!1}}):e._e()],1),e.is_usermenu_open?n("div",{staticClass:"kiwi-statebrowser-usermenu-body"},[n("p",[e._v(" "+e._s(e.$t("state_remembered"))+" ")]),n("a",{staticClass:"u-link",on:{click:e.clickForget}},[e._v(e._s(e.$t("state_forget")))]),n("div",{staticClass:"kiwi-close-icon",on:{click:function(t){e.is_usermenu_open=!1}}},[n("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]):n("div",{staticClass:"kiwi-statebrowser-usermenu-network"},[e._v(" "+e._s(e.networkName)+" ")])])},s=[]},b347:function(e,t,n){"use strict";n.r(t);var i=n("cf54"),s=n("0789");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("59eb");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},b361:function(e,t,n){"use strict";n.r(t);var i=n("5647"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},b388:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-startup-common",class:[e.closing?"kiwi-startup-common--closing":"",e.backgroundImage?"":"kiwi-startup-common--no-bg"],style:e.backgroundStyle},[n("div",{staticClass:"kiwi-startup-common-section kiwi-startup-common-section-connection"},[e._t("connection")],2),n("div",{staticClass:"kiwi-startup-common-section kiwi-startup-common-section-info",style:e.backgroundStyle},[e.infoContent?n("div",{staticClass:"kiwi-startup-common-section-info-content",domProps:{innerHTML:e._s(e.infoContent)}}):e._e()])])},s=[]},b3ac:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(e,t){var n=t._c;return n("div",{staticClass:"kiwi-nicklist-user",class:[t.props.nicklist.userMode(t.props.user)?"kiwi-nicklist-user--mode-"+t.props.nicklist.userMode(t.props.user):"",t.props.user.away?"kiwi-nicklist-user--away":"",t.props.user.ignore?"kiwi-nicklist-user--ignore":"",t.data.staticClass],attrs:{"data-nick":(t.props.user.nick||"").toLowerCase()},on:{click:function(e){return t.props.nicklist.openUserbox(t.props.user)}}},[t.props.m().shouldShowAvatars()?n("div",{staticClass:"kiwi-avatar-container"},[t.props.user?n(t.injections.components.Avatar,{tag:"component",attrs:{user:t.props.user,size:"small"}}):t._e(),n(t.injections.components.AwayStatusIndicator,{tag:"component",attrs:{network:t.props.network,user:t.props.user,toggle:!1}})],1):n("div",[n(t.injections.components.AwayStatusIndicator,{tag:"component",attrs:{network:t.props.network,user:t.props.user,toggle:!1}})],1),n("span",{staticClass:"kiwi-nicklist-user-prefix"},[t._v(" "+t._s(t.props.nicklist.userModePrefix(t.props.user))+" ")]),n("span",{staticClass:"kiwi-nicklist-user-nick",style:{color:t.props.m().userColour()}},[t._v(t._s(t.props.user.nick)+" ")]),n("span",{staticClass:"kiwi-nicklist-messageuser",on:{click:function(e){return e.stopPropagation(),t.props.nicklist.openQuery(t.props.user)}}},[n("i",{staticClass:"fa fa-comment",attrs:{"aria-hidden":"true"}})]),n(t.injections.components.TypingStatusIndicator,{tag:"component",attrs:{user:t.props.user,buffer:t.props.nicklist.buffer}})],1)},s=[]},b3ed:function(e,t,n){"use strict";n.r(t);var i=n("e56a"),s=n("f803");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("17f1");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},b4e6:function(e,t,n){"use strict";var i=n("cbf5"),s=n.n(i);s.a},b4ef:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("fa81")),r=i(n("9474")),o=i(n("e4f0")),c=i(n("6b47")),u=i(n("89ba")),l=i(n("4573")),f=i(n("e587")),d=i(n("fc56")),p=i(n("a3e3")),h=i(n("78b2")),w=i(n("acf5")),m=i(n("9f12")),v=i(n("53fe")),_=i(n("2ef0")),g=i(n("0470")),k=i(n("23ce")),b=g.default.namespace("BouncerProvider.js"),y=function(){function e(t){var n,i,s;(0,m.default)(this,e),this.state=t,this.controllerNetwork=null,this.bnc={enabled:!1,username:"",password:"",server:"",port:6667,tls:!1,direct:!1,path:"",registered:!1},this.rewriteConnections=!0,this.networksSnapshot=(0,w.default)(null),this.monitoringChanges=!1,t.$on("irc.motd",(0,h.default)(n=this.onNetworkMotd).call(n,this)),t.$on("irc.bouncer state",(0,h.default)(i=this.onNetworkState).call(i,this)),t.$on("irc.bouncer networks",(0,h.default)(s=this.onBouncerNetworks).call(s,this))}return(0,v.default)(e,[{key:"enable",value:function(e,t,n,i,s){var a,r,o,c;b((0,p.default)(a="Using a Bouncer Provider with server ".concat(e,":")).call(a,t)),this.bnc.server=e,this.bnc.port=t||6667,this.bnc.tls=!!n,this.bnc.direct=!!i,this.bnc.path=s||"",this.bnc.enabled=!0;var u=(0,d.default)(r=this.state.networks).call(r,(function(e){return e.is_bnc}));if(null===u||void 0===u||null===(o=u.connection)||void 0===o?void 0:o.password){var h=this.parseBncCredentials(u.connection.password),w=(0,f.default)(h,2),m=w[0],v=w[1];this.bnc.username=m,this.bnc.password=v}(0,l.default)(c=this.state.networks).call(c,(function(e){e.ircClient.use((0,k.default)())})),this.listenToState()}},{key:"getController",value:function(){if(this.controllerNetwork&&"connected"===this.controllerNetwork.state)return this.controllerNetwork;this.controllerNetwork=null;for(var e=0;e<this.state.networks.length;e++){var t=this.state.networks[e],n=t.ircClient;if("connected"===t.state&&n.network.cap.isEnabled("bouncer")){this.controllerNetwork=t;break}}return this.controllerNetwork}},{key:"onNetworkMotd",value:function(){var e=(0,u.default)(c.default.mark((function e(t,n){var i,s,a,r,o;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=n.ircClient,this.bnc.enabled){e.next=3;break}return e.abrupt("return");case 3:if(i.network.cap.isEnabled("bouncer")){e.next=6;break}return b.debug("BOUNCER cap not available on network ".concat(n.name,", not using for BNC")),e.abrupt("return");case 6:if(i.bnc.hasNetwork()&&!n.connection.bncnetid&&(n.connection.bncnetid=i.bnc.tags().netid),this.bnc.username||(s=this.parseBncCredentials(n.connection.password),a=(0,f.default)(s,2),r=a[0],o=a[1],this.bnc.username=r,this.bnc.password=o),!i.bnc.hasNetwork()){e.next=11;break}return e.next=11,this.syncBncNetwork(n);case 11:if(n.connection.bncnetid){e.next=14;break}return e.next=14,this.initAndAddNetworks(n);case 14:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"onNetworkState",value:function(e,t){var n=this.getController()===t;if(n&&"disconnected"===e.state){var i=this.state.getNetworkFromBncNetId(e.networkId);i&&i.ircClient.connection.transport.close()}}},{key:"initAndAddNetworks",value:function(){var e=(0,u.default)(c.default.mark((function e(t){var n;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.ircClient,this.bnc.registered=!0,t.ircClient.bnc.hasNetwork()?(t.hidden=!1,t.is_bnc=!1):(t.hidden=!0,t.is_bnc=!0),n.bnc.getNetworks();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onBouncerNetworks",value:function(e){var t,n=this;b.debug("Got ".concat(e.length," networks from the BNC"),e),(0,l.default)(e).call(e,(function(e){return n.addNetworkToState(e)})),(0,l.default)(t=this.state.networks).call(t,(function(t){var i,s=!!(0,d.default)(e).call(e,(function(e){return e.networkId===t.connection.bncnetid}));t.is_bnc||s||(b.debug((0,p.default)(i="Network '".concat(t.name,"' (")).call(i,t.id,") was not in the BNC, removing locally")),n.state.removeNetwork(t.id))})),this.monitorNetworkChanges()}},{key:"syncBncNetwork",value:function(){var e=(0,u.default)(c.default.mark((function e(t){var n,i,s,a=this;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.ircClient,b.debug("Syncing network ".concat(t.name," from the BNC")),e.next=4,i.bnc.getBuffers(t.connection.bncnetid);case 4:s=e.sent,(0,l.default)(s).call(s,(function(e){var n;t.name!==e.network&&(b((0,p.default)(n="Detected network name change while syncing buffers. ".concat(t.name," > ")).call(n,e.network)),t.name=e.network);var s=a.state.addBuffer(t.id,e.name);s?(e.joined?(s.enabled=!0,s.joined=!0):(s.enabled=!1,s.joined=!1),e.seen&&(s.last_read=new Date(e.seen).getTime()),e.notify&&s.setting("alert_on",e.notify),s.topic=e.topic||"","connected"===t.state&&s.isChannel()&&s.joined&&(i.raw("NAMES "+s.name),i.who(s.name))):b.error("Couldn't add BNC buffer, '".concat(e.name,"'"),e)})),(0,l.default)(n=t.buffers).call(n,(function(e){if(e.isChannel()||e.isQuery()){var t=(0,o.default)(s).call(s,(function(t){return t.name.toLowerCase()===e.name.toLowerCase()}));0===t.length&&a.state.removeBuffer(e)}}));case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addNetworkToState",value:function(){var e=(0,u.default)(c.default.mark((function e(t){var n;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.state.getNetworkFromBncNetId(t.networkId),n?(n.name=t.name,n.connection.server=t.host,n.connection.port=(0,r.default)(t.port,10),n.connection.tls=t.tls,n.connection.nick=t.account||t.nick,n.connection.password=t.password||"",n.nick=t.currentNick||t.nick||"",n.password=t.account_password):n=this.state.addNetwork(t.name,t.nick||"",{server:t.host,port:t.port,tls:t.tls,password:t.password||"",bncnetid:t.networkId,username:t.user,account_password:t.account_password}),n.editable_name=!0,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"snapshotCurrentNetworks",value:function(){var e,t=this;this.networksSnapshot=(0,w.default)(null),(0,l.default)(e=this.state.networks).call(e,(function(e){e.connection.bncnetid&&(t.networksSnapshot[e.connection.bncnetid]={bncnetid:e.connection.bncnetid,network:e.name,host:e.connection.server,port:e.connection.port,tls:e.connection.tls,account:e.connection.nick,account_password:e.password,server_password:e.connection.password,nick:e.connection.nick,username:e.username})}))}},{key:"saveState",value:function(){var e,t=this,n=this.getController();n?((0,l.default)(e=this.state.networks).call(e,(function(e){if((t.getController()!==e||e.ircClient.bnc.hasNetwork())&&!e.hidden)if(e.name.match(/^[a-zA-Z_0-9.]+$/)){var i=e.connection.bncnetid,s=t.networksSnapshot[i]||{},r={};e.name!==s.network&&(r.network=e.name),e.connection.server!==s.host&&(r.host=e.connection.server),e.connection.port!==s.port&&(r.port=e.connection.port),e.connection.tls!==s.tls&&(r.tls=e.connection.tls),e.password!==s.account_password&&(r.account_password=e.password),e.connection.nick!==s.account&&(r.account=e.connection.nick),e.connection.password!==s.server_password&&(r.password=e.connection.password),e.connection.nick!==s.nick&&(r.nick=e.connection.nick),e.username!==s.username&&(r.user=e.username),!s.bncnetid&&r.host&&r.port&&r.nick?(b("Saving new network ".concat(e.name," to the BNC")),n.ircClient.bnc.addNetwork(e.name,r.host,r.port,r.tls,r.nick,r.user,r.password).then((function(t){e.connection.bncnetid=t.networkId,e.name=t.network}))):s.bncnetid&&(0,a.default)(r).length>0&&(b("Updating network ".concat(e.name," on the BNC")),n.ircClient.bnc.saveNetwork(i,r))}else b.debug("Network ".concat(e.id," has an invalid name. Not saving to the BNC"))})),this.snapshotCurrentNetworks()):b.debug("No controller available to save networks")}},{key:"monitorNetworkChanges",value:function(){var e;if(!this.monitoringChanges){this.monitoringChanges=!0,this.snapshotCurrentNetworks();var t=_.default.debounce((0,h.default)(e=this.saveState).call(e,this),2e3);this.state.$watch("networks",t,{deep:!0})}}},{key:"listenToState",value:function(){var e=this,t=this.state;t.$on("network.connecting",(function(t){var n=t.network;if(e.bnc.enabled&&e.rewriteConnections){var i=n.name,s=n.ircClient;if(s.options.host=e.bnc.server,s.options.port=e.bnc.port,s.options.tls=e.bnc.tls,e.bnc.password&&!t.network.is_bnc){var a,r,o=(0,p.default)(a=(0,p.default)(r="".concat(e.bnc.username,"/")).call(r,i,":")).call(a,e.bnc.password);s.options.password=o}s.options.account={},n.connection.direct=e.bnc.direct,s.options.path=e.bnc.path}})),t.$on("network.connecting",(function(t){var n=e.getController();if(n){e.saveState();var i=t.network;i.connection.bncnetid&&n.ircClient.raw("BOUNCER connect "+i.connection.bncnetid)}else b.debug("No controller available to save network states")})),t.$on("irc.motd",(function(e,t){var n;(0,l.default)(n=t.buffers).call(n,(function(e){e.isChannel()&&e.enabled&&e.joined&&t.ircClient.who(e.name)}))})),t.$on("network.new",(function(e){var n=e.network;if(n.ircClient.use((0,k.default)()),n.editable_name=!0,!n.connection.bncnetid){var i=1,s=!0;while(s)s=(0,d.default)(_.default).call(_.default,t.networks,{name:"Network"+i}),s&&n!==s||(n.name="Network"+i,s=null),i++}})),t.$on("network.removed",(function(t){var n=e.getController();n?t.network.connection.bncnetid&&n.ircClient.bnc.removeNetwork(t.network.connection.bncnetid):b.debug("No controller available to save network states")})),t.$on("buffer.close",(function(t){var n=t.buffer,i=t.buffer.getNetwork(),s=i.connection.bncnetid,a=e.getController();a?s&&a.ircClient.bnc.closeBuffer(s,n.name):b.debug("No controller available to save buffer states")}))}},{key:"parseBncCredentials",value:function(e){var t=e.split(":"),n=(0,f.default)(t,2),i=n[0],s=n[1];return i=i.split("/")[0],[i,s]}}]),e}();t.default=y,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["BouncerProvider"],window._kiwi_exports.libs.BouncerProvider=t.default?t.default:t},b4f0:function(e,t,n){"use strict";n.r(t);var i=n("5a9e"),s=n("fedd");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("eeb2");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},b5b6:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("5ee5")),r=a.default.extend({data:function(){return{sidebarOpen:!1,sidebarSection:"",sidebarUser:null,activeComponent:null}},computed:{isDrawn:function(){return this.sidebarOpen&&this.section()&&this.$state.ui.app_width<=769},isOpen:function(){return this.sidebarOpen&&this.section()&&this.$state.ui.app_width>769}},created:function(){var e=this;this.listen(this.$state,"sidebar.component",(function(t){e.activeComponent=t,e.sidebarOpen=!!t,e.sidebarSection=t?"component":""})),this.$nextTick((function(){var t=e.$state.setting("sidebarDefault");t&&e.$state.ui.app_width>769&&(e.sidebarSection=t,e.sidebarOpen=!0)}))},methods:{section:function(){if(!this.sidebarOpen)return"";var e=this.sidebarSection;if("component"===e)return e;var t=this.$state.getActiveBuffer();if(t.isQuery()){var n=this.$state.getUser(t.getNetwork().id,t.name);return n?(this.sidebarUser=n,"user"):""}return t.isChannel()?"user"===e&&this.sidebarUser?t.hasNick(this.sidebarUser.nick)?"user":(this.sidebarSection="nicklist",this.sidebarSection):"nicklist"===e?"nicklist":"settings"===e?"settings":"about"===e?"about":"":""},close:function(){this.activeComponent=null,this.sidebarOpen=!1,this.sidebarSection="",this.sidebarUser=null},showUser:function(e){this.activeComponent=null,this.sidebarUser=e,this.sidebarOpen=!0,this.sidebarSection="user"},showNicklist:function(){this.activeComponent=null,this.sidebarOpen=!0,this.sidebarSection="nicklist"},showBufferSettings:function(){this.activeComponent=null,this.sidebarOpen=!0,this.sidebarSection="settings"},showAbout:function(){this.activeComponent=null,this.sidebarOpen=!0,this.sidebarSection="about"},toggleUser:function(e){"user"===this.section()?this.close():this.showUser(e)},toggleNicklist:function(){"nicklist"===this.section()?this.close():this.showNicklist()},toggleBufferSettings:function(){"settings"===this.section()?this.close():this.showBufferSettings()},toggleAbout:function(){"about"===this.section()?this.close():this.showAbout()}}});t.default=r,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["SidebarState"],window._kiwi_exports.components.SidebarState=t.default?t.default:t},b6b1:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-inputtool-colours"},[n("div",{staticClass:"kiwi-inputtool-colours-palette",on:{mousedown:function(e){e.preventDefault()},click:function(e){e.preventDefault()}}},[n("div",{staticClass:"kiwi-inputtools-colours-colour irc-bg-colour-white",attrs:{"data-code":"00"},on:{click:e.onColourClick}}),n("div",{staticClass:"kiwi-inputtools-colours-colour irc-bg-colour-black",attrs:{"data-code":"01"},on:{click:e.onColourClick}}),n("div",{staticClass:"kiwi-inputtools-colours-colour irc-bg-colour-blue",attrs:{"data-code":"02"},on:{click:e.onColourClick}}),n("div",{staticClass:"kiwi-inputtools-colours-colour irc-bg-colour-green",attrs:{"data-code":"03"},on:{click:e.onColourClick}}),n("div",{staticClass:"kiwi-inputtools-colours-colour irc-bg-colour-light-red",attrs:{"data-code":"04"},on:{click:e.onColourClick}}),n("div",{staticClass:"kiwi-inputtools-colours-colour irc-bg-colour-brown",attrs:{"data-code":"05"},on:{click:e.onColourClick}}),n("div",{staticClass:"kiwi-inputtools-colours-colour irc-bg-colour-purple",attrs:{"data-code":"06"},on:{click:e.onColourClick}}),n("div",{staticClass:"kiwi-inputtools-colours-colour irc-bg-colour-orange",attrs:{"data-code":"07"},on:{click:e.onColourClick}}),n("div",{staticClass:"kiwi-inputtools-colours-colour irc-bg-colour-yellow",attrs:{"data-code":"08"},on:{click:e.onColourClick}}),n("div",{staticClass:"kiwi-inputtools-colours-colour irc-bg-colour-light-green",attrs:{"data-code":"09"},on:{click:e.onColourClick}}),n("div",{staticClass:"kiwi-inputtools-colours-colour irc-bg-colour-cyan",attrs:{"data-code":"10"},on:{click:e.onColourClick}}),n("div",{staticClass:"kiwi-inputtools-colours-colour irc-bg-colour-light-cyan",attrs:{"data-code":"11"},on:{click:e.onColourClick}}),n("div",{staticClass:"kiwi-inputtools-colours-colour irc-bg-colour-light-blue",attrs:{"data-code":"12"},on:{click:e.onColourClick}}),n("div",{staticClass:"kiwi-inputtools-colours-colour irc-bg-colour-pink",attrs:{"data-code":"13"},on:{click:e.onColourClick}}),n("div",{staticClass:"kiwi-inputtools-colours-colour irc-bg-colour-grey",attrs:{"data-code":"14"},on:{click:e.onColourClick}}),n("div",{staticClass:"kiwi-inputtools-colours-colour irc-bg-colour-light-grey",attrs:{"data-code":"15"},on:{click:e.onColourClick}}),n("div",{staticClass:"kiwi-inputtools-colours-colour kiwi-inputtools-colours-reset",on:{click:e.onResetClick}},[n("i",{staticClass:"fa fa-ban",attrs:{"aria-hidden":"true"}})])])])},s=[]},b70f:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-statebrowser-network",class:[e.isActiveNetwork?"kiwi-statebrowser-network--active":""]},[n("div",{staticClass:"kiwi-statebrowser-network-header"},[n("a",{staticClass:"kiwi-statebrowser-network-name u-link",on:{click:function(t){return e.setActiveBuffer(e.serverBuffer)}}},[e._v(" "+e._s(e.network.name)+" ")]),n("div",{staticClass:"kiwi-statebrowser-buffer-actions"},[n("div",{staticClass:"kiwi-statebrowser-channel-labels"},[e.serverUnread&&e.showMessageCounts(e.serverBuffer)?n("div",{staticClass:"kiwi-statebrowser-channel-label",class:[e.serverHighlight?"kiwi-statebrowser-channel-label--highlight":""]},[e._v(" "+e._s(e.serverUnread>999?"999+":e.serverUnread)+" ")]):e._e()])]),n("div",{staticClass:"kiwi-network-name-options"},[e.totalNetworkCount>1?n("div",{staticClass:"kiwi-network-name-option kiwi-network-name-option-collapse",on:{click:function(t){e.collapsed=!e.collapsed}}},[n("i",{staticClass:"fa",class:[e.collapsed?"fa-plus-square-o":"fa-minus-square-o"]})]):e._e()])]),e.channel_filter_display?n("div",{staticClass:"kiwi-statebrowser-channelfilter"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.channel_filter,expression:"channel_filter"},{name:"focus",rawName:"v-focus"}],attrs:{placeholder:e.$t("filter_channels"),type:"text"},domProps:{value:e.channel_filter},on:{blur:e.onChannelFilterInputBlur,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.closeFilterChannel(t)},input:function(t){t.target.composing||(e.channel_filter=t.target.value)}}}),n("p",[n("a",{on:{click:function(t){e.closeFilterChannel(),e.showNetworkChannels(e.network)}}},[e._v(" "+e._s(e.$t("find_more_channels"))+" ")])])]):e._e(),e.channel_add_display?n("div",{staticClass:"kiwi-statebrowser-channels-info"},[n("form",{staticClass:"kiwi-statebrowser-newchannel",on:{submit:function(t){return t.preventDefault(),e.submitNewChannelForm(t)}}},[n("div",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"kiwi-statebrowser-newchannel-inputwrap",class:[e.channel_add_input_has_focus?"kiwi-statebrowser-newchannel-inputwrap--focus":""]},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.channel_add_input,expression:"channel_add_input"}],attrs:{placeholder:e.$t("state_join"),type:"text"},domProps:{value:e.channel_add_input},on:{focus:e.onNewChannelInputFocus,blur:e.onNewChannelInputBlur,input:function(t){t.target.composing||(e.channel_add_input=t.target.value)}}})])])]):e._e(),n("div",{staticClass:"kiwi-statebrowser-network-toggable-area",class:[e.collapsed?"kiwi-statebrowser-network-toggable-area--collapsed":""]},[n("transition",{attrs:{name:"kiwi-statebrowser-network-status-transition"}},["connected"!==e.network.state?n("div",{staticClass:"kiwi-statebrowser-network-status"},[e.network.state_error?[n("i",{staticClass:"fa fa-exclamation-triangle",attrs:{"aria-hidden":"true"}}),n("a",{staticClass:"u-link",on:{click:function(t){return e.showNetworkSettings(e.network)}}},[e._v(" "+e._s(e.$t("state_configure"))+" ")])]:e.network.connection.server?"disconnected"===e.network.state?[e._v(" "+e._s(e.$t("state_disconnected"))+" "),n("a",{staticClass:"u-link",on:{click:function(t){return e.network.ircClient.connect()}}},[e._v(" "+e._s(e.$t("connect"))+" ")])]:"connecting"===e.network.state?[e._v(" "+e._s(e.$t("connecting"))+" ")]:e._e():[n("a",{staticClass:"u-link",on:{click:function(t){return e.showNetworkSettings(e.network)}}},[e._v(" "+e._s(e.$t("state_configure"))+" ")])]],2):e._e()]),n("div",{staticClass:"kiwi-statebrowser-channels"},["connected"===e.network.state?n("div",{staticClass:"kiwi-statebrowser-channels-options"},[n("div",{staticClass:"kiwi-statebrowser-channels-option",class:{active:1==e.channel_add_display},on:{click:function(t){return e.toggleAddChannel()}}},[n("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}})]),n("div",{staticClass:"kiwi-statebrowser-channels-option",class:{active:1==e.channel_filter_display},on:{click:e.onSearchChannelClick}},[n("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})])]):e._e(),e._l(e.filteredBuffers,(function(t){return n("div",{key:t.name,staticClass:"kiwi-statebrowser-channel",class:{"kiwi-statebrowser-channel-active":e.isActiveBuffer(t),"kiwi-statebrowser-channel-notjoined":t.isChannel()&&!t.joined},attrs:{"data-name":t.name.toLowerCase()}},[n("div",{staticClass:"kiwi-statebrowser-channel-name",on:{click:function(n){return e.setActiveBuffer(t)}}},[t.isQuery()&&e.awayNotifySupported()?n("away-status-indicator",{attrs:{network:e.network,user:e.network.userByName(t.name)}}):e._e(),e._v(e._s(t.name)+" ")],1),n("div",{staticClass:"kiwi-statebrowser-buffer-actions"},[n("div",{staticClass:"kiwi-statebrowser-channel-labels"},[t.flags.unread&&e.showMessageCounts(t)?n("div",{staticClass:"kiwi-statebrowser-channel-label",class:[t.flags.highlight?"kiwi-statebrowser-channel-label--highlight":""]},[e._v(" "+e._s(t.flags.unread>999?"999+":t.flags.unread)+" ")]):e._e()]),n("div",{staticClass:"kiwi-statebrowser-channel-leave",on:{click:function(n){return e.closeBuffer(t)}}},[n("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])])])}))],2)],1)])},s=[]},b73b:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("44a4")),r=i(n("e4f0")),o=i(n("14b1")),c=i(n("3002")),u=i(n("9f12")),l=i(n("53fe")),f=i(n("2d80")),d=i(n("5ee5")),p=i(n("e54d")),h=i(n("9332")),w=i(n("385f")),m=i(n("f72e")),v=0;function _(e,t,n){(0,f.default)(e,t,{writable:!0,value:n})}var g=function(){function e(t,n){(0,u.default)(this,e),_(this,"instance_num",v++),_(this,"id",k(t)||v++),_(this,"time",t.time||(0,c.default)()),_(this,"server_time",t.server_time||this.time),_(this,"nick",t.nick),_(this,"message",t.message),_(this,"tags",t.tags),_(this,"type",t.type||"message"),_(this,"type_extra",t.type_extra),_(this,"ignore",!1),_(this,"mentioned_urls",[]),this.embed={type:"url",payload:null},this.html="",_(this,"hasRendered",!1),_(this,"template",t.template||null),_(this,"bodyTemplate",t.bodyTemplate||null),_(this,"isHighlight",!1),(0,f.default)(this,"user",{value:n}),d.default.observable(this)}return(0,l.default)(e,[{key:"render",value:function(){return w.default.singleton().emit("message.render",{message:this}),this}},{key:"toHtml",value:function(e){var t;if(this.hasRendered)return this.html;this.hasRendered=!0;var n=(0,m.default)(),i=n.setting("buffers.show_emoticons")&&!e.buffer.isSpecial(),s=e.buffer.users,a=!e.buffer.isSpecial()&&e.useExtraFormatting&&"privmsg"===this.type,c=(0,p.default)(this.message,{extras:a},s);n.$emit("message.prestyle",{message:this,blocks:c});var u=(0,h.default)(c,i);return this.mentioned_urls=(0,o.default)(t=(0,r.default)(c).call(c,(function(e){return"url"===e.type}))).call(t,(function(e){return e.meta.url})),this.html=u,this.maybeAutoEmbed(),n.$emit("message.poststyle",{message:this,blocks:c}),this.html}},{key:"maybeAutoEmbed",value:function(){var e;if(this.mentioned_urls&&0!==this.mentioned_urls.length){var t=(0,m.default)().setting("buffers.inline_link_auto_previews");if(t&&"privmsg"===this.type){var n=this.mentioned_urls[0],i=(0,m.default)().setting("buffers.inline_link_auto_preview_whitelist");i=(0,a.default)(e=i||"").call(e);try{if(!i||!new RegExp(i,"i").test(n))return}catch(s){return}this.embed.payload=n,this.embed.type="url"}}}}]),e}();function k(e){if(e.tags)return e.tags.msgid||e.tags["draft/msgid"]||void 0}t.default=g,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["Message"],window._kiwi_exports.libs.Message=t.default?t.default:t},b7cd:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-mediaviewer"},[n("div",{staticClass:"kiwi-mediaviewer-controls"},[e.showPin?n("a",{staticClass:"u-button u-link kiwi-mediaviewer-controls-pin",on:{click:function(t){return e.$emit("pin")}}},[n("i",{staticClass:"fa fa-map-pin",attrs:{"aria-hidden":"true"}})]):e._e(),n("a",{staticClass:"u-button u-button-warning kiwi-mediaviewer-controls-close",on:{click:function(t){return e.$emit("close")}}},[n("i",{staticClass:"fa fa-window-close",attrs:{"aria-hidden":"true"}})])]),e.isIframe?n("iframe",{staticClass:"kiwi-mediaviewer-iframe",attrs:{src:e.url}}):e.component?n(e.component,{tag:"component",attrs:{"component-props":e.componentProps}}):n("div",{key:e.url,staticClass:"kiwi-mediaviewer-embedly"},[n("a",{ref:"embedlyLink",staticClass:"kiwi-embedly-card",attrs:{href:e.url,"data-card-key":e.embedlyKey,"data-card-chrome":"0","data-card-controls":"0","data-card-recommend":"0"}},[e._v(e._s(e.$t("media_loading",{url:e.url})))])])],1)},s=[]},ba06:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(e,t){var n=t._c;return n("div",{staticClass:"kiwi-messagelist-message kiwi-messagelist-message--modern",class:[t.props.m().isRepeat()?"kiwi-messagelist-message--authorrepeat":"kiwi-messagelist-message--authorfirst","kiwi-messagelist-message-"+t.props.message.type,t.props.message.type_extra?"kiwi-messagelist-message-"+t.props.message.type+"-"+t.props.message.type_extra:"",t.props.ml.isMessageHighlight(t.props.message)?"kiwi-messagelist-message--highlight":"",t.props.ml.isHoveringOverMessage(t.props.message)?"kiwi-messagelist-message--hover":"",t.props.ml.buffer.last_read&&t.props.message.time>t.props.ml.buffer.last_read?"kiwi-messagelist-message--unread":"",t.props.message.nick.toLowerCase()===t.props.ml.ourNick.toLowerCase()?"kiwi-messagelist-message--own":"",t.props.ml.message_info_open===t.props.message?"kiwi-messagelist-message--info-open":"",t.props.ml.message_info_open&&t.props.ml.message_info_open!==t.props.message?"kiwi-messagelist-message--blur":"",t.props.message.user&&t.props.m().userMode(t.props.message.user)?"kiwi-messagelist-message--user-mode-"+t.props.m().userMode(t.props.message.user):"",t.data.staticClass],attrs:{"data-message-id":t.props.message.id,"data-nick":(t.props.message.nick||"").toLowerCase()},on:{click:function(e){return t.props.ml.onMessageClick(e,t.props.message,!0)},dblclick:function(e){return t.props.ml.onMessageDblClick(e,t.props.message)}}},[n("div",{staticClass:"kiwi-messagelist-modern-left"},[t.props.m().isMessage(t.props.message)&&t.props.m().displayAvatar(t.props.message)?n(t.injections.components.MessageAvatar,{tag:"component",attrs:{message:t.props.message,"data-nick":t.props.message.nick,user:t.props.message.user}}):t._e(),t.props.message.user&&!t.props.m().isRepeat()?n(t.injections.components.AwayStatusIndicator,{tag:"component",staticClass:"kiwi-messagelist-awaystatus",attrs:{network:t.props.m().getNetwork(),user:t.props.message.user,toggle:!1}}):t._e()],1),n("div",{staticClass:"kiwi-messagelist-modern-right"},[n("div",{staticClass:"kiwi-messagelist-top"},[t.props.message.nick?n("a",{class:["kiwi-messagelist-nick",t.props.message.user&&t.props.m().userMode(t.props.message.user)?"kiwi-messagelist-nick--mode-"+t.props.m().userMode(t.props.message.user):""],style:{color:t.props.ml.userColour(t.props.message.user)},attrs:{"data-nick":t.props.message.nick.toLowerCase()},on:{mouseover:function(e){t.props.ml.hover_nick=t.props.message.nick.toLowerCase()},mouseout:function(e){t.props.ml.hover_nick=""}}},[n("span",{staticClass:"kiwi-messagelist-nick-prefix"},[t._v(t._s(t.props.message.user?t.props.m().userModePrefix(t.props.message.user):""))]),t._v(t._s(t.props.message.nick)+" ")]):t._e(),t.props.m().showRealName()?n("div",{staticClass:"kiwi-messagelist-realname",on:{click:function(e){return t.props.ml.openUserBox(t.props.message.nick)},mouseover:function(e){t.props.ml.hover_nick=t.props.message.nick.toLowerCase()},mouseout:function(e){t.props.ml.hover_nick=""}}},[t._v(" "+t._s(t.props.message.user.realname)+" ")]):t._e(),t.props.m().isMessage(t.props.message)&&t.props.ml.bufferSetting("show_timestamps")?n("div",{staticClass:"kiwi-messagelist-time",attrs:{title:t.props.ml.formatTimeFull(t.props.message.time)}},[t._v(" "+t._s(t.props.ml.formatTime(t.props.message.time))+" ")]):t._e()]),t.props.message.bodyTemplate&&t.props.message.bodyTemplate.$el?n("div",{directives:[{name:"rawElement",rawName:"v-rawElement",value:t.props.message.bodyTemplate.$el,expression:"props.message.bodyTemplate.$el"}],staticClass:"kiwi-messagelist-body"}):n("div",{staticClass:"kiwi-messagelist-body",domProps:{innerHTML:t._s(t.props.ml.formatMessage(t.props.message))}}),t.props.ml.message_info_open===t.props.message?n(t.injections.components.MessageInfo,{tag:"component",attrs:{message:t.props.message,buffer:t.props.ml.buffer},on:{close:function(e){return t.props.ml.toggleMessageInfo()}}}):t._e(),t.props.message.embed.payload?n("div",[n(t.injections.components.MediaViewer,{tag:"component",attrs:{url:t.props.message.embed.payload,"show-pin":!0},on:{close:function(e){t.props.message.embed.payload=""},pin:function(e){return t.props.ml.openEmbedInPreview(t.props.message)}}})],1):t._e()],1)])},s=[]},ba5c:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("e4f0")),r={props:["buffer"],data:function(){return{banlist:[],is_refreshing:!1}},created:function(){this.updateBanlist()},methods:{updateBanlist:function(){var e=this;if("connected"===this.buffer.getNetwork().state&&!this.is_refreshing){var t=this.buffer.name;this.is_refreshing=!0,this.buffer.getNetwork().ircClient.banlist(t,(function(t){e.banlist=t.bans,e.is_refreshing=!1}))}},removeBan:function(e){var t,n=this.buffer.name;this.buffer.getNetwork().ircClient.unban(n,e),this.banlist=(0,a.default)(t=this.banlist).call(t,(function(t){return t.banned!==e}))}}};t.default=r,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["ChannelBanlist"],window._kiwi_exports.components.ChannelBanlist=t.default?t.default:t},baf0:function(e,t,n){"use strict";n.r(t);var i=n("c842"),s=n("c028");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("210c");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!0,null,"7979fe60",null);t["default"]=o.exports},bb3c:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.def=r;var a=i(n("2d80"));function r(e,t,n,i){var s=n,r={get:function(){return s}};i&&(r.set=function(e){var t=s;s=e,"function"===typeof i&&i(e,t)}),(0,a.default)(e,t,r),"function"===typeof i&&i(s)}},bbd9:function(e,t,n){"use strict";n.r(t);var i=n("68bb"),s=n("ff31");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("ccf5");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},bd1b:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(e,t){var n=t._c;return n("div",{staticClass:"kiwi-messagelist-message kiwi-messagelist-message--compact",class:[t.props.m().isRepeat()?"kiwi-messagelist-message--authorrepeat":"kiwi-messagelist-message--authorfirst","kiwi-messagelist-message-"+t.props.message.type,t.props.message.type_extra?"kiwi-messagelist-message-"+t.props.message.type+"-"+t.props.message.type_extra:"",t.props.ml.isMessageHighlight(t.props.message)?"kiwi-messagelist-message--highlight":"",t.props.ml.isHoveringOverMessage(t.props.message)?"kiwi-messagelist-message--hover":"",t.props.ml.buffer.last_read&&t.props.message.time>t.props.ml.buffer.last_read?"kiwi-messagelist-message--unread":"",t.props.message.nick.toLowerCase()===t.props.ml.ourNick.toLowerCase()?"kiwi-messagelist-message--own":"",t.props.ml.message_info_open===t.props.message?"kiwi-messagelist-message--info-open":"",t.props.ml.message_info_open&&t.props.ml.message_info_open!==t.props.message?"kiwi-messagelist-message--blur":"",t.props.message.user&&t.props.m().userMode(t.props.message.user)?"kiwi-messagelist-message--user-mode-"+t.props.m().userMode(t.props.message.user):"",t.data.staticClass],attrs:{"data-message-id":t.props.message.id,"data-nick":(t.props.message.nick||"").toLowerCase()},on:{click:function(e){return t.props.ml.onMessageClick(e,t.props.message,!0)},dblclick:function(e){return t.props.ml.onMessageDblClick(e,t.props.message)}}},[t.props.ml.bufferSetting("show_timestamps")?n("div",{staticClass:"kiwi-messagelist-time",attrs:{title:t.props.ml.formatTimeFull(t.props.message.time)}},[t._v(" "+t._s(t.props.ml.formatTime(t.props.message.time))+" ")]):t._e(),n("a",{class:["kiwi-messagelist-nick",t.props.message.user&&t.props.m().userMode(t.props.message.user)?"kiwi-messagelist-nick--mode-"+t.props.m().userMode(t.props.message.user):""],style:{color:t.props.ml.userColour(t.props.message.user)},attrs:{"data-nick":(t.props.message.nick||"").toLowerCase()},on:{mouseover:function(e){t.props.ml.hover_nick=t.props.message.nick.toLowerCase()},mouseout:function(e){t.props.ml.hover_nick=""}}},[t.props.message.user?n(t.injections.components.AwayStatusIndicator,{tag:"component",attrs:{network:t.props.m().getNetwork(),user:t.props.message.user,toggle:!1}}):t._e(),n("span",{staticClass:"kiwi-messagelist-nick--prefix"},[t._v(" "+t._s(t.props.message.user?t.props.m().userModePrefix(t.props.message.user):"")+" ")]),t._v(" "+t._s(t.props.message.nick)+" ")],1),t.props.message.bodyTemplate&&t.props.message.bodyTemplate.$el?n("div",{directives:[{name:"rawElement",rawName:"v-rawElement",value:t.props.message.bodyTemplate.$el,expression:"props.message.bodyTemplate.$el"}],staticClass:"kiwi-messagelist-body"}):n("div",{staticClass:"kiwi-messagelist-body",domProps:{innerHTML:t._s(t.props.ml.formatMessage(t.props.message))}}),t.props.ml.message_info_open===t.props.message?n(t.injections.components.MessageInfo,{tag:"component",attrs:{message:t.props.message,buffer:t.props.ml.buffer},on:{close:function(e){return t.props.ml.toggleMessageInfo()}}}):t._e(),t.props.message.embed.payload?n("div",[n(t.injections.components.MediaViewer,{tag:"component",attrs:{url:t.props.message.embed.payload,"show-pin":!0},on:{close:function(e){t.props.message.embed.payload=""},pin:function(e){return t.props.ml.openEmbedInPreview(t.props.message)}}})],1):t._e()],1)},s=[]},bd77:function(e,t,n){"use strict";var i=n("ac3b"),s=n.n(i);s.a},bdce:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.SoundBleep=void 0;var a=i(n("9f12")),r=i(n("53fe")),o=function(){function e(){(0,a.default)(this,e),this.audio=document.createElement("audio");var t=document.createElement("source");this.audio.canPlayType("audio/mpeg;")?(t.type="audio/mpeg",t.src="static/highlight.mp3"):(t.type="audio/ogg",t.src="static/highlight.ogg"),this.audio.appendChild(t)}return(0,r.default)(e,[{key:"play",value:function(){this.audio.play()}}]),e}();t.SoundBleep=o},be0a:function(e,t,n){},bf17:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-appsettings"},[n("div",{staticClass:"kiwi-appsettings-title",on:{click:e.closeSettings}},[n("span",[e._v(e._s(e.$t("close")))]),n("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),n("form",{staticClass:"u-form"},[n("tabbed-view",{ref:"tabs",staticClass:"kiwi-appsettings-tab-container"},[n("tabbed-tab",{attrs:{header:e.$t("settings_general"),focus:!0,name:"general"}},[n("div",{staticClass:"kiwi-appsettings-block"},[n("h3",[e._v(e._s(e.$t("settings_general")))]),n("div",{staticClass:"kiwi-appsettings-section kiwi-appsettings-general"},[n("label",{staticClass:"kiwi-appsettings-setting-language"},[n("div",[n("i",{staticClass:"fa fa-globe"})]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.settingLanguage,expression:"settingLanguage"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.settingLanguage=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[e._v(" Auto ")]),e._l(e.localesList,(function(t){return n("option",{key:t[0],domProps:{value:t[0]}},[e._v(" "+e._s(t[1])+" ")])}))],2)]),n("label",{staticClass:"kiwi-appsettings-setting-theme"},[n("span",[e._v(e._s(e.$t("settings_theme"))+" ")]),n("a",{staticClass:"kiwi-appsettings-theme-reload",attrs:{title:e.$t("refresh_theme")},on:{click:e.refreshTheme}},[n("i",{staticClass:"fa fa-refresh",attrs:{"aria-hidden":"true"}})]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.theme,expression:"theme"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.theme=t.target.multiple?n:n[0]}}},e._l(e.settings.themes,(function(t){return n("option",{key:t.name,domProps:{value:t.name}},[e._v(" "+e._s(t.name)+" ")])})),0)]),"custom"===e.theme?n("label",[n("span",[e._v(e._s(e.$t("settings_themeurl"))+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.customThemeUrl,expression:"customThemeUrl"}],staticClass:"u-input",domProps:{value:e.customThemeUrl},on:{input:function(t){t.target.composing||(e.customThemeUrl=t.target.value)}}})]):e._e(),n("label",{staticClass:"u-checkbox-wrapper"},[n("span",[e._v(e._s(e.$t("settings_show_autocomplete"))+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingShowAutoComplete,expression:"settingShowAutoComplete"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settingShowAutoComplete)?e._i(e.settingShowAutoComplete,null)>-1:e.settingShowAutoComplete},on:{change:function(t){var n=e.settingShowAutoComplete,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.settingShowAutoComplete=n.concat([a])):r>-1&&(e.settingShowAutoComplete=n.slice(0,r).concat(n.slice(r+1)))}else e.settingShowAutoComplete=s}}})]),e.themeSupportsMonospace?n("label",{staticClass:"u-checkbox-wrapper"},[n("span",[e._v(e._s(e.$t("settings_use_monospace"))+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingUseMonospace,expression:"settingUseMonospace"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settingUseMonospace)?e._i(e.settingUseMonospace,null)>-1:e.settingUseMonospace},on:{change:function(t){var n=e.settingUseMonospace,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.settingUseMonospace=n.concat([a])):r>-1&&(e.settingUseMonospace=n.slice(0,r).concat(n.slice(r+1)))}else e.settingUseMonospace=s}}})]):e._e(),e.canRegisterProtocolHandler?n("div",{staticStyle:{"margin-top":"10px","text-align":"center"}},[n("a",{staticClass:"u-button u-button-primary",on:{click:function(t){return e.makeDefaultProtocolHandler()}}},[n("i",[e._v(e._s(e.$t("settings_default_handler")))])])]):e._e()])]),n("div",{staticClass:"kiwi-appsettings-block"},[n("h3",[e._v(e._s(e.$t("settings_messages_title")))]),n("div",{staticClass:"kiwi-appsettings-section kiwi-appsettings-messages"},[n("label",{staticClass:"kiwi-appsettings-messagelistDisplay"},[n("span",[e._v(e._s(e.$t("settings_messagelayout"))+" ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.settingMessageLayout,expression:"settingMessageLayout"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.settingMessageLayout=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"traditional"}},[e._v("Traditional")]),n("option",{attrs:{value:"modern"}},[e._v("Modern")]),n("option",{attrs:{value:"inline"}},[e._v("Inline")])])]),n("label",{staticClass:"u-checkbox-wrapper"},[n("span",[e._v(e._s(e.$t("settings_timestamps"))+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingBufferShowTimestamps,expression:"settingBufferShowTimestamps"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settingBufferShowTimestamps)?e._i(e.settingBufferShowTimestamps,null)>-1:e.settingBufferShowTimestamps},on:{change:function(t){var n=e.settingBufferShowTimestamps,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.settingBufferShowTimestamps=n.concat([a])):r>-1&&(e.settingBufferShowTimestamps=n.slice(0,r).concat(n.slice(r+1)))}else e.settingBufferShowTimestamps=s}}})]),n("label",{staticClass:"u-checkbox-wrapper"},[n("span",[e._v(e._s(e.$t("settings_24hour_timestamps"))+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.timestamps_24h,expression:"timestamps_24h"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.timestamps_24h)?e._i(e.timestamps_24h,null)>-1:e.timestamps_24h},on:{change:function(t){var n=e.timestamps_24h,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.timestamps_24h=n.concat([a])):r>-1&&(e.timestamps_24h=n.slice(0,r).concat(n.slice(r+1)))}else e.timestamps_24h=s}}})]),n("label",{staticClass:"u-checkbox-wrapper"},[n("span",[e._v(e._s(e.$t("settings_emoticons"))+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingBufferShowEmoticons,expression:"settingBufferShowEmoticons"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settingBufferShowEmoticons)?e._i(e.settingBufferShowEmoticons,null)>-1:e.settingBufferShowEmoticons},on:{change:function(t){var n=e.settingBufferShowEmoticons,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.settingBufferShowEmoticons=n.concat([a])):r>-1&&(e.settingBufferShowEmoticons=n.slice(0,r).concat(n.slice(r+1)))}else e.settingBufferShowEmoticons=s}}})]),n("label",{staticClass:"u-checkbox-wrapper"},[n("span",[e._v(e._s(e.$t("settings_block_private"))+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingBufferBlockPms,expression:"settingBufferBlockPms"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settingBufferBlockPms)?e._i(e.settingBufferBlockPms,null)>-1:e.settingBufferBlockPms},on:{change:function(t){var n=e.settingBufferBlockPms,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.settingBufferBlockPms=n.concat([a])):r>-1&&(e.settingBufferBlockPms=n.slice(0,r).concat(n.slice(r+1)))}else e.settingBufferBlockPms=s}}})]),n("label",{staticClass:"kiwi-appsettings-full kiwi-appsettings-setting-scrollback"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingBufferScrollbackSize,expression:"settingBufferScrollbackSize"}],staticClass:"u-input",attrs:{type:"number"},domProps:{value:e.settingBufferScrollbackSize},on:{input:function(t){t.target.composing||(e.settingBufferScrollbackSize=t.target.value)}}}),n("span",[e._v(e._s(e.$t("settings_scrollback"))+" ")])]),n("label",{staticClass:"u-checkbox-wrapper"},[n("span",[e._v(e._s(e.$t("settings_formatting"))+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingBufferExtraFormatting,expression:"settingBufferExtraFormatting"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settingBufferExtraFormatting)?e._i(e.settingBufferExtraFormatting,null)>-1:e.settingBufferExtraFormatting},on:{change:function(t){var n=e.settingBufferExtraFormatting,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.settingBufferExtraFormatting=n.concat([a])):r>-1&&(e.settingBufferExtraFormatting=n.slice(0,r).concat(n.slice(r+1)))}else e.settingBufferExtraFormatting=s}}})]),n("label",{staticClass:"u-checkbox-wrapper"},[n("span",[e._v(e._s(e.$t("settings_nick_colouring"))+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingBufferColourNicknames,expression:"settingBufferColourNicknames"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settingBufferColourNicknames)?e._i(e.settingBufferColourNicknames,null)>-1:e.settingBufferColourNicknames},on:{change:function(t){var n=e.settingBufferColourNicknames,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.settingBufferColourNicknames=n.concat([a])):r>-1&&(e.settingBufferColourNicknames=n.slice(0,r).concat(n.slice(r+1)))}else e.settingBufferColourNicknames=s}}})]),n("label",{staticClass:"u-checkbox-wrapper"},[n("span",[e._v(e._s(e.$t("settings_share_typing"))+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingBufferShareTyping,expression:"settingBufferShareTyping"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settingBufferShareTyping)?e._i(e.settingBufferShareTyping,null)>-1:e.settingBufferShareTyping},on:{change:function(t){var n=e.settingBufferShareTyping,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.settingBufferShareTyping=n.concat([a])):r>-1&&(e.settingBufferShareTyping=n.slice(0,r).concat(n.slice(r+1)))}else e.settingBufferShareTyping=s}}})]),n("label",{staticClass:"u-checkbox-wrapper"},[n("span",[e._v(e._s(e.$t("settings_show_inline_previews"))+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingBufferInlineLinkPreviews,expression:"settingBufferInlineLinkPreviews"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settingBufferInlineLinkPreviews)?e._i(e.settingBufferInlineLinkPreviews,null)>-1:e.settingBufferInlineLinkPreviews},on:{change:function(t){var n=e.settingBufferInlineLinkPreviews,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.settingBufferInlineLinkPreviews=n.concat([a])):r>-1&&(e.settingBufferInlineLinkPreviews=n.slice(0,r).concat(n.slice(r+1)))}else e.settingBufferInlineLinkPreviews=s}}})])])]),n("div",{staticClass:"kiwi-appsettings-block"},[n("h3",[e._v(e._s(e.$t("notifications")))]),n("div",{staticClass:"kiwi-appsettings-section kiwi-appsettings-notifications"},[n("label",{staticClass:"kiwi-appsettings-setting-showjoinpart u-checkbox-wrapper"},[n("span",[e._v(e._s(e.$t("settings_show_joinpart"))+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingBufferTrafficAsActivity,expression:"settingBufferTrafficAsActivity"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settingBufferTrafficAsActivity)?e._i(e.settingBufferTrafficAsActivity,null)>-1:e.settingBufferTrafficAsActivity},on:{change:function(t){var n=e.settingBufferTrafficAsActivity,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.settingBufferTrafficAsActivity=n.concat([a])):r>-1&&(e.settingBufferTrafficAsActivity=n.slice(0,r).concat(n.slice(r+1)))}else e.settingBufferTrafficAsActivity=s}}})]),n("label",{staticClass:"u-checkbox-wrapper"},[n("span",[e._v(e._s(e.$t("settings_mute_sound"))+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingBufferMuteSound,expression:"settingBufferMuteSound"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.settingBufferMuteSound)?e._i(e.settingBufferMuteSound,null)>-1:e.settingBufferMuteSound},on:{change:function(t){var n=e.settingBufferMuteSound,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.settingBufferMuteSound=n.concat([a])):r>-1&&(e.settingBufferMuteSound=n.slice(0,r).concat(n.slice(r+1)))}else e.settingBufferMuteSound=s}}})]),n("label",{staticClass:"kiwi-appsettings-full"},[n("span",[e._v(e._s(e.$t("settings_highlight"))+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingHighlights,expression:"settingHighlights"}],staticClass:"u-input",attrs:{type:"text"},domProps:{value:e.settingHighlights},on:{input:function(t){t.target.composing||(e.settingHighlights=t.target.value)}}})])])]),n("div",{staticClass:"kiwi-appsettings-block"},[n("h3",[e._v(e._s(e.$t("operator_tools")))]),n("div",{staticClass:"kiwi-appsettings-section kiwi-appsettings-operator-tools"},[n("label",[n("span",[e._v(e._s(e.$t("settings_default_ban_mask"))+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingDefaultBanMask,expression:"settingDefaultBanMask"}],staticClass:"u-input",domProps:{value:e.settingDefaultBanMask},on:{input:function(t){t.target.composing||(e.settingDefaultBanMask=t.target.value)}}})]),n("label",[n("span",[e._v(e._s(e.$t("settings_default_kick_reason")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.settingDefaultKickReason,expression:"settingDefaultKickReason"}],staticClass:"u-input",domProps:{value:e.settingDefaultKickReason},on:{input:function(t){t.target.composing||(e.settingDefaultKickReason=t.target.value)}}})])])]),e.$state.setting("hide_advanced")||e.settingAdvancedEnable?e._e():n("div",{staticClass:"kiwi-appsettings-block"},[n("h3",[e._v(e._s(e.$t("settings_advanced_title")))]),n("div",{staticClass:"kiwi-appsettings-section kiwi-appsettings-advanced-enable"},[n("div",[n("span",{staticStyle:{"font-weight":"600"}},[e._v(" "+e._s(e.$t("warning"))+" ")]),e._v(" "+e._s(e.$t("settings_advanced_warning"))+" ")]),n("div",{staticStyle:{"margin-top":"10px","text-align":"center"}},[n("a",{staticClass:"u-button u-button-warning",on:{click:function(t){return e.enableAdvancedTab()}}},[n("i",[e._v(e._s(e.$t("settings_advanced_button")))])])])])])]),n("tabbed-tab",{attrs:{header:e.$t("settings_aliases"),name:"aliases"}},[n("div",{staticClass:"kiwi-appsettings-block kiwi-appsettings-block-aliases"},[n("h3",[e._v(e._s(e.$t("settings_aliases")))]),n("div",{staticClass:"kiwi-appsettings-section kiwi-appsettings-aliases"},[n("settings-aliases")],1)])]),e.settingAdvancedEnable?n("tabbed-tab",{attrs:{header:e.$t("settings_advanced"),name:"advanced"}},[n("div",{staticClass:"kiwi-appsettings-block kiwi-appsettings-block-advanced"},[n("div",{staticClass:"kiwi-appsettings-section kiwi-appsettings-advanced"},[n("settings-advanced")],1)])]):e._e(),e._l(e.pluginUiElements,(function(t){return n("tabbed-tab",{key:t.id,attrs:{header:t.title,name:t.title}},[n(t.component,e._b({tag:"div"},"div",t.props,!1))],1)}))],2)],1)])},s=[]},c00a:function(e,t,n){"use strict";var i=n("ed03"),s=n.n(i);s.a},c028:function(e,t,n){"use strict";n.r(t);var i=n("32ee"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},c111:function(e,t,n){"use strict";n.r(t);var i=n("2572"),s=n("8e04");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("f6d9");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},c2a9:function(e,t,n){"use strict";n.r(t);var i=n("7189"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},c2ba:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-settings-aliases"},[n("form",{staticClass:"u-form"},[n("a",{staticClass:"u-link kiwi-settings-aliases-showhelp",on:{click:function(t){e.show_help=!e.show_help}}},[e._v(" "+e._s(e.$t("what_are_aliases"))+" ")]),e.show_help?n("div",{staticClass:"kiwi-settings-aliases-help"},[n("p",[e._v("Aliases let you rename existing IRC commands or even build entirely new ones.")]),e._m(0),n("h4",[e._v("Variables")]),e._m(1),e._m(2),n("h4",[e._v("Helper commands")]),e._m(3)]):e._e(),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.aliasText,expression:"aliasText"}],staticClass:"kiwi-settings-aliases-input",domProps:{value:e.aliasText},on:{input:function(t){t.target.composing||(e.aliasText=t.target.value)}}})])])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v(" They must be one per line and in the form of "),n("em",[e._v("/name /what it should do")]),e._v(". ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v(" There are several variables that may be used to refer to the current environment such as the active channel or active nick. "),n("ul",[n("li",[n("em",[e._v("$server")]),e._v(" The current network name")]),n("li",[n("em",[e._v("$channel / $destination")]),e._v(" The current channel / buffer name")]),n("li",[n("em",[e._v("$nick")]),e._v(" The current nick")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v(" You can also use variables to read input from the typed command. "),n("br"),n("ul",[n("li",[n("em",[e._v("$0")]),e._v(" The command name")]),n("li",[n("em",[e._v("$1")]),e._v(" The first argument from the typed input")]),n("li",[n("em",[e._v("$2")]),e._v(" The second argument from the typed input")]),n("li",[n("em",[e._v("$1+")]),e._v(" From the first argument to the last argument")])]),n("b",[e._v("Example 1:")]),e._v(" "),n("em",[e._v("/greet /msg $1 Hello, $1!")]),n("br"),e._v(' This creates an IRC command /greet that accepts one argument. Typing "/greet username" will execute "/msg username Hello, username!". '),n("br"),n("b",[e._v("Example 2:")]),e._v(" "),n("em",[e._v("/ban /quote mode $channel +b $1+")]),n("br"),e._v(' This creates an IRC command /ban that does a few things. Typing "/ban nick1 nick2" will execute "/quote mode #activechannel +b nick1 nick2". $channel is replaced with the active channel name, $1+ is replaced with all the typed input from the first word to the end. ')])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("ul",[n("li",[n("em",[e._v("/echo")]),n("br"),e._v("Sends a message to the active buffer without sending it to the IRC network. Eg, /echo Something happened ")]),n("li",[n("em",[e._v("/lines")]),n("br"),e._v(' Similar to Mirc script, this lets you execute multiples lines of commands separated by a pipe, "|".'),n("br"),e._v(' Example: "/lines /ban nick1 | /echo Banned user" would first execute the /ban command, and then the /echo command. This comes in handy with creating short aliases such as the common "/cycle" command that parts and re-joins the active channel: "/cycle /lines /part $channel | /join $channel". ')])])])}]},c35c:function(e,t,n){"use strict";n.r(t);var i=n("d66b"),s=n("ae96");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("563e");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},c842:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(e,t){var n=t._c;return n("div",{staticClass:"kiwi-messagelist-message kiwi-messagelist-message--text",class:["kiwi-messagelist-message-"+t.props.message.type,t.props.message.type_extra?"kiwi-messagelist-message-"+t.props.message.type+"-"+t.props.message.type_extra:"",t.props.ml.isMessageHighlight(t.props.message)?"kiwi-messagelist-message--highlight":"",t.props.ml.isHoveringOverMessage(t.props.message)?"kiwi-messagelist-message--hover":"",t.props.ml.buffer.last_read&&t.props.message.time>t.props.ml.buffer.last_read?"kiwi-messagelist-message--unread":"",t.props.message.nick.toLowerCase()===t.props.ml.ourNick.toLowerCase()?"kiwi-messagelist-message--own":"",t.props.ml.message_info_open===t.props.message?"kiwi-messagelist-message--info-open":"",t.props.ml.message_info_open&&t.props.ml.message_info_open!==t.props.message?"kiwi-messagelist-message--blur":"",t.props.message.user&&t.props.m().userMode(t.props.message.user)?"kiwi-messagelist-message--user-mode-"+t.props.m().userMode(t.props.message.user):"",t.data.staticClass],attrs:{"data-message-id":t.props.message.id,"data-nick":(t.props.message.nick||"").toLowerCase()},on:{click:function(e){return t.props.ml.onMessageClick(e,t.props.message,!0)},dblclick:function(e){return t.props.ml.onMessageDblClick(e,t.props.message)}}},[n("div",[t.props.ml.bufferSetting("show_timestamps")?n("span",{staticClass:"kiwi-messagelist-time"},[t._v(" "+t._s(t.props.ml.formatTime(t.props.message.time))+" ")]):t._e(),n("span",{class:["kiwi-messagelist-nick",t.props.message.user&&t.props.m().userMode(t.props.message.user)?"kiwi-messagelist-nick--mode-"+t.props.m().userMode(t.props.message.user):""],style:{color:t.props.ml.userColour(t.props.message.user)},attrs:{"data-nick":(t.props.message.nick||"").toLowerCase()},on:{mouseover:function(e){t.props.ml.hover_nick=t.props.message.nick.toLowerCase()},mouseout:function(e){t.props.ml.hover_nick=""}}},[n("span",{staticClass:"kiwi-messagelist-nick--prefix"},[t._v(" "+t._s(t.props.message.user?t.props.m().userModePrefix(t.props.message.user):"")+" ")]),n("a",{attrs:{"data-nick":(t.props.message.nick||"").toLowerCase()}},[t._v(" "+t._s(t.props.m().displayNick())+" ")])]),t.props.message.bodyTemplate&&t.props.message.bodyTemplate.$el?n("div",{directives:[{name:"rawElement",rawName:"v-rawElement",value:t.props.message.bodyTemplate.$el,expression:"props.message.bodyTemplate.$el"}],staticClass:"kiwi-messagelist-body"}):n("div",{staticClass:"kiwi-messagelist-body",domProps:{innerHTML:t._s(t.props.ml.formatMessage(t.props.message))}})]),t.props.ml.message_info_open===t.props.message?n(t.injections.components.MessageInfo,{tag:"component",attrs:{message:t.props.message,buffer:t.props.ml.buffer},on:{close:function(e){return t.props.ml.toggleMessageInfo()}}}):t._e(),t.props.message.embed.payload?n("div",[n(t.injections.components.MediaViewer,{tag:"component",attrs:{url:t.props.message.embed.payload,"show-pin":!0},on:{close:function(e){t.props.message.embed.payload=""},pin:function(e){return t.props.ml.openEmbedInPreview(t.props.message)}}})],1):t._e()],1)},s=[]},c96d:function(e,t,n){"use strict";n.r(t);var i=n("9280"),s=n("cea1");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("2246");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},cb48:function(e,t,n){"use strict";var i=n("2e72"),s=n.n(i);s.a},cb84:function(e,t,n){},cbf5:function(e,t,n){},ccc0:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("65b8")),r=n("5a16"),o=i(n("9c24")),c=i(n("787b")),u=i(n("462f")),l=i(n("3b2f")),f={props:{},showRealName:function(){var e=this.props;if(!e.ml.buffer.setting("show_realnames"))return!1;var t=e.ml.buffer.getNetwork().ircClient;return!!t.network.cap.isEnabled("extended-join")&&(!(!e.message.user||!e.message.user.realname)&&(e.message.user.nick.toLowerCase()!==e.message.user.realname.toLowerCase()&&!r.urlRegex.test(e.message.user.realname)))},getNetwork:function(){var e=this.props;return e.ml.buffer.getNetwork()},isRepeat:function(){var e=this.props,t=e.ml,n=e.idx,i=e.message,s=t.filteredMessages[n-1];return!!s&&s.nick===i.nick&&i.time-s.time<6e4&&"traffic"!==s.type&&"traffic"!==i.type&&i.type===s.type},isHoveringOverMessage:function(e){var t=this.props;return e.nick&&e.nick.toLowerCase()===t.ml.hover_nick.toLowerCase()},isMessage:function(e){var t=["privmsg","action","notice","message"];return(0,a.default)(t).call(t,e.type)>-1},displayAvatar:function(e){var t=this.props;return!!e.user&&(!t.ml.buffer.isServer()&&!t.ml.buffer.isSpecial())},userMode:function(e){var t=this.props;return t.ml.buffer.userMode(e)},userModePrefix:function(e){var t=this.props;return t.ml.buffer.userModePrefix(e)}},d={inject:{components:{default:{MessageAvatar:c.default,MessageInfo:o.default,AwayStatusIndicator:u.default,MediaViewer:l.default}}},props:{ml:Object,message:Object,idx:Number,m:{default:function(){return function(){return f.props=this,f}}}}};t.default=d,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["MessageListMessageModern"],window._kiwi_exports.components.MessageListMessageModern=t.default?t.default:t},ccca:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("e4f0")),r=i(n("44a4"));function o(e){return{get:function(){return this.modeVal(e)},set:function(t){return this.setMode((t?"+":"-")+e)}}}function c(e){return{get:function(){var t=this.modeVal(e);return!1===t?"":t},set:function(t){t?this.setMode("+"+e,t):this.setMode("-"+e,this.modeVal(e))}}}var u={props:["buffer"],data:function(){return{showPrevTopics:!1}},computed:{modeM:o("m"),modeI:o("i"),modeT:o("t"),modeN:o("n"),modeK:c("k"),topic:{get:function(){return this.buffer.topic},set:function(e){var t=e.replace("\n"," ");(0,r.default)(t).call(t)?this.buffer.getNetwork().ircClient.setTopic(this.buffer.name,t):this.buffer.getNetwork().ircClient.raw("TOPIC ".concat(this.buffer.name," :"))}},prevTopics:function(){var e;return(0,a.default)(e=this.buffer.topics).call(e,(function(e){return(0,r.default)(e).call(e)}))}},methods:{updateBanList:function(){this.buffer.getNetwork().ircClient.raw("MODE",this.buffer.name,"+b")},setMode:function(e,t){this.buffer.getNetwork().ircClient.raw("MODE",this.buffer.name,e,t)},modeVal:function(e){var t=!1;return t="undefined"!==typeof this.buffer.modes[e]&&(!this.buffer.modes[e]||this.buffer.modes[e]),t},areWeAnOp:function(){return this.buffer.isUserAnOp(this.buffer.getNetwork().nick)}}};t.default=u,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["ChannelInfo"],window._kiwi_exports.components.ChannelInfo=t.default?t.default:t},ccf5:function(e,t,n){"use strict";var i=n("e3cb"),s=n.n(i);s.a},cd21:function(e,t,n){"use strict";n.r(t);var i=n("a4a2"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},cd87:function(e,t,n){},cea1:function(e,t,n){"use strict";n.r(t);var i=n("3a28"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},cee1:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-header kiwi-theme-bg",on:{click:e.onHeaderClick}},[e.isChannel()?[n("div",{staticClass:"kiwi-header-name-container"},[n("div",{staticClass:"kiwi-header-name"},[e._v(e._s(e.buffer.name))])]),e.isJoined&&e.isConnected?n("div",{key:e.buffer.id,staticClass:"kiwi-header-options"},[e._l(e.pluginUiChannelElements,(function(e){return n("div",{directives:[{name:"rawElement",rawName:"v-rawElement",value:e.el,expression:"plugin.el"}],key:e.id,staticClass:"kiwi-header-option"})})),n("div",{staticClass:"kiwi-header-option kiwi-header-option-about",class:{"kiwi-header-option--active":"about"===e.sidebarSection}},[n("a",{attrs:{title:e.$t("more_information")},on:{click:function(t){return e.sidebarState.toggleAbout()}}},[n("i",{staticClass:"fa fa-info",attrs:{"aria-hidden":"true"}})])]),n("div",{staticClass:"kiwi-header-option kiwi-header-option-nicklist",class:{"kiwi-header-option--active":"nicklist"===e.sidebarSection||"user"===e.sidebarSection}},[n("a",{attrs:{title:e.$t("person",{count:Object.keys(e.buffer.users).length})},on:{click:function(t){return e.sidebarState.toggleNicklist()}}},[n("i",{staticClass:"fa fa-users",attrs:{"aria-hidden":"true"}}),n("span",[e._v(e._s(Object.keys(e.buffer.users).length))])])]),n("div",{staticClass:"kiwi-header-option kiwi-header-option-settings",class:{"kiwi-header-option--active":"settings"===e.sidebarSection}},[n("a",{attrs:{title:e.$t("channel_settings")},on:{click:function(t){return e.sidebarState.toggleBufferSettings()}}},[n("i",{staticClass:"fa fa-cog",attrs:{"aria-hidden":"true"}})])]),e.sidebarState.isPinned?n("div",{staticClass:"kiwi-header-option kiwi-header-option-unpinsidebar"},[n("a",{on:{click:function(t){return e.sidebarState.unpin()}}},[n("i",{staticClass:"fa fa-thumb-tack",attrs:{"aria-hidden":"true"}})])]):e._e()],2):e._e(),!e.isJoined&&e.isConnected?n("div",{staticClass:"kiwi-header-notjoined"},[n("a",{staticClass:"u-link kiwi-header-join-channel-button",on:{click:e.joinCurrentBuffer}},[e._v(" "+e._s(e.$t("container_join"))+" ")])]):e._e(),n("transition",{attrs:{name:"kiwi-header-prompttrans"}},[e.prompts.closeChannel?n("input-confirm",{staticClass:"kiwi-header-prompt",attrs:{label:e.$t("prompt_leave_channel"),"flip-connotation":!0},on:{ok:e.closeCurrentBuffer,submit:function(t){e.prompts.closeChannel=!1}}}):e._e()],1)]:e.isServer()?[n("div",{staticClass:"kiwi-header-name-container"},[n("div",{staticClass:"kiwi-header-name"},[e._v(" "+e._s(e.buffer.getNetwork().name)+" ")])]),n("div",{staticClass:"kiwi-header-server-connection"},["disconnected"===e.buffer.getNetwork().state?n("a",{staticClass:"u-button u-button-primary",on:{click:e.onConnectButtonClick}},[e._v(" "+e._s(e.$t("connect"))+" ")]):"connecting"===e.buffer.getNetwork().state?n("span",[n("i",{staticClass:"fa fa-spin fa-spinner",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("connecting"))+" ")]):e._e()])]:e.isQuery()?[n("div",{staticClass:"kiwi-header-name-container"},[n("div",{staticClass:"kiwi-header-name"},[n("away-status-indicator",{staticClass:"kiwi-header-awaystatus",attrs:{network:e.buffer.getNetwork(),user:e.network.userByName(e.buffer.name)}}),e._v(" "+e._s(e.buffer.name)+" ")],1)]),n("div",{key:e.buffer.id,staticClass:"kiwi-header-options"},[e.userOnline?n("div",{staticClass:"kiwi-header-option kiwi-header-option-user",class:{"kiwi-header-option--active":"user"===e.sidebarSection}},[n("a",{on:{click:function(t){return e.toggleUser()}}},[n("i",{staticClass:"fa fa-user",attrs:{"aria-hidden":"true"}})])]):e._e(),e._l(e.pluginUiQueryElements,(function(e){return n("div",{directives:[{name:"rawElement",rawName:"v-rawElement",value:e.el,expression:"plugin.el"}],key:e.id,staticClass:"kiwi-header-option"})})),n("div",{staticClass:"kiwi-header-option kiwi-header-option-leave"},[n("a",{on:{click:e.closeCurrentBuffer}},[n("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])])],2)]:e.isSpecial()?[n("div",{staticClass:"kiwi-header-name-container"},[n("div",{staticClass:"kiwi-header-name"},[e._v(e._s(e.buffer.name))])]),n("div",{staticClass:"kiwi-header-options"},[n("div",{staticClass:"kiwi-header-option kiwi-header-option-leave"},[n("a",{on:{click:e.closeCurrentBuffer}},[n("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])])])]:e._e()],2)},s=[]},cee4:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("b6ce")),r=i(n("4573")),o=i(n("f391")),c=i(n("5ea5")),u=i(n("f21b")),l=i(n("1f5b")),f=i(n("1fe6")),d={components:{ContainerHeader:o.default,Sidebar:c.default,NotConnected:u.default,MessageList:l.default,ServerView:f.default},props:["network","buffer","sidebarState"],data:function(){return{}},computed:{bufferType:function(){var e="";return this.buffer?this.buffer.isServer()?e="server":this.buffer.isChannel()?e="channel":this.buffer.isQuery()&&(e="query"):e="none",e},unreadMessages:function(){var e,t=0,n=!1;return(0,r.default)(e=this.$state.networks).call(e,(function(e){var i;(0,r.default)(i=e.buffers).call(i,(function(e){t+=(0,a.default)(e).unread||0,(0,a.default)(e).highlight&&(n=!0)}))})),{count:t,highlight:n}}},created:function(){var e=this;this.listen(this.$state,"sidebar.toggle",(function(){e.$state.$emit("sidebar."+(e.sidebarState.isDrawn?"hide":"show"))})),this.listen(this.$state,"sidebar.show",(function(){e.sidebarState.showNicklist()})),this.listen(this.$state,"sidebar.hide",(function(){e.sidebarState.close()})),this.listen(this.$state,"userbox.show",(function(t,n){e.sidebarState.showUser(t)})),this.listen(this.$state,"userbox.hide",(function(){e.sidebarState.close()})),this.listen(this.$state,"document.keydown",(function(t){if(33===t.keyCode||34===t.keyCode){var n=e.$el.querySelector(".kiwi-messagelist")||e.$el.querySelector(".u-tabbed-content");if(n){var i=n.clientHeight-.1*n.clientHeight,s=n.scrollTop,a=n.scrollHeight;33===t.keyCode?(s-=i,s<0&&(s=0)):(s+=i,s>a&&(s=a)),n.scrollTop=s}}}))},methods:{toggleStateBrowser:function(){this.$state.$emit("statebrowser.toggle")},toggleSidebar:function(){this.buffer.isChannel()&&this.$state.$emit("sidebar.toggle")}}};t.default=d,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["Container"],window._kiwi_exports.components.Container=t.default?t.default:t},cf54:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-customserver",class:[e.is_connecting?"kiwi-customserver--connecting":""]},[n("div",{staticClass:"kiwi-customserver-container"},[e.is_connecting?n("h2",[e._v(" "+e._s(e.$t("connecting"))+" "),n("a",{staticClass:"u-link",on:{click:e.infoClick}},[n("i",{staticClass:"fa fa-info-circle",attrs:{"aria-hidden":"true"}})])]):n("h2",{domProps:{innerHTML:e._s(e.title)}}),n("transition",{attrs:{name:"kiwi-connectingloader"}},[e.is_connecting?n("div",{staticClass:"kiwi-customserver-loader"},[n("i",{staticClass:"fa fa-spin fa-spinner",attrs:{"aria-hidden":"true"}})]):n("form",{staticClass:"u-form u-form--big kiwi-customserver-form",on:{submit:function(t){return t.preventDefault(),e.startUp(t)}}},[e.network&&e.network.state_error?n("div",{staticClass:"kiwi-customserver-error"},[e._v(" We couldn't connect to the server :( "),n("span",[e._v(e._s(e.readableStateError(e.network.state_error)))])]):e._e(),"default"===e.server_type?[n("input-text",{attrs:{label:e.$t("server")},model:{value:e.server,callback:function(t){e.server=t},expression:"server"}},[n("span",{staticClass:"fa-stack fa-lg kiwi-customserver-tls",class:[e.tls?"kiwi-customserver-tls--enabled":""],on:{click:function(t){e.tls=!e.tls}}},[n("i",{staticClass:"fa fa-lock fa-stack-1x kiwi-customserver-tls-lock"}),e.tls?e._e():n("i",{staticClass:"fa fa-times fa-stack-1x kiwi-customserver-tls-minus"})])]),n("input-text",{staticClass:"kiwi-customserver-nick",attrs:{label:e.$t("nick")},model:{value:e.nick,callback:function(t){e.nick=t},expression:"nick"}}),n("label",{staticClass:"kiwi-customserver-have-password"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.show_password_box,expression:"show_password_box"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.show_password_box)?e._i(e.show_password_box,null)>-1:e.show_password_box},on:{change:function(t){var n=e.show_password_box,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.show_password_box=n.concat([a])):r>-1&&(e.show_password_box=n.slice(0,r).concat(n.slice(r+1)))}else e.show_password_box=s}}}),n("span",[e._v(" "+e._s(e.$t("password_have"))+" ")])]),e.show_password_box?n("input-text",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{label:e.$t("password"),"show-plain-text":!0,type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}):e._e(),n("input-text",{attrs:{label:e.$t("channel")},model:{value:e.channel,callback:function(t){e.channel=t},expression:"channel"}})]:e._e(),"default_simple"===e.server_type?[n("input-text",{staticClass:"kiwi-customserver-nick",attrs:{label:e.$t("nick")},model:{value:e.nick,callback:function(t){e.nick=t},expression:"nick"}}),n("label",{staticClass:"kiwi-customserver-have-password"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.show_password_box,expression:"show_password_box"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.show_password_box)?e._i(e.show_password_box,null)>-1:e.show_password_box},on:{change:function(t){var n=e.show_password_box,i=t.target,s=!!i.checked;if(Array.isArray(n)){var a=null,r=e._i(n,a);i.checked?r<0&&(e.show_password_box=n.concat([a])):r>-1&&(e.show_password_box=n.slice(0,r).concat(n.slice(r+1)))}else e.show_password_box=s}}}),n("span",[e._v(e._s(e.$t("password_have")))])]),e.show_password_box?n("input-text",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{label:e.$t("password"),type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}):e._e(),n("input-text",{staticClass:"kiwi-customserver-channel",attrs:{label:e.$t("channel")},model:{value:e.channel,callback:function(t){e.channel=t},expression:"channel"}})]:e._e(),"znc"===e.server_type?[n("input-text",{attrs:{label:e.$t("server")},model:{value:e.server,callback:function(t){e.server=t},expression:"server"}},[n("span",{staticClass:"fa-stack fa-lg kiwi-customserver-tls",class:[e.tls?"kiwi-customserver-tls--enabled":""],on:{click:function(t){e.tls=!e.tls}}},[n("i",{staticClass:"fa fa-lock fa-stack-1x kiwi-customserver-tls-lock"}),e.tls?e._e():n("i",{staticClass:"fa fa-times fa-stack-1x kiwi-customserver-tls-minus"})])]),n("input-text",{staticClass:"kiwi-customserver-nick",attrs:{label:e.$t("username")},model:{value:e.nick,callback:function(t){e.nick=t},expression:"nick"}}),e.znc_network_support?n("input-text",{attrs:{label:e.$t("network")},model:{value:e.znc_network,callback:function(t){e.znc_network=t},expression:"znc_network"}}):e._e(),n("input-text",{attrs:{label:e.$t("password"),type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})]:e._e(),n("button",{staticClass:"u-button u-button-primary u-submit",attrs:{type:"submit"}},[e._v(" "+e._s(e.buttonText)+" ")]),e.show_type_switcher?n("div",{staticClass:"kiwi-customserver-server-types"},[n("a",{staticClass:"u-link",on:{click:function(t){e.server_type="default"}}},[e._v(e._s(e.$t("network")))]),n("a",{staticClass:"u-link",on:{click:function(t){e.server_type="znc"}}},[e._v(e._s(e.$t("znc")))])]):e._e()],2)])],1)])},s=[]},d0fe:function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("3002")),o=s(n("2b0b")),c=s(n("fa81")),u=s(n("4573")),l=s(n("a3e3")),f=s(n("8fa2")),d=s(n("14b1")),p=s(n("3393")),h=s(n("44a4")),w=s(n("65b8")),m=s(n("2ef0")),v=i(n("5a16")),_=i(n("934b")),g=s(n("6150")),k=s(n("385f")),b=s(n("474e")),y=s(n("5bc7")),C=s(n("c111")),x=s(n("1bb3")),$=s(n("462f")),S=s(n("28e2")),N={components:{AutoComplete:b.default,AwayStatusIndicator:$.default,SelfUser:x.default,TypingUsersList:S.default},props:["container","buffer"],data:function(){return{self:this,selfuser_open:!1,autocomplete_open:!1,autocomplete_items:[],autocomplete_filter:"",autocomplete_filtering:!0,active_tool:null,active_tool_props:{},pluginUiElements:k.default.singleton().controlInputPlugins,showPlugins:!0,current_input_value:"",has_focus:!1}},computed:{currentNick:function(){var e=this.$state.getActiveNetwork();return e?e.nick:""},networkState:function(){var e=this.$state.getActiveNetwork();return e?e.state:""},shouldShowSendButton:function(){return this.$state.ui.is_touch||this.$state.setting("showSendButton")},shouldShowEmojiPicker:function(){return this.$state.setting("showEmojiPicker")&&!this.$state.ui.is_touch},shouldShowColorPicker:function(){return this.$state.setting("showColorPicker")},shouldShowInputButtons:function(){return!!(this.pluginUiElements.length||this.shouldShowEmojiPicker||this.shouldShowColorPicker)},history:function(){return this.$state.setting("buffers.shared_input")?this.$state.ui.input_history:this.buffer.input_history},history_pos:{get:function(){return this.$state.setting("buffers.shared_input")?this.$state.ui.input_history_pos:this.buffer.input_history_pos},set:function(e){this.$state.setting("buffers.shared_input")?this.$state.ui.input_history_pos=e:this.buffer.input_history_pos=e}}},watch:{history_pos:function(e){var t=this.history[this.history_pos];this.$refs.input.setValue(t||"")},buffer:function(){this.$state.setting("buffers.shared_input")||this.inputRestore(),this.autocomplete_open=!1}},created:function(){var e=this;this.typingTimer=null,this.lastTypingTime=0,this.listen(this.$state,"document.keydown",(function(t){if(e.$refs.input&&!(t.ctrlKey||t.altKey||t.metaKey)&&16!==t.keyCode&&17!==t.keyCode){var n=[37,38,39,40];if(!t.shiftKey||-1===(0,w.default)(n).call(n,t.keyCode)){var i=["input","select","textarea","button","datalist","keygen"],s=(0,w.default)(i).call(i,t.target.tagName.toLowerCase())>-1||t.target.getAttribute("contenteditable");s||e.$refs.input.focus()}}})),this.listen(this.$state,"input.insertnick",(function(t){if(e.$refs.input){var n=t;""===e.current_input_value?n+=": ":n+=" ",e.$refs.input.insertText(n)}})),this.listen(this.$state,"input.tool",(function(t){e.toggleInputTool(t)}))},mounted:function(){this.inputRestore()},methods:{inputUpdate:function(e){this.current_input_value=e,this.$state.setting("buffers.shared_input")?this.$state.ui.current_input=e:this.buffer.current_input=e,this.maybeHidePlugins()},inputRestore:function(){var e=this.$state.setting("buffers.shared_input")?this.$state.ui.current_input:this.buffer.current_input;this.$refs.input.reset(e),this.$refs.input.selectionToEnd()},toggleSelfUser:function(){"connected"===this.networkState&&(this.selfuser_open=!this.selfuser_open)},maybeHidePlugins:function(){this.$state.ui.app_width<500&&(this.showPlugins=!1)},onToolClickTextStyle:function(){this.toggleInputTool(y.default)},onToolClickEmoji:function(){this.toggleInputTool(C.default)},closeInputTool:function(){this.active_tool=null},toggleInputTool:function(e){e&&this.active_tool!==e?(this.active_tool_props={buffer:this.buffer,ircinput:this.$refs.input},this.active_tool=e):this.active_tool=null},toggleBold:function(){this.$refs.input.toggleBold()},toggleItalic:function(){this.$refs.input.toggleItalic()},toggleUnderline:function(){this.$refs.input.toggleUnderline()},onAutocompleteCancel:function(){this.autocomplete_open=!1},onAutocompleteTemp:function(e,t){this.autocomplete_filtering||this.$refs.input.setCurrentWord(e)},onAutocompleteSelected:function(e,t){var n=e;this.$refs.input.setCurrentWord(n),this.autocomplete_open=!1},inputKeyDown:function(e){var t,n=this,i=!1;if(i=-1!==(0,w.default)(t=navigator.appVersion).call(t,"Mac")?e.metaKey:e.ctrlKey,!this.autocomplete_open||!this.$refs.autocomplete.handleOnKeyDown(e))if(this.autocomplete_open&&!this.autocomplete_filtering&&this.$refs.autocomplete.selectCurrentItem(),13!==e.keyCode||(!e.altKey||e.shiftKey||e.metaKey||e.ctrlKey)&&(!e.shiftKey||e.altKey||e.metaKey||e.ctrlKey))if(13===e.keyCode)e.preventDefault(),this.submitForm();else if(32===e.keyCode){if(this.$state.setting("buffers.show_emoticons")){var s=this.$refs.input.getCurrentWord(),a=this.$state.setting("emojis");if(a.hasOwnProperty(s.word)){var r=a[s.word],o=this.$state.setting("emojiLocation")+r+".png";this.$refs.input.setCurrentWord(""),this.$refs.input.addImg(s.word+" ",o)}}}else if(38===e.keyCode)e.preventDefault(),this.historyBack(),this.$nextTick((function(){n.$refs.input.selectionToEnd()}));else if(40===e.keyCode)e.preventDefault(),this.historyForward(),this.$nextTick((function(){n.$refs.input.selectionToEnd()}));else if(9!==e.keyCode||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey)i&&75===e.keyCode?(this.toggleInputTool(y.default),e.preventDefault()):i&&66===e.keyCode?(this.toggleBold(),e.preventDefault()):i&&73===e.keyCode?(this.toggleItalic(),e.preventDefault()):i&&85===e.keyCode&&(this.toggleUnderline(),e.preventDefault());else{var c=this.$refs.input.getCurrentWord(),u=c.word.substr(0,c.position),l=this.$refs.input.getRawText(),f=[];f=0===(0,w.default)(l).call(l,"/set")?this.buildAutoCompleteItems({settings:!0}):this.buildAutoCompleteItems({users:!0,buffers:!0}),this.openAutoComplete(f),this.autocomplete_filter=u,this.autocomplete_filtering=!1,e.preventDefault()}else e.preventDefault(),this.$refs.input.insertText("\n")},inputKeyUp:function(e){var t=this.$refs.input.getRawText(),n=this.$refs.input.getCurrentWord(),i=n.word.substr(0,n.position);27===e.keyCode&&this.autocomplete_open||this.autocomplete_open&&""===i?this.autocomplete_open=!1:this.autocomplete_open?"@"===i[0]&&(i=i.substr(1)):"@"===i?(this.openAutoComplete(this.buildAutoCompleteItems({users:!0})),this.autocomplete_filtering=!0):"/"===t?(this.openAutoComplete(this.buildAutoCompleteItems({commands:!0})),this.autocomplete_filtering=!0):"#"===i?(this.openAutoComplete(this.buildAutoCompleteItems({buffers:!0})),this.autocomplete_filtering=!0):9!==e.keyCode||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey?e.key.match(/^(Shift|Control|Alt|Enter)/)||((0,h.default)(t).call(t)?this.startTyping():this.stopTyping(!0)):e.preventDefault(),this.autocomplete_open&&this.autocomplete_filtering&&(this.autocomplete_filter=i)},submitForm:function(){var e,t=this.$refs.input.getValue();if(t){var n=this.$refs.input.buildIrcText();this.$state.$emit("input.raw",n),this.history.push(t),(0,p.default)(e=this.history).call(e,0,this.history.length-50),this.history_pos=this.history.length,this.$refs.input.reset(),this.stopTyping(!1)}},historyBack:function(){this.history_pos>0&&this.history_pos--},historyForward:function(){this.history_pos<this.history.length&&this.history_pos++},openAutoComplete:function(e){this.$state.setting("showAutocomplete")&&(this.autocomplete_items=e,this.autocomplete_open=!0)},buildAutoCompleteItems:function(e){var t=e||{},n=[];if(t.users){var i,s=(0,d.default)(i=(0,f.default)(m.default).call(m.default,this.buffer.users)).call(i,(function(e){var t={text:e.nick,type:"user"};return t}));this.buffer.isQuery()&&s.push({text:this.buffer.name,type:"user"}),n=(0,l.default)(n).call(n,s)}if(t.buffers){var a,r=[];(0,u.default)(a=this.buffer.getNetwork().buffers).call(a,(function(e){e.isChannel()&&r.push({text:e.name,type:"buffer"})})),n=(0,l.default)(n).call(n,r)}if(t.commands){var o=[];(0,u.default)(g.default).call(g.default,(function(e){var t,n,i=0===(0,w.default)(t=e.description).call(t,"locale_id_")?v.t(e.description.substr(10)):e.description;o.push({text:"/"+e.command,description:i,type:"command",alias:(0,d.default)(n=e.alias||[]).call(n,(function(e){return"/"+e}))})})),n=(0,l.default)(n).call(n,o)}if(t.settings){var p,h={},k=[];_.buildTree(h,k,this.$state.getSetting("settings"),!1),_.buildTree(h,k,this.$state.getSetting("user_settings"),!0);var b=[];(0,u.default)(p=(0,c.default)(h)).call(p,(function(e){b.push({text:e,type:"setting"})})),n=(0,l.default)(n).call(n,b)}return n},startTyping:function(){var e=this.buffer.getNetwork();e.ircClient.network.cap.isEnabled("message-tags")&&this.buffer&&this.buffer.shouldShareTyping()&&(this.typingTimer&&(clearTimeout(this.typingTimer),this.typingTimer=null),this.typingTimer=(0,o.default)(this.stopTyping,3e3),(0,r.default)()<this.lastTypingTime+3e3||(e.ircClient.typing.start(this.buffer.name),this.lastTypingTime=(0,r.default)()))},stopTyping:function(e){var t,n=this.buffer.getNetwork();n.ircClient.network.cap.isEnabled("message-tags")&&this.buffer&&this.buffer.shouldShareTyping()&&(this.typingTimer&&(clearTimeout(this.typingTimer),this.typingTimer=null,this.lastTypingTime=0),e&&((0,h.default)(t=this.$refs.input.getRawText()).call(t)?n.ircClient.typing.pause(this.buffer.name):n.ircClient.typing.stop(this.buffer.name)))}}};t.default=N,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["ControlInput"],window._kiwi_exports.components.ControlInput=t.default?t.default:t},d1dd:function(e,t,n){"use strict";n.r(t);var i=n("53c1"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},d269:function(e,t,n){},d369:function(e,t){var n="<h3>Linking to your network /channel</h3> <p>Some quick examples on how you can link directly to your network or channels. Even better, embed them into an iframe directly on your website.</p> <ul> <li><a target=_blank href=https://kiwiirc.com/nextclient/irc.server.com/#channel>https://kiwiirc.com/nextclient/irc.server.com/#channel</a></li> <li><a target=_blank href=https://kiwiirc.com/nextclient/irc.server.com/#channel,#channel2>https://kiwiirc.com/nextclient/irc.server.com/#channel,#channel2</a></li> <li><a target=_blank href=https://kiwiirc.com/nextclient/#irc://irc.server.com/#channel,#channel2>https://kiwiirc.com/nextclient/#irc://irc.server.com/#channel,#channel2</a></li> </ul> <p>As a bonus, you can link to multiple IRC networks at the same time:</p> <ul> <li><a target=_blank href=https://kiwiirc.com/nextclient/#irc://irc.server.com/#channel;irc://irc.exmaple.net/#channel>https://kiwiirc.com/nextclient/#irc://irc.server.com/#channel;irc://irc.exmaple.net/#channel</a></li> </ul> <p>Or maybe you host a ZNC server and want to link to it:</p> <ul> <li><a target=_blank href=\"https://kiwiirc.com/nextclient/#irc://irc.server.com/#channel?type=znc&nick=username\">https://kiwiirc.com/nextclient/#irc://irc.server.com/#channel?type=znc&nick=username</a></li> </ul> <hr style=\"margin:4em 0\"/> <h3>What's new in Kiwi Next?</h3> <h4>Networks and settings remembered</h4> <p>All your settings and networks will be remembered for when you come back. You won't need to be re-entering your favourite networks every time you open Kiwi anymore.</p> <h4>Mobile and tablet support</h4> <p>Now that over 50% of internet usage is now on mobile, Kiwi has complete mobile support with new layouts and messages. Everything is accessible with just your fingers.</p> <h4>Embedded images and videos</h4> <p>Opening photos and videos within Kiwi now gets pinned at the bottom of the screen. This lets you switch channels, keep talking without it going off-screen, and have that permenant youtube video playing while you're talking.</p> <h4>ZNC integration</h4> <p>When connecting to a ZNC server, Kiwi will now automatically detect it and look for any other networks in your ZNC account. If any are found then they are shown in a list - just one click away from connecting to it.</p> <h4>Aliases editor</h4> <p>A full alias editor to create command aliases to handle users in your channel, administrate your network or project, or even join multiple commands into a single helpful command. Created by a simple text editor that lets you copy/paste/share your aliases wherever you please.</p> <h4>Raw IRC power</h4> <p>If you're a power IRC user or like to get indepth, Kiwi now uses the raw IRC protocol directly in the browser. Look at the raw IRC messages going back and forth, send raw commands, or use it's scripting to test out new protocol ideas and experiments.</p> <h4>The most IRCv3 compliant open source web IRC client</h4> <p>IRC is being pushed forward by the <a href=http://ircv3.net target=_blank>IRCv3 working group</a> which brings us new features that any IRC client can be using. Not only taking part, but Kiwi is one of the most IRCv3 complete web clients that exists.</p> ";e.exports=n},d3e9:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-serverview"},[n("div",{staticClass:"kiwi-serverview-inner"},[n("tabbed-view",{key:e.network.id,ref:"tabs",on:{changed:e.tabChanged}},[n("tabbed-tab",{attrs:{header:e.$t("messages"),focus:e.hasMessages,name:"messages"}},[n("message-list",{attrs:{buffer:e.serverBuffer}})],1),e.restrictedServer?e._e():n("tabbed-tab",{attrs:{header:e.$t("settings"),focus:!e.hasMessages,name:"settings"}},[n("network-settings",{attrs:{network:e.network}})],1),e.networkConnected?n("tabbed-tab",{attrs:{header:e.$t("channels"),name:"channels"}},[n("channel-list",{attrs:{network:e.network}})],1):e._e(),e._l(e.pluginUiElements,(function(t){return n("tabbed-tab",{key:t.id,attrs:{header:t.title}},[n(t.component,e._b({tag:"div"},"div",t.props,!1))],1)}))],2)],1)])},s=[]},d4b7:function(e,t,n){"use strict";var i=n("f664"),s=n.n(i);s.a},d587:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("e4f0")),r=i(n("acf5")),o=i(n("86b8")),c=i(n("385f")),u=i(n("ffd2")),l=i(n("f93d")),f=i(n("7a9c")),d=i(n("b4f0")),p=new o.default,h={components:{BufferSettings:d.default,StateBrowserNetwork:u.default,StateBrowserUsermenu:l.default},props:["networks","sidebarState"],data:function(){return{show_provided_networks:!1,provided_networks:(0,r.default)(null),pluginUiElements:c.default.singleton().stateBrowserPlugins}},computed:{getNetwork:function(){return this.$state.getActiveNetwork()},isPersistingState:function(){return!!this.$state.persistence},isRestrictedServer:function(){return!!this.$state.settings.restricted},networksToShow:function(){var e;return(0,a.default)(e=this.networks).call(e,(function(e){return!e.hidden}))}},created:function(){var e=this;p.on("networks",(function(t){e.provided_networks=t}))},methods:{clickAddNetwork:function(){var e="Guest"+Math.floor(100*Math.random()),t=this.$state.getNetworkFromAddress("");"undefined"===typeof t&&(t=this.$state.addNetwork("Network",e,{})),t.showServerBuffer("settings")},clickAppSettings:function(){this.$state.$emit("active.component.toggle",f.default)},hideStatebrowser:function(){this.$state.$emit("statebrowser.hide")},connectProvidedNetwork:function(e){var t=this.$state.addNetwork(e.name,e.nick,{server:e.server,port:e.port,tls:e.tls,password:e.password});t.ircClient.connect()}}};t.default=h,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["StateBrowser"],window._kiwi_exports.components.StateBrowser=t.default?t.default:t},d58a:function(e,t,n){"use strict";var i=n("2472"),s=n.n(i);s.a},d610:function(e,t,n){"use strict";n.r(t);var i=n("5fa6"),s=n("32f6");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("eb64");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},d66b:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-settings-advanced"},[n("div",{staticClass:"kiwi-settings-advanced-notice"},[e._v(e._s(e.$t("settings_advanced_header")))]),n("form",{staticClass:"u-form"},[n("div",{staticClass:"kiwi-settings-advanced-filter-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.filterString,expression:"filterString"}],staticClass:"u-input",attrs:{placeholder:e.$t("settings_advanced_filter")},domProps:{value:e.filterString},on:{input:function(t){t.target.composing||(e.filterString=t.target.value)}}}),e.filterString?n("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"},on:{click:function(t){e.filterString=""}}}):n("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})]),n("table",{staticClass:"u-table kiwi-settings-advanced-table",attrs:{cellspacing:"0"}},[0===e.filteredSettings.length?n("tr",[n("td",{staticClass:"kiwi-settings-advanced-noresult"},[e._v(" "+e._s(e.filterString)+" - "+e._s(e.$t("not_found"))+" ")])]):e._l(e.filteredSettings,(function(t){return n("tr",{key:t.key,class:{"kiwi-advanced-setting":!t.modified,"kiwi-advanced-setting--modified":t.modified}},[n("td",[n("label",{attrs:{for:"setting-"+t.key}},[e._v(e._s(t.key))])]),t.modified?n("td",[n("a",{staticClass:"u-link",on:{click:function(n){return e.resetValue(n,t.key)}}},[e._v(" "+e._s(e.$t("settings_advanced_reset"))+" "),n("i",{staticClass:"fa fa-undo",staticStyle:{"margin-left":"10px"}})])]):n("td"),n("td",["boolean"===t.type?n("input",{attrs:{id:"setting-"+t.key,type:"checkbox"},domProps:{checked:t.val},on:{change:function(n){return e.updateSetting(n,t.key)}}}):"number"===t.type?n("input",{staticClass:"u-input",attrs:{id:"setting-"+t.key,type:"number"},domProps:{value:t.val},on:{keydown:function(e){return e.type.indexOf("key")||13===e.keyCode?e.target.blur():null},change:function(n){return e.updateSetting(n,t.key)},blur:function(n){return e.updateSetting(n,t.key)}}}):n("input",{staticClass:"u-input",attrs:{id:"setting-"+t.key},domProps:{value:t.val},on:{keydown:function(e){return e.type.indexOf("key")||13===e.keyCode?e.target.blur():null},blur:function(n){return e.updateSetting(n,t.key)}}})])])}))],2)])])},s=[]},d777:function(e,t,n){"use strict";var i=n("a9c9"),s=n.n(i);s.a},d7d2:function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("05f2")),o=s(n("8fa2")),c=s(n("284c")),u=s(n("9474")),l=s(n("2b0b")),f=s(n("65b8")),d=s(n("4573")),p=s(n("44a4")),h=s(n("acf5")),w=s(n("2ef0")),m=i(n("852e")),v=i(n("19b1")),_=n("5ee5"),g=_.component("irc-input",{props:["placeholder"],data:function(){return{last_known_value:"",text_value:"",current_el:null,current_el_pos:0,default_colour:null,code_map:(0,h.default)(null)}},computed:{editor:function(){return this.$refs.editor}},mounted:function(){this.resetStyles()},methods:{onTextInput:function(e){var t;"\n"===e.data[e.data.length-1]&&(e.preventDefault(),this.setCurrentWord((0,p.default)(t=e.data).call(t)))},onPaste:function(e){var t=this;if(e.preventDefault(),"undefined"!==typeof e.clipboardData){var n,i=!1,s=e.clipboardData;if((0,d.default)(n=s.types).call(n,(function(e){var t=["Files","image"];(0,d.default)(t).call(t,(function(t){(0,f.default)(e).call(e,t)>-1&&(i=!0)}))})),i)return;document.execCommand("insertText",!1,s.getData("text/plain"))}else{var a=window.clipboardData.getData("Text");if(!a)return;var r=window.getSelection(),o=r.getRangeAt(0);o&&(o.deleteContents(),o.insertNode(document.createTextNode(a)))}(0,l.default)((function(){t.updateValueProps()}),0)},onFocus:function(e){!this.getRawText()&&this.default_colour&&this.setColour(this.default_colour.code,this.default_colour.colour),this.$emit("focus",e)},updateValueProps:function(){var e=window.getSelection();0!==e.rangeCount&&(this.current_el_pos=e.anchorOffset,this.current_el=e.anchorNode,this.maybeEmitInput())},selectionToEnd:function(){var e=this.$refs.editor.lastChild||this.$refs.editor;this.current_el=e,3===e.nodeType?this.current_el_pos=e.length:this.current_el_pos=0},setValue:function(e){this.value=e,this.$refs.editor.innerHTML=e},getValue:function(){return this.$refs.editor.innerHTML},maybeEmitInput:function(){var e=this.$refs.editor.innerHTML;this.last_known_value!==e&&(this.$emit("input",e),this.last_known_value=e)},buildIrcText:function(){var e=this,t=this.$refs.editor.innerHTML,n="",i=[];function s(e){i[i.length-1]+=e}function a(){return i[i.length-1]}var r=new m.Parser({onopentag:function(t,r){i.push("");var o="";if(r.style){var c,l,d,p=r.style.match(/color: ([^;]+)/);if(p){o=p[1];var h=e.code_map[o];if(!h){var w=o.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);if(w){var m=v.rgb2hex({r:(0,u.default)(w[1],10),g:(0,u.default)(w[2],10),b:(0,u.default)(w[3],10)});h=e.code_map[m]}}h&&(n+=""+h,s(""+h))}(0,f.default)(c=r.style).call(c,"bold")>-1&&(n+="",s("")),(0,f.default)(l=r.style).call(l,"italic")>-1&&(n+="",s("")),(0,f.default)(d=r.style).call(d,"underline")>-1&&(n+="",s(""))}else if(r.color){var _=e.code_map[r.color]||e.code_map[r.color.replace(/,/g,", ")]||e.code_map[v.hex2rgb(r.color)];_&&(n+=""+_,s(""+_))}else"strong"===t?(n+="",s("")):"em"===t?(n+="",s("")):"u"===t?(n+="",s("")):"div"!==t&&"br"!==t||(n+=a(),n+="\n",n+=a());r.src&&e.code_map[r.src]&&(n+=e.code_map[r.src])},ontext:function(e){n+=e},onclosetag:function(e){n+=a(),i.pop()}},{decodeEntities:!0});return r.write(t),r.end(),n},reset:function(e){this.$refs.editor.innerHTML=e||"",this.current_el_pos=0,this.current_el=this.$refs.editor;var t=this.$refs.editor.querySelector("br");t&&t.parentNode.removeChild(t),this.default_colour&&(this.focus(),this.setColour(this.default_colour.code,this.default_colour.colour)),this.updateValueProps()},resetStyles:function(){this.focus(),document.execCommand("styleWithCSS",!1,!0),document.execCommand("selectAll",!1,null),document.execCommand("removeFormat",!1,null),this.default_colour=null},setColour:function(e,t){var n=window.getSelection().getRangeAt(0);n&&n.collapsed&&(this.default_colour={code:e,colour:t}),this.focus(),document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,t),this.code_map[t]=e,this.updateValueProps()},toggleBold:function(){document.execCommand("bold",!1,null),this.updateValueProps()},toggleItalic:function(){document.execCommand("italic",!1,null),this.updateValueProps()},toggleUnderline:function(){document.execCommand("underline",!1,null),this.updateValueProps()},addImg:function(e,t){this.focus();var n=(0,c.default)((0,o.default)(w.default).call(w.default,this.$refs.editor.querySelectorAll("img")));document.execCommand("styleWithCSS",!1,!0),document.execCommand("insertImage",!1,t),this.code_map[t]=e;var i=null,s=(0,c.default)((0,o.default)(w.default).call(w.default,this.$refs.editor.querySelectorAll("img")));(0,d.default)(s).call(s,(function(e){-1===(0,f.default)(n).call(n,e)&&(i=e)}));var a=0,r=i;while(r)r=r.previousSibling,a++;this.current_el=this.$refs.editor,this.current_el_pos=a,this.updateValueProps(),this.focus()},insertText:function(e){this.focus(),document.execCommand("insertText",!1,e),this.updateValueProps(),this.focus()},setCurrentWord:function(e,t){var n=this.current_el,i=this.current_el_pos,s=n.textContent||"",a=s.substr(0,i),o=(0,r.default)(a).call(a," ");-1===o?o=0:o++;var c=o,u=s.substr(i);o=(0,f.default)(u).call(u," "),-1===o&&(o=u.length);var l=o;n.textContent=a.substr(0,c)+e+u.substr(l);var d=document.createRange();t?(d.setStart(n,i),d.setEnd(n,i)):3===n.nodeType?(d.setStart(n,c+e.length),d.setEnd(n,c+e.length)):(d.setStart(n,1),d.setEnd(n,1));var p=window.getSelection();p.removeAllRanges(),p.addRange(d),this.updateValueProps()},getCurrentWord:function(){var e=this.current_el,t=this.current_el_pos,n=e.textContent,i=n.substr(0,t),s=(0,r.default)(i).call(i," ");-1===s?s=0:s++;var a=s;s=(0,f.default)(n).call(n," ",a),-1===s&&(s=n.length);var o=s;return{word:n.substr(a,o),position:t-a}},getRawText:function(){return this.$refs.editor.innerText},focus:function(){var e=window.getSelection(),t=document.createRange();t.setStart(this.current_el||this.$refs.editor,this.current_el_pos||0),e.removeAllRanges(),e.addRange(t)}}});t.default=g,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["utils"]||(window._kiwi_exports["components"]["utils"]={}),window._kiwi_exports["components"]["utils"]["IrcInput"],window._kiwi_exports.components.utils.IrcInput=t.default?t.default:t},d831:function(e,t,n){"use strict";n.r(t);var i=n("2283"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},d949:function(e,t,n){"use strict";var i=n("3ea4"),s=n.n(i);s.a},d9a4:function(e,t,n){"use strict";var i=n("d269"),s=n.n(i);s.a},db24:function(e,t,n){"use strict";n.r(t);var i=n("8618"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},dbb5:function(e,t,n){},dbd7:function(e,t,n){"use strict";n.r(t);var i=n("ba5c"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},dcac:function(e,t,n){"use strict";var i=n("274d"),s=n.n(i);s.a},dd9f:function(e,t,n){"use strict";var i=n("0eca"),s=n.n(i);s.a},ddcd:function(e,t,n){"use strict";n.r(t);var i=n("7f4f"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},def7:function(e,t,n){},df3a:function(e,t,n){"use strict";n.r(t);var i=n("b23c"),s=n("12fa");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("52fe");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!0,null,null,null);t["default"]=o.exports},dfb5:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(e,t){var n,i=t._c;return t.props.user&&""!==t.$options.m.status(t.props)?i("span",{staticClass:"kiwi-typingstatusindicator",class:(n={"kiwi-typingstatusindicator--paused":"paused"===t.$options.m.status(t.props)},n[t.data.staticClass]=!0,n)},[t._v("")]):t._e()},s=[]},e019:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.AudioManager=void 0;var a=i(n("65b8")),r=i(n("3002")),o=i(n("9f12")),c=i(n("53fe")),u=function(){function e(t){(0,o.default)(this,e),this.lastPlayed=0,this.audio=t}return(0,c.default)(e,[{key:"play",value:function(){(!this.lastPlayed||(0,r.default)()-this.lastPlayed>2e3)&&(this.audio.play(),this.lastPlayed=(0,r.default)())}},{key:"listen",value:function(e){var t=this;e.$on("audio.bleep",(function(){t.play()}))}},{key:"watchForMessages",value:function(e){var t=this;e.$on("message.new",(function(n){var i=n.message,s=n.buffer;if(!s.setting("mute_sound")){var r=["connection","traffic","mode","nick"];if(!((0,a.default)(r).call(r,i.type)>-1)&&!i.ignore&&!s.isSpecial()){var o=s.getNetwork().nick!==i.nick&&(i.isHighlight&&"highlight"===s.setting("alert_on")||"message"===s.setting("alert_on")),c=e.getActiveBuffer()===s,u=c&&e.ui.app_has_focus;(o||s.isQuery()&&!u)&&t.play()}}}))}}]),e}();t.AudioManager=u,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["AudioManager"],window._kiwi_exports.libs.AudioManager=t.default?t.default:t},e110:function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("2ef0")),o=i(n("862b")),c={props:["ircinput"],computed:{emojis:function(){var e={},t=this.$state.setting("emojis");return r.default.each(t,(function(t,n){e[t]=n})),e},location:function(){return this.$state.setting("emojiLocation")}},methods:{onImgClick:function(e){var t=window.getComputedStyle(e.target,null).getPropertyValue("background-image");t=o.extractURL(t);var n=e.target.dataset.code;this.ircinput.addImg(n,t)}}};t.default=c,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["inputtools"]||(window._kiwi_exports["components"]["inputtools"]={}),window._kiwi_exports["components"]["inputtools"]["Emoji"],window._kiwi_exports.components.inputtools.Emoji=t.default?t.default:t},e15f:function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("3393")),o=s(n("2b0b")),c=s(n("b6ce")),u=s(n("800f")),l=s(n("52da")),f=s(n("a3e3")),d=s(n("284c")),p=s(n("9474")),h=s(n("3002")),w=s(n("3f18")),m=s(n("44a4")),v=s(n("65b8")),_=s(n("4573")),g=s(n("bf2d")),k=s(n("9f12")),b=s(n("53fe")),y=i(n("5a16")),C=i(n("862b")),x=s(n("2ef0")),$=s(n("31aa")),S={},N=function(){function e(t){var n=this;(0,k.default)(this,e),this.state=t,this.aliasRewriter=new $.default,this.aliasRewriter.importFromString(t.setting("aliases")),t.$watch("user_settings.aliases",(function(e){n.aliasRewriter.importFromString(t.setting("aliases"))})),this.listenForInput()}return(0,b.default)(e,[{key:"defaultContext",value:function(){return{network:this.state.getActiveNetwork(),buffer:this.state.getActiveBuffer()}}},{key:"validateContext",value:function(e){if("object"!==(0,g.default)(e)||!Object.prototype.hasOwnProperty.call(e,"buffer")||!Object.prototype.hasOwnProperty.call(e,"network")||"object"!==(0,g.default)(e.buffer)||"object"!==(0,g.default)(e.network))throw new TypeError("context must contain both network and buffer properties")}},{key:"listenForInput",value:function(){var e=this;this.state.$on("input.raw",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.defaultContext(),i=t.split("\n");(0,_.default)(i).call(i,(function(t){return e.processLine(t,n)}))}))}},{key:"processLine",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultContext();this.validateContext(t);var n=t.network,i=t.buffer,s=e,a=C.stripStyles(s),r="//"===a.substr(0,2);"/"!==a[0]||r?(r&&(s=s.substr(1)),s=i.isServer()?"/quote "+s:"/msg "+i.name+" "+s):"/"===a[0]&&"/"!==s[0]&&(s=a);var o={network:n.name,server:n.connection.server,channel:n.isChannelName(i.name)?i.name:"",query:n.isChannelName(i.name)?"":i.name,destination:i.name,nick:n.nick};if(s=this.aliasRewriter.process(s,o),s){s=s.substr(1);var c=(0,v.default)(s).call(s," ");-1===c&&(c=s.length);var u=s.substr(0,c),l=s.substr(c+1),f={handled:!1,raw:e,command:u,params:l};this.state.$emit("input.command."+u,f,u,l),f.handled||(S[u.toLowerCase()]&&S[u.toLowerCase()].call(this,f,u,l),f.handled||n.ircClient.raw(s))}}}]),e}();function A(e,t,n,i){t.handled=!0;var s=this.state.getActiveNetwork(),a=(0,v.default)(i).call(i," ");-1===a&&(a=i.length);var r=i.substr(0,a),o=i.substr(a+1);if(o=""!==o.replace(/\s+/g,"")?(0,w.default)(o).call(o):o.replace(/[\r]+$/,""),o){var c=r,u=s.ircClient.network.extractTargetGroup(r);u&&(c=u.target);var l=c.length&&this.state.getOrAddBufferByName(s.id,c);if(l){var f="privmsg";"action"===e?f="action":"notice"===e&&(f="notice");var d=y.formatText(f,{nick:s.nick,text:o}),p={time:(0,h.default)(),nick:s.nick,message:d,type:e};this.state.addMessage(l,p)}var m={privmsg:"say",action:"action",notice:"notice"},_=m[e]||"say";s.ircClient[_](r,o)}}t.default=N,S.lines=function(e,t,n){var i,s=this;e.handled=!0,(0,_.default)(i=n.split("|")).call(i,(function(e){s.processLine((0,m.default)(e).call(e))}))},S.msg=function(e,t,n){A.call(this,"privmsg",e,t,n)},S.action=function(e,t,n){A.call(this,"action",e,t,n)},S.notice=function(e,t,n){A.call(this,"notice",e,t,n)},S.dice=function(e,t,n){e.handled=!0;var i=this.state.getActiveBuffer(),s=this.state.getActiveNetwork(),a=n.replace(/\D/g,"");a=(0,p.default)(a||"0",10),a<=0&&(a=6);var r=Math.floor(Math.random()*a)+1,o=y.t("dice_roll",{sides:y.formatNumber(a),number:y.formatNumber(r)});s.ircClient.action(i.name,o),this.state.addMessage(i,{nick:s.nick,message:o,type:"action"})},S.ctcp=function(e,t,n){var i,s;e.handled=!0;var a=n.split(" "),r=a.shift(),o=a.shift();if(o&&r){var c=this.state.getActiveNetwork();(i=c.ircClient).ctcpRequest.apply(i,(0,d.default)((0,f.default)(s=[r,o]).call(s,a)))}},S.join=function(e,t,n){var i=this;e.handled=!0;var s=this.state.getActiveNetwork(),a=C.extractBuffers(n);if(0===a.length){var r=this.state.getActiveBuffer();return r.isChannel()&&!r.joined?void s.ircClient.join(r.name,r.key):void this.state.addMessage(r,{nick:"*",message:y.t("error_no_channel_join"),type:"error"})}var o=!1;(0,_.default)(a).call(a,(function(e,t){if("0"!==e.name){var n=s.isChannelName(e.name)?e.name:"#"+e.name,a=i.state.addBuffer(s.id,n);a&&!o&&(i.state.setActiveBuffer(s.id,a.name),o=!0),e.key&&(a.key=e.key),s.ircClient.join(n,e.key)}}))},S.part=function(e,t,n){e.handled=!0;var i=this.state.getActiveNetwork(),s=[],a="";if(""===n)s=[this.state.getActiveBuffer().name];else{var r=n.split(" ");i.isChannelName(r[0])?(s=x.default.compact(r[0].split(",")),a=(0,l.default)(r).call(r,1).join(" ")):(s=[this.state.getActiveBuffer().name],a=n)}(0,_.default)(s).call(s,(function(e){i.ircClient.part(e,a)}))},S.quit=function(e,t,n){e.handled=!0;var i=this.state.getActiveNetwork();i.ircClient.quit(n)},S.topic=function(e,t,n){e.handled=!0;var i=this.state.getActiveNetwork(),s="",a="";if(""!==n){var r=n.split(" ");i.isChannelName(r[0])?(s=r[0],a=(0,l.default)(r).call(r,1).join(" ")):(s=this.state.getActiveBuffer().name,a=n),i.ircClient.setTopic(s,a)}},S.kick=function(e,t,n){e.handled=!0;var i=this.state.getActiveNetwork(),s="",a="",r="";if(""!==n){var o=n.split(" ");i.isChannelName(o[0])&&(a=o.shift()),s=o.shift(),r=o.join(" "),a||(a=this.state.getActiveBuffer().name),s&&i.ircClient.raw("KICK",a,s,r)}},S.ignore=function(e,t,n){e.handled=!0;var i=this.state.getActiveNetwork(),s=n.split(" ").shift();if(s){var a=this.state.getUser(i.id,s);if(a){a.ignore=!0;var r=this.state.getActiveBuffer();this.state.addMessage(r,{nick:"*",message:"Ignoring "+a.nick,type:"message"})}}},S.unignore=function(e,t,n){e.handled=!0;var i=this.state.getActiveNetwork(),s=n.split(" ").shift();if(s){var a=this.state.getUser(i.id,s);if(a){a.ignore=!1;var r=this.state.getActiveBuffer();this.state.addMessage(r,{nick:"*",message:"No longer ignoring "+a.nick,type:"message"})}}},S.close=function(e,t,n){var i=this;e.handled=!0;var s=this.state.getActiveNetwork(),a=x.default.compact(n.split(/[, ]/));0===a.length&&(a=[this.state.getActiveBuffer().name]),(0,_.default)(a).call(a,(function(e){var t=s.bufferByName(e);t&&i.state.removeBuffer(t)}))},S.query=function(e,t,n){e.handled=!0;var i=(0,v.default)(n).call(n," ");-1===i&&(i=n.length);var s=n.substr(0,i),a=n.substr(i+1),r=this.state.getActiveNetwork(),o=this.state.getOrAddBufferByName(r.id,s);this.state.setActiveBuffer(r.id,o.name),a&&this.state.$emit("input.raw","/msg "+o.name+" "+a)},S.invite=function(e,t,n){var i;e.handled=!0;var s=this.state.getActiveNetwork(),a=this.state.getActiveBuffer(),r=n.split(" "),o=r.shift(),c=r.shift();c||(c=a.name),s.isChannelName(c)&&(s.ircClient.raw("INVITE",o,c),this.state.addMessage(a,{nick:"*",message:(0,f.default)(i="Invited ".concat(o," to ")).call(i,c),type:"message"}))},S.nick=function(e,t,n){e.handled=!0;var i=(0,v.default)(n).call(n," ");-1===i&&(i=n.length);var s=n.substr(0,i),a=this.state.getActiveNetwork();a.ircClient.changeNick(s)},S.away=function(e,t,n){e.handled=!0;var i=this.state.getActiveNetwork();i.ircClient.raw("AWAY",n||"Currently away")},S.back=function(e,t,n){e.handled=!0;var i=this.state.getActiveNetwork();i.ircClient.raw("AWAY")},S.quote=function(e,t,n){e.handled=!0;var i=this.state.getActiveNetwork();"cap"===n.split(" ")[0].toLowerCase()&&i.setting("show_raw_caps",!0);var s=this.state.getActiveBuffer();s.isServer()&&this.state.addMessage(s,{time:(0,h.default)(),nick:"",message:n}),i.ircClient.raw(n)},S.whois=function(e,t,n){var i=this;e.handled=!0;var s=n.split(" "),a=this.state.getActiveNetwork(),r=this.state.getActiveBuffer();a.ircClient.whois(s[0],s[0],(function(e){if(e.error){var t=y.formatText("whois_error",{nick:e.nick,text:e.error});i.state.addMessage(r,{time:(0,h.default)(),nick:"",message:t,type:"error"})}else{var n=[],a=function(e){e&&n.push(e)},o={mask:"is {{nick}}!{{user}}@{{host}} * ({{real_name}})",from:"is connecting from {{actual_hostname}} {{actual_ip}}",channels:"is on {{channels}}",server:"is using {{server}} ({{server_info}})",operator:"{{operator}}",modes:"{{modes}}",account:"is logged in as {{account}}",registered_nick:"{{registered_nick}}",secure:"is using a secure connection",idle:"has been idle for {{idle}}",logon:"connected on {{logon}}",nick:"",user:"",ident:"",hostname:"",real_name:"",actual_ip:"",server_info:"",actual_hostname:""};if(e.nick&&e.hostname&&a(o.mask.replace("{{nick}}",e.nick).replace("{{user}}",e.ident).replace("{{host}}",e.hostname).replace("{{real_name}}",e.real_name)),e.actual_hostname&&e.actual_ip&&a(o.from.replace("{{actual_hostname}}",e.actual_hostname).replace("{{actual_ip}}",e.actual_ip)),e.channels&&a(o.channels.replace("{{channels}}",e.channels)),e.server&&a(o.server.replace("{{server}}",e.server).replace("{{server_info}}",e.server_info)),e.operator&&a(o.operator.replace("{{operator}}",e.operator)),e.modes&&a(o.modes.replace("{{modes}}",e.modes)),e.account&&a(o.account.replace("{{account}}",e.account)),e.registered_nick&&a(o.registered_nick.replace("{{registered_nick}}",e.registered_nick)),e.secure&&a(o.secure),e.idle){var c=Math.floor((0,p.default)(e.idle,10));a(o.idle.replace("{{idle}}",y.formatDuration(c)))}if(e.logon){var l=(0,p.default)(e.logon,10);if(!(0,u.default)(l)){var d=new Date(1e3*l);a(o.logon.replace("{{logon}}",d))}}x.default.each(e,(function(e,t){var n;"undefined"===typeof o[t]&&(x.default.isArray(e)?(0,_.default)(e).call(e,(function(e){var n;return a((0,f.default)(n="".concat(t,": ")).call(n,e))})):a((0,f.default)(n="".concat(t,": ")).call(n,e)))})),(0,_.default)(n).call(n,(function(e){i.state.addMessage(r,{nick:s[0],message:e,type:"whois"})}))}}))},S.whowas=function(e,t,n){var i=this;e.handled=!0;var s=n.split(" "),a=this.state.getActiveNetwork(),r=this.state.getActiveBuffer();a.ircClient.whowas(s[0],s[0],(function(e){var t;if(e.error){var n=y.formatText("whowas_error",{nick:e.nick,text:e.error});i.state.addMessage(r,{time:(0,h.default)(),nick:"",message:n,type:"whowas"})}else(0,_.default)(t=["whowas_ident","whowas_server"]).call(t,(function(t){var n=y.formatText(t,{nick:e.nick,ident:e.ident,host:e.hostname,name:e.real_name,server:e.server,info:e.server_info});i.state.addMessage(r,{time:(0,h.default)(),nick:e.nick,message:n,type:"whowas"})}))}))},S.mode=function(e,t,n){e.handled=!0;var i=this.state.getActiveNetwork(),s=this.state.getActiveBuffer(),a=s.isChannel()?s.name:i.nick,u=x.default.compact(n.split(" "));n&&"+"!==n[0]&&"-"!==n[0]&&(a=u.shift()),u[0]?("+b"!==u[0]||u[1]||((0,c.default)(s).requested_banlist=!0,(0,o.default)((function(){(0,c.default)(s).requested_banlist=!1}),4e3)),i.ircClient.mode(a,u[0],(0,r.default)(u).call(u,1))):(i.ircClient.mode(a),a===s.name&&((0,c.default)(s).requested_modes=!0,(0,o.default)((function(){(0,c.default)(s).requested_modes=!1}),4e3)))},S.names=function(e,t,n){e.handled=!0;var i=this.state.getActiveNetwork(),s=n;s||(s=this.state.getActiveBuffer().name),i.ircClient.raw("NAMES "+s)},S.inject=function(e,t,n){e.handled=!0;var i=this.state.getActiveNetwork(),s=i.ircClient.connection;s.addReadBuffer(n)},S.clear=function(e,t,n){e.handled=!0;var i=this.state.getActiveBuffer();i.clearMessages(),this.state.addMessage(i,{nick:"*",message:"Scrollback cleared"})},S.echo=function(e,t,n){e.handled=!0;var i=this.state.getActiveBuffer();this.state.addMessage(i,{nick:"*",message:n})},S.set=function(e,t,n){var i,s;e.handled=!0;var a=this.state.getActiveBuffer(),r="",o=(0,v.default)(n).call(n," ");if(o>-1){var c;r=n.substr(0,o);var u=(0,m.default)(c=n.substr(o+1)).call(c);switch((0,m.default)(i=u.toLowerCase()).call(i)){case"true":case"on":u=!0;break;case"false":case"off":u=!1;break;default:}'"'===u[0]&&'"'===u[u.length-1]&&(u=u.substr(1,u.length-2)),this.state.setting(r,u)}else r=n;this.state.addMessage(a,{nick:"*",message:(0,f.default)(s="".concat(r," = ")).call(s,this.state.setting(r))})},S.list=function(e,t,n){e.handled=!0;var i=this.state.getActiveNetwork();i.channel_list.length||"updating"===i.channel_list_state||(i.channel_list_state="updating",i.ircClient.raw("LIST "+n)),i.showServerBuffer("channels")},S.server=function(e,t,n){e.handled=!0;var i=n.split(" "),s=i[0],a=i[1]||6667,r=!1,o=i[2],c=i[3]||"ircuser";"+"===a[0]?(r=!0,a=(0,p.default)(a.substr(1),10)):(r=!1,a=(0,p.default)(a,10)),this.state.addNetwork(s,c,{server:s,port:a,tls:r,password:o})},S.beep=function(e,t,n){e.handled=!0,this.state.$emit("audio.bleep")},S.notify=function(e,t,n){e.handled=!0,this.state.$emit("notification.show",n)},window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["InputHandler"],window._kiwi_exports.libs.InputHandler=t.default?t.default:t},e25e:function(e,t,n){},e3cb:function(e,t,n){},e402:function(e,t,n){"use strict";n.r(t);var i=n("dfb5"),s=n("395a");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!0,null,null,null);t["default"]=o.exports},e4a8:function(e,t,n){},e54d:function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80"),r=n("44a4");a(t,"__esModule",{value:!0}),t.default=$;var o=s(n("2d80")),c=s(n("1e75")),u=s(n("aa3c")),l=s(n("7c78")),f=s(n("e4f0")),d=s(n("3960")),p=s(n("fa81")),h=s(n("2fa7")),w=s(n("4573")),m=s(n("65b8")),v=s(n("a3e3")),_=s(n("298b")),g=n("2ef0"),k=s(n("f72e")),b=i(n("118f")),y=n("5a16");function C(e,t){var n=(0,p.default)(e);if(d.default){var i=(0,d.default)(e);t&&(i=(0,f.default)(i).call(i,(function(t){return(0,l.default)(e,t).enumerable}))),n.push.apply(n,i)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)(0,w.default)(n=C(Object(i),!0)).call(n,(function(t){(0,h.default)(e,t,i[t])}));else if(u.default)(0,c.default)(e,(0,u.default)(i));else{var s;(0,w.default)(s=C(Object(i))).call(s,(function(t){(0,o.default)(e,t,(0,l.default)(i,t))}))}}return e}function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=(0,k.default)().setting("emojis"),s=(0,b.default)(e,t),a=(0,_.default)(s).call(s,(function(e,t,s){return(0,v.default)(e).call(e,S(t,n,i))}),[]);return a}function S(e,t,n){var i,s,a=/\S+/g,r=[];while(null!==(i=a.exec(e.content))){s=i[0];var o=N(s)||A(s)||M(s,t)||T(s,n);o&&r.push({index:i.index+o.index,match:o.match,block:(0,b.createNewBlock)(o.match,e.styles,o.type,o.meta)})}return 0===r.length?[e]:B(e,r)}function N(e){var t=y.channelRegex.exec(e);return null!==t&&{index:t[1].length+t[2].length,match:t[3],type:"channel",meta:{channel:t[3]}}}function A(e){var t=y.urlRegex.exec(e);if(null===t)return!1;var n=t[0];if(n.match(/^javascript:/i))return!1;var i=".,;:";while((0,m.default)(i).call(i,n[n.length-1])>-1)n=n.substr(0,n.length-1);-1===(0,m.default)(n).call(n,"(")&&")"===n[n.length-1]&&(n=n.substr(0,n.length-1));var s=n;return s.match(/^www\./i)&&(s="http://"+n),{index:t.index,match:n,matchText:s,type:"url",meta:{url:s}}}function M(e,t){if(!t)return!1;var n=null,i=",.!:;-+)]?\\/<>@",s=Object.prototype.hasOwnProperty,a=0,o=r(g)(e,i),c=o.toLowerCase();return!!s.call(t,c)&&(n=t[c],a=(0,m.default)(e).call(e,o),{index:a,match:o,type:"user",meta:{user:o,colour:n.colour}})}function T(e,t){return!(t.hasOwnProperty&&!t.hasOwnProperty(e))&&{index:0,match:e,type:"emoji",meta:{emoji:t[e]}}}function B(e,t){var n=[],i=0;return(0,w.default)(t).call(t,(function(t,s){var a=e.content.substr(i,t.index-i);a&&n.push({content:a,styles:x({},e.styles),containsContent:!!a}),n.push(t.block),i=t.index+t.match.length})),i<e.content.length&&n.push({content:e.content.substr(i),styles:x({},e.styles),containsContent:!!e.content.substr(i)}),n}window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["MessageParser"],window._kiwi_exports.libs.MessageParser=t.default?t.default:t},e56a:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-invitelist"},[n("form",{staticClass:"u-form kiwi-invitelist",on:{submit:function(e){e.preventDefault()}}},[n("a",{staticClass:"u-link",on:{click:e.updateInvitelist}},[e._v(e._s(e.$t("invites_refresh")))]),e.channelIsInviteOnly?n("div",{staticClass:"kiwi-invitelist-inviteonly-status"},[e._v(" "+e._s(e.$t("invite_private_channel"))+" "),e.areWeAnOp?n("a",{staticClass:"u-link",on:{click:e.removeInviteOnly}},[e._v(e._s(e.$t("invite_set_public")))]):e._e()]):n("div",{staticClass:"kiwi-invitelist-inviteonly-status"},[e._v(" "+e._s(e.$t("invite_public_channel"))+" "),e.areWeAnOp?n("a",{staticClass:"u-link",on:{click:e.setInviteOnly}},[e._v(e._s(e.$t("invite_set_private")))]):e._e()]),e.anyRegisteredUserCanJoin?n("span",[e._v(e._s(e.$t("invite_registered_only")))]):e._e(),n("div",[e.supportsAccounts&&e.areWeAnOp?n("div",[e.knownAccounts.length>0?[n("select",{ref:"addInviteList"},e._l(e.knownAccounts,(function(t){return n("option",{key:t.nick,domProps:{value:t.account}},[e._v(e._s(t.account))])})),0),n("button",{on:{click:function(t){return e.addAccountInvite(e.$refs.addInviteList.value)}}},[e._v(" "+e._s(e.$t("invite_add_invite"))+" ")])]:e._e()],2):e._e(),!e.supportsAccounts&&e.areWeAnOp?n("div",{staticClass:"kiwi-invitelist-addmask"},[n("input",{ref:"addInviteText",staticClass:"u-input",attrs:{type:"text"}}),n("button",{on:{click:function(t){return e.addInvite(e.$refs.addInviteText.value)}}},[e._v(" "+e._s(e.$t("invite_add_invite"))+" ")])]):e._e(),e.inviteList.length>0?n("table",{staticClass:"kiwi-invitelist-table"},[n("tr",[n("th",[e._v(e._s(e.$t("invites_user")))]),n("th",[e._v(e._s(e.$t("invites_by")))]),n("th"),n("th")]),e._l(e.inviteListAccounts,(function(t){return n("tr",{key:t.invited},[n("td",{staticClass:"kiwi-invitelist-table-mask"},[e._v(" "+e._s(e.displayMask(t))+" ")]),n("td",{staticClass:"kiwi-invitelist-table-invitedby"},[e._v(" "+e._s(t.invited_by)+" ")]),n("td",{staticClass:"kiwi-invitelist-table-invitedat"},[e._v(" "+e._s(new Date(1e3*t.invited_at).toDateString())+" ")]),n("td",{staticClass:"kiwi-invitelist-table-actions"},[e.areWeAnOp?n("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"},on:{click:function(n){return e.removeInvite(t.invited)}}}):e._e()])])})),e._l(e.inviteListNonAccounts,(function(t){return n("tr",{key:t.invited},[n("td",{staticClass:"kiwi-invitelist-table-mask"},[e._v(" "+e._s(e.displayMask(t))+" ")]),n("td",{staticClass:"kiwi-invitelist-table-invitedby"},[e._v(" "+e._s(t.invited_by)+" ")]),n("td",{staticClass:"kiwi-invitelist-table-invitedat"},[e._v(" "+e._s(new Date(1e3*t.invited_at).toDateString())+" ")]),n("td",{staticClass:"kiwi-invitelist-table-actions"},[e.areWeAnOp?n("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"},on:{click:function(n){return e.removeInvite(t.invited)}}}):e._e()])])}))],2):e._e()]),e.is_refreshing?n("div",[e._v(" "+e._s(e.$t("invites_refreshing"))+" ")]):e._e()])])},s=[]},e68e:function(e){e.exports=JSON.parse('{"locales":["af-za","ar-sa","bg-bg","bs-ba","ca-es","cs-cz","da-dk","de-de","dev","el-gr","en-us","es-ar","es-em","es-es","es-us","eu-es","fi-fi","fr-fr","gl-es","he-il","hi-in","hu-hu","id-id","it-it","ja-jp","ko-kr","nl-nl","no-no","pl-pl","pt-br","pt-pt","ro-ro","ru-ru","sl-si","sq-al","sr-sp","sv-se","tr-tr","uk-ua","vi-vn","zh-cn","zh-tw"]}')},e690:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),s(t,"State",{enumerable:!0,get:function(){return o.default}}),t.default=void 0;var a=i(n("d610")),r=i(n("385f")),o=i(n("8bab")),c=i(n("b4f0")),u=i(n("57d8")),l=i(n("9aad")),f=i(n("8e26")),d=i(n("b3ed")),p=i(n("bbd9")),h={components:{BufferSettings:c.default,SidebarAboutBuffer:l.default,ChannelInfo:u.default,ChannelBanlist:f.default,ChannelInvitelist:d.default,Nicklist:p.default,UserBox:a.default},props:["network","buffer","sidebarState"],data:function(){return{pluginUiElements:r.default.singleton().sideBarPlugins,accessTab:"banlist"}},computed:{section:function(){return this.sidebarState.activeComponent?"component":this.sidebarState.section()},settingShowJoinParts:{get:function(){return this.buffer.setting("show_joinparts")},set:function(e){return this.buffer.setting("show_joinparts",e)}},settingShowTopics:{get:function(){return this.buffer.setting("show_topics")},set:function(e){return this.buffer.setting("show_topics",e)}},settingShowNickChanges:{get:function(){return this.buffer.setting("show_nick_changes")},set:function(e){return this.buffer.setting("show_nick_changes",e)}},settingShowModeChanges:{get:function(){return this.buffer.setting("show_mode_changes")},set:function(e){return this.buffer.setting("show_mode_changes",e)}},settingColouredNicklist:{get:function(){return this.buffer.setting("coloured_nicklist")},set:function(e){return this.buffer.setting("coloured_nicklist",e)}},settingExtraFormatting:{get:function(){return this.buffer.setting("extra_formatting")},set:function(e){return this.buffer.setting("extra_formatting",e)}},settingShareTyping:{get:function(){return this.buffer.setting("share_typing")},set:function(e){return this.buffer.setting("share_typing",e)}},bufferType:function(){var e="";return this.buffer?this.buffer.isServer()?e="server":this.buffer.isChannel()?e="channel":this.buffer.isQuery()&&(e="query"):e="none",e}}};t.default=h,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["Sidebar"],window._kiwi_exports.components.Sidebar=t.default?t.default:t},e7f8:function(e,t,n){"use strict";n.r(t);var i=n("8ce2"),s=n("f427");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},e82a:function(e,t,n){},e93b:function(e,t,n){"use strict";n.r(t);var i=n("cee4"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},e941:function(e,t,n){},ea3f:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("3b2f")),r=i(n("462f")),o=i(n("9c24")),c={props:{},getNetwork:function(){var e=this.props;return e.ml.buffer.getNetwork()},isRepeat:function(){var e=this.props,t=e.ml,n=e.idx,i=e.message,s=t.filteredMessages[n-1];return!!s&&s.nick===i.nick&&i.time-s.time<6e4&&"traffic"!==s.type&&"traffic"!==i.type&&i.type===s.type},isHoveringOverMessage:function(e){var t=this.props;return e.nick&&e.nick.toLowerCase()===t.hover_nick.toLowerCase()},userMode:function(e){var t=this.props;return t.ml.buffer.userMode(e)},userModePrefix:function(e){var t=this.props;return t.ml.buffer.userModePrefix(e)}},u={inject:{components:{default:{AwayStatusIndicator:r.default,MessageInfo:o.default,MediaViewer:a.default}}},props:{ml:Object,message:Object,idx:Number,m:{default:function(){return function(){return c.props=this,c}}}}};t.default=u,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["MessageListMessageCompact"],window._kiwi_exports.components.MessageListMessageCompact=t.default?t.default:t},eaab:function(e,t,n){"use strict";n.r(t);var i=n("e690"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},eaac:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("44a4")),r={data:function(){return{show_help:!1}},computed:{aliasText:{get:function(){var e;return(0,a.default)(e=this.$state.setting("aliases")).call(e)},set:function(e){this.$state.setting("aliases",(0,a.default)(e).call(e))}}}};t.default=r,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["SettingsAliases"],window._kiwi_exports.components.SettingsAliases=t.default?t.default:t},eb64:function(e,t,n){"use strict";var i=n("8331"),s=n.n(i);s.a},ed03:function(e,t,n){},edbf:function(e,t,n){"use strict";n.r(t);var i=n("87bc"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},edc9:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("a3e3")),r={components:{},props:["buffer"],data:function(){return{}},computed:{settingAlertOn:{get:function(){return this.buffer.setting("alert_on")},set:function(e){var t,n,i=this.buffer.getNetwork(),s=i.connection.bncnetid;s&&i.ircClient.raw((0,a.default)(t=(0,a.default)(n="BOUNCER changebuffer ".concat(s," ")).call(n,this.buffer.name," notify=")).call(t,e));return this.buffer.setting("alert_on",e)}},settingMuteSound:{get:function(){return this.buffer.setting("mute_sound")},set:function(e){return this.buffer.setting("mute_sound",e)}},settingHideMessageCount:{get:function(){return this.buffer.setting("hide_message_counts")},set:function(e){return this.buffer.setting("hide_message_counts",e)}}}};t.default=r,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["BufferSettings"],window._kiwi_exports.components.BufferSettings=t.default?t.default:t},eeb2:function(e,t,n){"use strict";var i=n("92f5"),s=n.n(i);s.a},eee1:function(e,t,n){},eef1:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=o;var a=i(n("3002")),r=i(n("acf5"));function o(){return function(t,n,i){c(t),n.use(e)};function e(e,t,n,i,s){if("TAGMSG"===e&&t.tags["+draft/typing"]||"PRIVMSG"===e&&t.nick){var a=t.params[0].toLowerCase()===i.user.nick.toLowerCase()?t.nick:t.params[0],r=t.tags["+draft/typing"]||"done";i.emit("typing",{target:a,nick:t.nick,ident:t.ident,hostname:t.hostname,status:r}),s()}else s()}}function c(e){var t=e.typing={},n=(0,r.default)(null);function i(){return e.network.cap.isEnabled("message-tags")}t.start=function(t){if(i()){var s=n[t.toLowerCase()];if(!(s&&s>(0,a.default)()-3e3)){n[t.toLowerCase()]=(0,a.default)();var r=new e.Message("TAGMSG",t);r.tags["+draft/typing"]="active",e.raw(r)}}},t.pause=function(t){if(i()){var n=new e.Message("TAGMSG",t);n.tags["+draft/typing"]="paused",e.raw(n)}},t.stop=function(t){if(i()){var s=new e.Message("TAGMSG",t);s.tags["+draft/typing"]="done",e.raw(s),delete n[t.toLowerCase()]}}}window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["TypingMiddleware"],window._kiwi_exports.libs.TypingMiddleware=t.default?t.default:t},f07a:function(e,t,n){"use strict";n.r(t);var i=n("7544"),s=n("3c51");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("d9a4");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},f21b:function(e,t,n){"use strict";n.r(t);var i=n("28a9"),s=n("333e");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("6058");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},f21d:function(e,t,n){"use strict";n.r(t);var i=n("eaac"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},f391:function(e,t,n){"use strict";n.r(t);var i=n("cee1"),s=n("d1dd");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("6ac05");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},f427:function(e,t,n){"use strict";n.r(t);var i=n("6281"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},f45b:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kiwi-wrap kiwi-theme-bg",class:{"kiwi-wrap--statebrowser-drawopen":e.stateBrowserDrawOpen,"kiwi-wrap--monospace":e.$state.setting("useMonospace"),"kiwi-wrap--touch":e.$state.ui.is_touch},attrs:{"data-activebuffer":e.buffer?e.buffer.name.toLowerCase():""},on:{click:e.emitDocumentClick,"!paste":function(t){return e.emitBufferPaste(t)}}},[n("link",{attrs:{href:e.themeUrl,rel:"stylesheet",type:"text/css"}}),!e.hasStarted||!e.fallbackComponent&&0===e.networks.length?[n(e.startupComponent,{tag:"component",on:{start:e.startUp}})]:[n("state-browser",{attrs:{networks:e.networks,"sidebar-state":e.sidebarState}}),n("div",{staticClass:"kiwi-workspace",class:{"kiwi-workspace--disconnected":e.network&&"connected"!==e.network.state},on:{click:function(t){e.stateBrowserDrawOpen=!1}}},[n("div",{staticClass:"kiwi-workspace-background"}),!e.activeComponent&&e.network?[n("container",{attrs:{network:e.network,buffer:e.buffer,"sidebar-state":e.sidebarState},scopedSlots:e._u([e.mediaviewerOpen?{key:"before",fn:function(){return[n("media-viewer",{staticClass:"kiwi-main-mediaviewer",attrs:{url:e.mediaviewerUrl,component:e.mediaviewerComponent,"component-props":e.mediaviewerComponentProps,"is-iframe":e.mediaviewerIframe},on:{close:function(t){return e.$state.$emit("mediaviewer.hide",{source:"user"})}}})]},proxy:!0}:null],null,!0)}),e.buffer.show_input?n("control-input",{attrs:{container:e.networks,buffer:e.buffer}}):e._e()]:e.activeComponent?n(e.activeComponent,e._b({tag:"component"},"component",e.activeComponentProps,!1)):n(e.fallbackComponent,e._b({tag:"component"},"component",e.fallbackComponentProps,!1))],2)]],2)},s=[]},f4a7:function(e,t,n){},f664:function(e,t,n){},f67b:function(e,t,n){"use strict";n.r(t);var i=n("149a"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},f6d9:function(e,t,n){"use strict";var i=n("f4a7"),s=n.n(i);s.a},f72e:function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("2d80")),o=s(n("1e75")),c=s(n("aa3c")),u=s(n("7c78")),l=s(n("e4f0")),f=s(n("3960")),d=s(n("fa81")),p=s(n("4c43")),h=s(n("3002")),w=s(n("b6ce")),m=s(n("65b8")),v=s(n("298b")),_=s(n("9474")),g=s(n("fc56")),k=s(n("3393")),b=s(n("2fa7")),y=s(n("4573")),C=s(n("5b1a")),x=s(n("14b1")),$=s(n("acf5")),S=i(n("862b")),N=s(n("5ee5")),A=s(n("2ef0")),M=n("56f3"),T=s(n("05d6")),B=s(n("20fd")),P=s(n("b27f")),O=s(n("b73b"));function I(e,t){var n=(0,d.default)(e);if(f.default){var i=(0,f.default)(e);t&&(i=(0,l.default)(i).call(i,(function(t){return(0,u.default)(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)(0,y.default)(n=I(Object(i),!0)).call(n,(function(t){(0,b.default)(e,t,i[t])}));else if(c.default)(0,o.default)(e,(0,c.default)(i));else{var s;(0,y.default)(s=I(Object(i))).call(s,(function(t){(0,r.default)(e,t,(0,u.default)(i,t))}))}}return e}function L(){var e={persistence:null,settings:M.configTemplates.default,user_settings:{},connection:{status:"connected",sessionId:""},ui:{active_network:0,active_buffer:"",last_active_buffers:[],app_has_focus:!0,app_width:0,app_height:0,is_touch:!1,is_narrow:!1,favicon_counter:0,current_input:"",input_history:[],input_history_pos:0,show_advanced_tab:!1},networks:[]},t=new N.default({data:function(){return{networks:{}}}}),n=new N.default({data:function(){return{networks:{}}}}),i=[],s=(0,$.default)(null),a=new N.default({data:e,methods:{exportState:function(e){var t,n={};e&&(n.networks=(0,x.default)(t=a.networks).call(t,(function(e){var t,n={id:e.id,name:e.name,connection:{nick:e.connection.nick,server:e.connection.server,port:e.connection.port,tls:e.connection.tls,path:e.connection.path,password:e.connection.password,direct:e.connection.direct,encoding:e.connection.encoding,bncnetid:e.connection.bncnetid},auto_commands:e.auto_commands,settings:A.default.cloneDeep(e.settings),username:e.username,gecos:e.gecos,password:e.password,hidden:e.hidden,is_bnc:e.is_bnc,buffers:[]};return n.buffers=(0,x.default)(t=e.buffers).call(t,(function(e){var t={name:e.name,key:e.key,enabled:!!e.enabled,settings:A.default.cloneDeep(e.settings)};return t})),n})));return n.user_settings=a.user_settings,(0,C.default)(n)},importState:function(e){var s,r=this,o=JSON.parse(e);o&&o.networks&&(this.resetState(),(0,y.default)(s=o.networks).call(s,(function(e){var s,o=new T.default(e.id,a,t,n);o.name=e.name,o.connection=E(E({},o.connection),e.connection),o.auto_commands=e.auto_commands||"",o.settings=e.settings,o.nick=e.nick||e.connection.nick,!o.connection.nick&&e.nick&&(o.connection.nick=e.nick),o.username=e.username,o.gecos=e.gecos,o.password=e.password,o.hidden=e.hidden,o.is_bnc=e.is_bnc,r.networks.push(o),(0,y.default)(s=e.buffers).call(s,(function(e){var t=new B.default(e.name,o.id,a,i);t.key=e.key,t.enabled=!!e.enabled,t.settings=e.settings,o.buffers.push(t)}))})));o&&o.user_settings&&(this.user_settings=o.user_settings)},resetState:function(){this.$set(this.$data,"user_settings",{}),this.$set(this.$data,"networks",[]),(0,k.default)(i).call(i,0)},setting:function(e,t){if("undefined"!==typeof t)return t===this.getSetting("settings."+e)?this.setSetting("user_settings."+e,null):this.setSetting("user_settings."+e,t);var n=this.getSetting("user_settings."+e),i="undefined"!==typeof n?n:this.getSetting("settings."+e);return i},getSetting:function(e){for(var t=e.split("."),n=this.$data,i=0;i<t.length;i++)if(n=n[t[i]],"undefined"===typeof n)break;return n},setSetting:function(e,t){for(var n=e.split("."),i=this.$data,s=0;s<n.length;s++){var a=n[s],r=i[a];s<n.length-1&&"undefined"===typeof r?r=this.$set(i,a,{}):s===n.length-1&&(null===t?this.$delete(i,a):this.$set(i,a,t)),i=r}return i},getActiveNetwork:function(){return this.getNetwork(this.ui.active_network)},getNetwork:function(e){var t=(0,g.default)(A.default).call(A.default,this.networks,{id:e});return t},getNetworkFromAddress:function(e){return(0,g.default)(A.default).call(A.default,this.networks,(function(t){var n=e.toLowerCase()===t.connection.server.toLowerCase();return n}))},getNetworkFromBncNetId:function(e){return(0,g.default)(A.default).call(A.default,this.networks,(function(t){return e===t.connection.bncnetid}))},addNetwork:function(e,i,s){function r(e,t){return t.id>e?t.id:e}var o=s.channelId?(0,_.default)(s.channelId,10):(0,v.default)(A.default).call(A.default,this.networks,r,0)+1,c=new T.default(o,a,t,n);c.name=e,c.username=s.username,c.gecos=s.gecos,c.password=s.account_password||"",c.connection.password=s.password,c.connection.nick=i,c.connection.server=s.server||"",c.connection.port=s.port||6667,c.connection.tls=s.tls||!1,c.connection.path=s.path||"",c.connection.direct=!!s.direct,c.connection.path=s.path||"",c.connection.encoding=s.encoding||"utf8",c.connection.bncnetid=s.bncnetid||"",s.services&&(c.services=s.services),this.networks.push(c),this.addBuffer(c.id,"*").joined=!0;var u={network:c};return a.$emit("network.new",u),c},removeNetwork:function(e){var t,n,i=this.getNetwork(e);if(i){"connected"===i.state&&i.ircClient.quit();while(i.buffers.length>0)this.removeBuffer(i.buffers[0]);var s=!1;i===this.getActiveNetwork()&&(s=!0);var r=(0,m.default)(t=this.networks).call(t,i);(0,k.default)(n=this.networks).call(n,r,1),s&&this.openLastActiveBuffer();var o={network:i};a.$emit("network.removed",o)}},getActiveBuffer:function(){return this.getBufferByName(this.ui.active_network,this.ui.active_buffer)},setActiveBuffer:function(e,t){if(e){if(this.ui.active_network){this.ui.last_active_buffers.push({networkid:this.ui.active_network,bufferName:this.ui.active_buffer});var n=this.ui.last_active_buffers;this.ui.last_active_buffers=(0,k.default)(n).call(n,n.length-20)}this.ui.active_network=e,this.ui.active_buffer=t;var i=this.getBufferByName(e,t);i&&(0,w.default)(i).unread&&((0,w.default)(i).unread=0),i&&i.markAsRead(!0)}else this.ui.active_network=0,this.ui.active_buffer=""},openLastActiveBuffer:function(){for(var e,t,n=this.ui.last_active_buffers,i=n.length-1;i>=0;i--){var s=this.getNetwork(n[i].networkid);if(s){var a=s.bufferByName(n[i].bufferName);if(a){e=s,t=a,(0,k.default)(n).call(n,i);break}}}if(!t){var r=this.getActiveNetwork()||this.networks[0];if(r){e=r;var o=r.buffers[1];t=o||r.serverBuffer()}}t?this.setActiveBuffer(e.id,t.name):this.setActiveBuffer()},updateBufferLastRead:function(e,t){var n=this.getBufferByName(e,t);n&&(n.last_read=(0,h.default)(),n.active_timeout=null)},getOrAddBufferByName:function(e,t){var n=this.getNetwork(e);if(!n)return null;var i=t.toLowerCase(),s=(0,g.default)(A.default).call(A.default,n.buffers,(function(e){return e.name.toLowerCase()===i}));return s||(s=this.addBuffer(e,t)),s},getBufferByName:function(e,t){if(!t)return null;var n=this.getNetwork(e);if(!n)return null;var i=t.toLowerCase(),s=(0,g.default)(A.default).call(A.default,n.buffers,(function(e){return e.name.toLowerCase()===i}));return s},addBuffer:function(e,t){if(!t)return!1;var n=this.getBufferByName(e,t);if(n)return n;var s=this.getNetwork(e);if(!s)return!1;n=new B.default(t,s.id,a,i),s.buffers.push(n);var r={buffer:n};return a.$emit("buffer.new",r),n},removeBuffer:function(e){var t,n,s=this.getActiveBuffer()===e,r=this.getNetwork(e.networkid);if(r){var o={buffer:e};a.$emit("buffer.close",o);var c,u=(0,m.default)(t=r.buffers).call(t,e);if(u>-1)(0,k.default)(c=r.buffers).call(c,u,1);var l=(0,p.default)(A.default).call(A.default,i,{networkid:r.id,buffer:e.name});if(l>-1&&(0,k.default)(i).call(i,l,1),e.isChannel()&&e.joined&&r.ircClient.part(e.name),e.isQuery()){var f=a.getBuffersWithUser(r.id,e.name);0===f.length&&a.removeUser(r.d,{nick:e.name})}s&&this.openLastActiveBuffer(),(0,y.default)(n=(0,d.default)(e.users)).call(n,(function(t){var n=e.users[t];delete n.buffers[e.id]}))}},addMessage:function(e,t){if(e&&e.getNetwork()){var n=this.getUser(e.networkid,t.nick),i=new O.default(t,n);n&&n.ignore&&(i.ignore=!0),e.addMessage(i);var s=!1,r=["privmsg","action","notice","wallops"];e.setting("traffic_as_activity")&&"traffic"===t.type&&r.push("traffic"),(0,m.default)(r).call(r,t.type)>-1&&(s=!0);var o=e.networkid===this.ui.active_network&&e.name===this.ui.active_buffer,c=e.getNetwork(),u=t.time>=e.last_read,l=!!c&&S.mentionsNick(i.message,c.ircClient.user.nick),f=(a.setting("highlights")||"").toLowerCase().split(" ");if(!l&&f.length>0&&(0,y.default)(f).call(f,(function(e){var t;e&&(0,m.default)(t=i.message.toLowerCase()).call(t,e)>-1&&(l=!0)})),a.setting("teamHighlights")){var d=i.message,p={everyone:/(^|\s)@everybody($|\s|[,.;])/,channel:/(^|\s)@channel($|\s|[,.;])/,here:/(^|\s)@here($|\s|[,.;])/};(d.match(p.everyone)||d.match(p.channel))&&(l=!0),d.match(p.here)&&c&&!c.away&&(l=!0)}i.isHighlight=l,u&&o&&a.ui.app_has_focus&&(e.last_read=t.time),u&&s&&!o&&!i.ignore&&(e.incrementFlag("unread"),l&&e.flag("highlight",!0));var h=e.setting("alert_on"),w=!!c&&t.nick===c.nick;if(u&&"never"!==h&&"nick"!==t.type&&"mode"!==t.type&&"traffic"!==t.type&&!e.isSpecial()&&!i.ignore&&!w){var v="",_=t.nick?t.nick+": ":"";_+=t.message,l?v="You were mentioned in "+e.name:"message"!==h||l||(v=e.name),v&&this.$emit("notification.show",_,{title:v,onclick:function(){a.setActiveBuffer(e.networkid,e.name),parent&&parent.focus&&parent.focus(),window.focus&&window.focus()}})}o&&!a.ui.app_has_focus&&"traffic"!==t.type&&("message"===e.setting("flash_title")||"highlight"===e.setting("flash_title")&&l)&&this.$emit("notification.title",!0),this.$emit("message.new",{message:i,buffer:e})}},getUser:function(e,t,n){var i=null,s=n;if(!s){var a=this.getNetwork(e);a&&(s=a.users)}return s&&(i=s[t.toLowerCase()]),i},usersTransaction:function(e,t){var n=this.getNetwork(e);if(n){var i=A.default.clone(n.users);t(i),n.users=i}},addUser:function(e,t,n){var i=null;if(i="number"===typeof e?this.getNetwork(e):e,!i)return null;var s=n||i.users,r=null;return s[t.nick.toLowerCase()]?(r=a.getUser(i.id,t.nick,s),A.default.each(t,(function(e,t){"undefined"!==typeof e&&(r[t]=e)}))):r=s[t.nick.toLowerCase()]=new P.default(t),r},removeUser:function(e,t){var n=this.getNetwork(e);if(n){var i=a.getBuffersWithUser(e,t.nick);(0,y.default)(i).call(i,(function(e){a.removeUserFromBuffer(e,t.nick)})),this.$delete(n.users,t.nick.toLowerCase())}},addMultipleUsersToBuffer:function(e,t){var n=this,i=this.getNetwork(e.networkid),s=A.default.clone(e.users);a.usersTransaction(i.id,(function(r){(0,y.default)(t).call(t,(function(t){var o=t.user,c=t.modes,u=a.getUser(i.id,o.nick,r);u||(u=n.addUser(i,o,r)),s[u.nick.toLowerCase()]=u,u.buffers[e.id]?u.buffers[e.id].modes=c||[]:a.$set(u.buffers,e.id,{modes:c||[],buffer:e})}))})),e.users=s},addUserToBuffer:function(e,t,n){var i=this.getNetwork(e.networkid),s=a.getUser(i.id,t.nick);s?A.default.each(t,(function(e,t){s[t]!==e&&(s[t]=e)})):s=this.addUser(i,t),e.addUser(s),s.buffers[e.id]?a.$set(s.buffers[e.id],"modes",n||[]):a.$set(s.buffers,e.id,{modes:n||[],buffer:e})},removeUserFromBuffer:function(e,t){e.removeUser(t)},getBuffersWithUser:function(e,t){var n,i=this.getNetwork(e);if(!i)return[];var s=t.toLowerCase(),a=[];return(0,y.default)(n=i.buffers).call(n,(function(e){var n=e.name.toLowerCase();(e.users[s]||s===n||t===i.nick&&e.isQuery())&&a.push(e)})),a},changeUserNick:function(e,t,n){var i=this.getNetwork(e);if(i){var s=a.getUser(i.id,t);if(s){var r,o=n.toLowerCase(),c=t.toLowerCase();if(s.nick=n,c!==o)a.$set(i.users,o,i.users[c]),a.$delete(i.users,c),(0,y.default)(r=(0,d.default)(s.buffers)).call(r,(function(e){var t=s.buffers[e].buffer;a.$set(t.users,o,t.users[c]),a.$delete(t.users,c)}));var u=this.getBufferByName(i.id,t);u&&u.rename(n)}}},getStartups:function(){return s}}});return a}var j=null;function U(){return j=j||L(),j}U.create=function(){return L()},U.recreate=function(){var e;j&&(j.resetState(),j.$destroy(),(0,k.default)(e=j._watchers).call(e,0,j._watchers.length));return j=L(),j};var R=U;t.default=R,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["state"],window._kiwi_exports.libs.state=t.default?t.default:t},f79f:function(e,t,n){"use strict";n.r(t);var i=n("36dc"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},f7c0:function(e,t,n){},f803:function(e,t,n){"use strict";n.r(t);var i=n("91b5"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},f92e:function(e,t,n){"use strict";var i=n("568d"),s=n("1bd5"),a=n("2d80");a(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("65b8")),o=s(n("4573"));n("ff4d");var c=s(n("be30"));n("9736");var u=s(n("b7c6")),l=s(n("78fd")),f=s(n("3f9b")),d=s(n("b347")),p=s(n("c96d")),h=s(n("fa38")),w=s(n("62c3")),m=s(n("7a9c")),v=s(n("185a")),_=s(n("51357")),g=s(n("3b2f")),k=n("5ea5"),b=i(n("02fe")),y=i(n("8f39")),C=s(n("189e")),x=s(n("0470")),$=x.default.namespace("App.vue"),S={components:{StateBrowser:w.default,Container:v.default,ControlInput:_.default,MediaViewer:g.default},data:function(){return{startupComponent:null,hasStarted:!1,stateBrowserDrawOpen:!1,activeComponent:null,activeComponentProps:{},fallbackComponent:null,fallbackComponentProps:{},mediaviewerOpen:!1,mediaviewerUrl:"",mediaviewerComponent:null,mediaviewerComponentProps:{},mediaviewerIframe:!1,themeUrl:"",sidebarState:new k.State}},computed:{networks:function(){return this.$state.networks},network:function(){return this.$state.getActiveNetwork()},buffer:function(){return this.$state.getActiveBuffer()}},created:function(){var e=this;this.listenForActiveComponents(),this.watchForThemes(),this.initStateBrowser(),this.initMediaviewer(),this.configureFavicon(),this.listen(document,"keydown",(function(t){return e.onKeyDown(t)})),this.listen(window,"focus",(function(t){return e.onFocus(t)})),this.listen(window,"blur",(function(t){return e.onBlur(t)})),this.listen(window,"touchstart",(function(t){return e.onTouchStart(t)}))},mounted:function(){var e={welcome:l.default,customServer:d.default,kiwiBnc:p.default,znc:f.default,personal:h.default},t=this.$state.getStartups(),n=this.$state.settings.startupScreen||"personal",i=t[n]||e[n];i?this.startupComponent=i:x.default.error('Startup screen "'.concat(n,'" does not exist')),this.trackWindowDimensions()},methods:{startUp:function(e){var t=this;if($("startUp()"),e&&e.fallbackComponent&&(this.fallbackComponent=e.fallbackComponent),e&&e.fallbackComponentProps&&(this.fallbackComponentProps=e.fallbackComponentProps),!this.hasStarted){this.warnOnPageClose();var n=function e(){t.$state.$off("document.clicked",e),t.$state.$off("input.raw",e),b.requestPermission(t.$state),b.listenForNewMessages(t.$state)};this.$state.$once("document.clicked",n),this.$state.$once("input.raw",n)}this.hasStarted=!0},listenForActiveComponents:function(){var e=this;this.listen(this.$state,"active.component",(function(t,n){e.activeComponent=null,t&&(e.activeComponentProps=n,e.activeComponent=t)})),this.listen(this.$state,"active.component.toggle",(function(t,n){t===e.activeComponent?e.activeComponent=null:t&&(e.activeComponentProps=n,e.activeComponent=t)}))},watchForThemes:function(){var e=this,t=C.default.instance();this.themeUrl=C.default.themeUrl(t.currentTheme()),this.$nextTick((function(){return(0,c.default)()})),this.listen(this.$state,"theme.change",(function(){e.themeUrl=C.default.themeUrl(t.currentTheme()),e.$nextTick((function(){return(0,c.default)()}))}))},initStateBrowser:function(){var e=this;this.listen(this.$state,"statebrowser.toggle",(function(){e.stateBrowserDrawOpen=!e.stateBrowserDrawOpen})),this.listen(this.$state,"statebrowser.show",(function(){e.stateBrowserDrawOpen=!0})),this.listen(this.$state,"statebrowser.hide",(function(){e.stateBrowserDrawOpen=!1}))},initMediaviewer:function(){var e=this;this.listen(this.$state,"mediaviewer.show",(function(t){var n={};n="string"===typeof t?{url:t}:t,e.mediaviewerUrl=n.url,e.mediaviewerComponent=n.component,e.mediaviewerComponentProps=n.componentProps,e.mediaviewerIframe=n.iframe,e.mediaviewerOpen=!0})),this.listen(this.$state,"mediaviewer.hide",(function(){e.mediaviewerOpen=!1}))},configureFavicon:function(){var e=this;u.default.setOptions({width:7,height:9,color:"#ffffff",background:"#b32d2d",fallback:!0}),this.$state.$watch("ui.favicon_counter",(function(e){e?u.default.setBubble(e):u.default.reset()})),this.listen(this.$state,"message.new",(function(t){var n=t.message;!n.isHighlight||n.ignore||e.$state.ui.app_has_focus||e.$state.ui.favicon_counter++}))},trackWindowDimensions:function(){var e=this,t=function(){e.$state.ui.app_width=e.$el.clientWidth,e.$state.ui.app_height=e.$el.clientHeight,e.$state.ui.is_narrow=e.$el.clientWidth<=769};this.listen(window,"resize",t),t()},warnOnPageClose:function(){var e=this;window.onbeforeunload=function(){if(e.$state.setting("warnOnExit"))return e.$t("window_unload")},window.onunload=function(){var t;(0,o.default)(t=e.$state.networks).call(t,(function(t){t.connection.direct&&"connected"===t.state&&t.ircClient.raw("QUIT",e.$state.setting("quitMessage")||"Client Closed Connection")}))}},emitBufferPaste:function(e){this.$state.getActiveBuffer()&&null===this.activeComponent&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLSelectElement||e.target instanceof HTMLTextAreaElement||this.$state.$emit("buffer.paste",e))},emitDocumentClick:function(e){this.$state.$emit("document.clicked",e)},onTouchStart:function(e){this.$state.ui.is_touch=!0},onBlur:function(e){this.$state.ui.app_has_focus=!1},onFocus:function(e){this.$state.ui.app_has_focus=!0;var t=this.$state.getActiveBuffer();t&&t.markAsRead(!0),this.$state.ui.favicon_counter=0},onKeyDown:function(e){var t;this.$state.$emit("document.keydown",e);var n=!1;if(n=-1!==(0,r.default)(t=navigator.appVersion).call(t,"Mac")?e.metaKey:e.ctrlKey&&!e.altKey,n&&221===e.keyCode){var i=y.getNextBuffer();i&&this.$state.setActiveBuffer(i.networkid,i.name),e.preventDefault()}else if(n&&219===e.keyCode){var s=y.getPreviousBuffer();s&&this.$state.setActiveBuffer(s.networkid,s.name),e.preventDefault()}else if(n&&79===e.keyCode)this.$state.$emit("active.component.toggle",m.default),e.preventDefault();else if(n&&83===e.keyCode){var a=this.$state.getActiveNetwork();a&&a.showServerBuffer("settings"),e.preventDefault()}}}};t.default=S,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["App"],window._kiwi_exports.components.App=t.default?t.default:t},f93a:function(e,t,n){"use strict";var i=n("6cad"),s=n.n(i);s.a},f93d:function(e,t,n){"use strict";n.r(t);var i=n("b2d4"),s=n("7f44");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("6daf");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},fa38:function(e,t,n){"use strict";n.r(t);var i=n("a2f1"),s=n("b361");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("3cac");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports},faa3:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("462f")),r=i(n("e402")),o=i(n("df3a")),c={props:{},userColour:function(){var e=this.props;return e.nicklist.useColouredNicks?e.user.getColour():""},shouldShowAvatars:function(){var e=this.props;return e.nicklist.buffer.setting("nicklist_avatars")}},u={inject:{components:{default:{AwayStatusIndicator:a.default,TypingStatusIndicator:r.default,Avatar:o.default}}},props:{network:Object,user:Object,nicklist:Object,m:{default:function(){return function(){return c.props=this,c}}}}};t.default=u,window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["components"]||(window._kiwi_exports["components"]={}),window._kiwi_exports["components"]["NicklistUser"],window._kiwi_exports.components.NicklistUser=t.default?t.default:t},fb75:function(e,t,n){},fc9a:function(e,t,n){},fcde:function(e,t,n){"use strict";var i=n("1bd5"),s=n("2d80");s(t,"__esModule",{value:!0}),t.createChannelConstructor=h;var a=i(n("4573")),r=i(n("65b8")),o=i(n("a3e3")),c=i(n("acf5")),u=i(n("cc7d")),l=i(n("ba10")),f=(0,c.default)(null),d=(0,c.default)(null),p="0";function h(e,t,n){var i=e.toLowerCase();f[i]||(f[i]=w(i,t));var s=n;return s||(s=f[i].nextChannelId++),m(f[i],s)}function w(e,t){var n=new l.default;return n.sessionId="",f[e]=n,n.nextChannelId=1,n.connected=!1,n.reconnect=n.connect=function(){if(n.ws){try{n.ws.close()}catch(i){}n.ws=null}n.ws=new u.default(e),n.ws.onopen=function(){var e,i=t?"CONTROL SESSION "+t:"CONTROL START";n.ws.send((0,o.default)(e=":".concat(p," ")).call(e,i)),n.connected=!0,n.emit("open")},n.ws.onclose=function(e){n.connected=!1,n.ws=null,n.emit("close",e)},n.ws.onmessage=function(e){if(n.emit("message",e),":"===e.data[0]){var t=e.data,i=(0,r.default)(t).call(t," ");if(-1===i)return void n.emit("open."+t.substr(1));var s=t.substr(1,i-1);e.data=t.substr(i+1),n.emit("message."+s,e)}else{var a=e.data.split(" ");"SESSION"===a[0]&&(n.sessionId=a[1])}}},n.connect(),n}function m(e,t){return function(i){return d[t]?e.connected&&d[t].initChannel():d[t]=new n(i),d[t]};function n(n){var i=[],s="utf8",o=new l.default;return o.id=t,o.isOpen=!1,o.state=0,o.remoteState=0,e.on("open",(function(){e.ws.send(":"+t)})),e.on("open."+t,(function(){o.isOpen=!0,i.length&&((0,a.default)(i).call(i,(function(e){o.sendControl(e)})),i=[]),o.setEncoding(s),o.remoteState=1,o.emit("open")})),e.on("close",(function(e){o.state=3,o.remoteState=0,o.isOpen=!1,o.emit("close",e)})),e.on("message."+t,(function(e){var t,n,i;if(0===(0,r.default)(t=e.data).call(t,"control ")&&(0===(0,r.default)(n=e.data).call(n,"control connected")&&(o.remoteState=1),0===(0,r.default)(i=e.data).call(i,"control closed"))){var s=e.data.split(" ")[2];o.remoteState=0,o.emit("close",s)}1===o.remoteState&&o.emit("line",e.data)})),o.sendControl=function(n){o.isOpen?e.ws.send(":"+t+" "+n):i.push(n)},o.writeLine=function(n){o.remoteState>=1&&e.ws.send(":"+t+" "+n)},o.connect=function(){i=[],e.ws||e.reconnect();var t=n.host,s=n.port,a=n.tls||n.ssl;o.sendControl("HOST "+t+":"+(a?"+":"")+s)},o.close=function(){o.remoteState>=1&&e.ws.send(":"+t)},o.setEncoding=function(n){return s=n,e.connected&&e.ws.send(":"+t+" ENCODING "+n),!0},o.disposeSocket=function(){},o.initChannel=function(){e.ws.send(":"+t)},e.connected&&o.initChannel(),o}}window._kiwi_exports=window._kiwi_exports||{},window._kiwi_exports["libs"]||(window._kiwi_exports["libs"]={}),window._kiwi_exports["libs"]["ServerConnection"],window._kiwi_exports.libs.ServerConnection=t.default?t.default:t},fd86:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i=function(e,t){var n=t._c;return n(t.$options.c.Avatar,{tag:"component",attrs:{user:t.props.user,message:t.props.message,size:"small"}})},s=[]},fedd:function(e,t,n){"use strict";n.r(t);var i=n("edc9"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},ff31:function(e,t,n){"use strict";n.r(t);var i=n("ad51"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=s.a},ffd2:function(e,t,n){"use strict";n.r(t);var i=n("b70f"),s=n("edbf");for(var a in s)"default"!==a&&function(e){n.d(t,e,(function(){return s[e]}))}(a);n("40cd");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=o.exports}});
//# sourceMappingURL=app.a6afa5ad.js.map